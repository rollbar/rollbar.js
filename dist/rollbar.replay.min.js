/*! For license information please see rollbar.replay.min.js.LICENSE.txt */
!function(){"use strict";var e={d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{parse:function(){return Ee}});var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,o=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||r.call(e,t)};var i=function e(){var t,r,n,i,a,s=Object.create(null),u=null,l=arguments.length;for(t=0;t<l;t++)if(null!=(u=arguments[t]))for(a in u)r=s[a],s!==(n=u[a])&&(n&&o(n)?(i=r&&o(r)?r:{},s[a]=e(i,n)):void 0!==n&&(s[a]=n));return s};function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){return t===c(e)}function c(e){var t=u(e);return"object"!==t?t:e?e instanceof Error?"error":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function f(e){return l(e,"function")}function h(e){var t=u(e);return null!=e&&("object"==t||"function"==t)}function p(e){return Number.isFinite(e)}function d(e){return l(e,"error")||l(e,"exception")}var v={debug:0,info:1,warning:2,error:3,critical:4};function y(e){try{var t=new URL(e);return t.password&&(t.password="********"),t.search&&(t.search="********"),t.toString()}catch(t){return e}}function m(e){var t=function(e){if(!l(e,"string"))return;for(var t=g,r=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},o=0,i=t.key.length;o<i;++o)n[t.key[o]]=r[o]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,(function(e,r,o){r&&(n[t.q.name][r]=o)})),n}(e);return t?(""===t.anchor&&(t.source=t.source.replace("#","")),e=t.source.replace("?"+t.query,"")):"(unknown)"}var g={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function b(e,t){if(!(t=t||e.protocol)&&e.port&&(80===e.port?t="http:":443===e.port&&(t="https:")),t=t||"https:",!e.hostname)return null;var r=t+"//"+e.hostname;return e.port&&(r=r+":"+e.port),e.path&&(r+=e.path),r}function w(e,t){var r,n;try{r=JSON.stringify(e)}catch(o){if(t&&f(t))try{r=t(e)}catch(e){n=e}else n=o}return{error:n,value:r}}function k(e){var t,r;try{t=JSON.parse(e)}catch(e){r=e}return{error:r,value:t}}function S(e,t,r,n,o,i,a,s){var u={url:t||"",line:r,column:n};u.func=s.guessFunctionName(u.url,u.line),u.context=s.gatherContext(u.url,u.line);var l="undefined"!=typeof document&&document&&document.location&&document.location.href,c="undefined"!=typeof window&&window&&window.navigator&&window.navigator.userAgent;return{mode:i,message:o?String(o):e||a,url:l,stack:[u],useragent:c}}function x(e,t){return function(r,n){try{t(r,n)}catch(t){e.error(t)}}}function C(e){return function e(t,r){var n,o,i,a={};try{for(o in t)(n=t[o])&&(l(n,"object")||l(n,"array"))?r.includes(n)?a[o]="Removed circular reference: "+c(n):((i=r.slice()).push(n),a[o]=e(n,i)):a[o]=n}catch(e){a="Failed cloning custom data: "+e.message}return a}(e,[e])}function I(e,t,r,n,o){for(var i,a,s,u,l,f,h=[],p=[],d=0,v=e.length;d<v;++d){var y=c(f=e[d]);switch(p.push(y),y){case"undefined":break;case"string":i?h.push(f):i=f;break;case"function":u=x(t,f);break;case"date":h.push(f);break;case"error":case"domexception":case"exception":a?h.push(f):a=f;break;case"object":case"array":if(f instanceof Error||"undefined"!=typeof DOMException&&f instanceof DOMException){a?h.push(f):a=f;break}if(n&&"object"===y&&!l){for(var m=0,g=n.length;m<g;++m)if(void 0!==f[n[m]]){l=f;break}if(l)break}s?h.push(f):s=f;break;default:if(f instanceof Error||"undefined"!=typeof DOMException&&f instanceof DOMException){a?h.push(f):a=f;break}h.push(f)}}s&&(s=C(s)),h.length>0&&(s||(s=C({})),s.extraArgs=C(h));var b,w={message:i,err:a,custom:s,timestamp:P(),callback:u,notifier:r,diagnostic:{},uuid:(b=P(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(b+16*Math.random())%16|0;return b=Math.floor(b/16),("x"===e?t:7&t|8).toString(16)})))};return w.data=w.data||{},function(e,t){t&&void 0!==t.level&&(e.level=t.level,delete t.level);t&&void 0!==t.skipFrames&&(e.skipFrames=t.skipFrames,delete t.skipFrames)}(w,s),n&&l&&(w.request=l),o&&(w.lambdaContext=o),w._originalArgs=e,w.diagnostic.original_arg_types=p,w}var O=["log","network","dom","navigation","error","manual"],E=["critical","error","warning","info","debug"];function _(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1}function A(e,t){e.attributes=e.attributes||[];var r,n=a(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;void 0!==o.value&&e.attributes.push(o)}}catch(e){n.e(e)}finally{n.f()}}function R(e,t){if(e){var r=t.split("."),n=e;try{for(var o=0,i=r.length;o<i;++o)n=n[r[o]]}catch(e){n=void 0}return n}}function T(e,t,r){if(e){Object.setPrototypeOf(e,null);var n=t.split("."),o=n.length;if(!(o<1))if(1!==o)try{for(var i=e[n[0]]||{},a=i,s=1;s<o-1;++s)i[n[s]]=i[n[s]]||{},i=i[n[s]];i[n[o-1]]=r,e[n[0]]=a}catch(e){return}else e[n[0]]=r}}function P(){return Date.now?+Date.now():+new Date}function M(e,t,r,n){var o=i(e,t,r);return o=function(e,t){e.hostWhiteList&&!e.hostSafeList&&(e.hostSafeList=e.hostWhiteList,e.hostWhiteList=void 0,t&&t.log("hostWhiteList is deprecated. Use hostSafeList."));e.hostBlackList&&!e.hostBlockList&&(e.hostBlockList=e.hostBlackList,e.hostBlackList=void 0,t&&t.log("hostBlackList is deprecated. Use hostBlockList."));return e}(o,n),!t||t.overwriteScrubFields||t.scrubFields&&(o.scrubFields=(e.scrubFields||[]).concat(t.scrubFields)),o}function j(e){this.startTime=P(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(e)}function L(e,t,r){return!e.ignoreRateLimit&&t>=1&&r>t}function N(e,t,r,n,o,i,a){var s=null;return r&&(r=new Error(r)),r||n||(s=function(e,t,r,n,o){var i,a=t.environment||t.payload&&t.payload.environment;i=o?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.";var s={body:{message:{body:i,extra:{maxItems:r,itemsPerMinute:n}}},language:"javascript",environment:a,notifier:{version:t.notifier&&t.notifier.version||t.version}};"browser"===e?(s.platform="browser",s.framework="browser-js",s.notifier.name="rollbar-browser-js"):"server"===e?(s.framework=t.framework||"node-js",s.notifier.name=t.notifier.name):"react-native"===e&&(s.framework=t.framework||"react-native",s.notifier.name=t.notifier.name);return s}(e,t,o,i,a)),{error:r,shouldSend:n,payload:s}}j.globalSettings={startTime:P(),maxItems:void 0,itemsPerMinute:void 0},j.prototype.configureGlobal=function(e){void 0!==e.startTime&&(j.globalSettings.startTime=e.startTime),void 0!==e.maxItems&&(j.globalSettings.maxItems=e.maxItems),void 0!==e.itemsPerMinute&&(j.globalSettings.itemsPerMinute=e.itemsPerMinute)},j.prototype.shouldSend=function(e,t){var r=(t=t||P())-this.startTime;(r<0||r>=6e4)&&(this.startTime=t,this.perMinCounter=0);var n=j.globalSettings.maxItems,o=j.globalSettings.itemsPerMinute;if(L(e,n,this.counter))return N(this.platform,this.platformOptions,n+" max items reached",!1);if(L(e,o,this.perMinCounter))return N(this.platform,this.platformOptions,o+" items per minute reached",!1);this.counter++,this.perMinCounter++;var i=!L(e,n,this.counter),a=i;return i=i&&!L(e,o,this.perMinCounter),N(this.platform,this.platformOptions,null,i,n,o,a)},j.prototype.setPlatformOptions=function(e,t){this.platform=e,this.platformOptions=t};var D=j;function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B(n.key),n)}}function B(e){var t=function(e,t){if("object"!=F(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F(t)?t:t+""}var z,W,G,V=function(){function e(t,r,n,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.rateLimiter=t,this.api=r,this.logger=n,this.options=o,this.replay=i,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}return t=e,r=[{key:"configure",value:function(e){var t;null===(t=this.api)||void 0===t||t.configure(e);var r=this.options;return this.options=i(r,e),this}},{key:"addPredicate",value:function(e){return f(e)&&this.predicates.push(e),this}},{key:"addPendingItem",value:function(e){this.pendingItems.push(e)}},{key:"removePendingItem",value:function(e){var t=this.pendingItems.indexOf(e);-1!==t&&this.pendingItems.splice(t,1)}},{key:"addItem",value:function(e,t,r,n){var o=this;t&&f(t)||(t=function(){});var i=e.data,a=this._applyPredicates(i);if(a.stop)return this.removePendingItem(n),void t(a.err);if(this._maybeLog(i,r),this.removePendingItem(n),this.options.transmit){this.replay&&i.body&&(e.replayId=this.replay.capture(null,i.uuid,{type:"occurrence",level:e.level}),e.replayId&&A(e.data,[{key:"replay_id",value:e.replayId}])),this.pendingRequests.push(i);try{this._makeApiRequest(i,(function(r,n,a){o._dequeuePendingRequest(i),e.replayId&&o.replay.sendOrDiscardReplay(e.replayId,r,n,a),t(r,n)}))}catch(r){var s;this._dequeuePendingRequest(i),e.replayId&&(null===(s=this.replay)||void 0===s||s.discard(e.replayId)),t(r)}}else t(new Error("Transmit disabled"))}},{key:"wait",value:function(e){var t=this;f(e)&&(this.waitCallback=e,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval((function(){t._maybeCallWait()}),500)))}},{key:"_applyPredicates",value:function(e){for(var t=null,r=0,n=this.predicates.length;r<n;r++)if(!(t=this.predicates[r](e,this.options))||void 0!==t.err)return{stop:!0,err:t.err};return{stop:!1,err:null}}},{key:"_makeApiRequest",value:function(e,t){var r=this,n=this.rateLimiter.shouldSend(e);n.shouldSend?this.api.postItem(e,(function(n,o,i){n?r._maybeRetry(n,e,t):t(n,o,i)})):n.error?t(n.error):this.api.postItem(n.payload,t)}},{key:"_maybeRetry",value:function(t,r,n){var o=!1;if(this.options.retryInterval){for(var i=0,a=e.RETRIABLE_ERRORS.length;i<a;i++)if(t.code===e.RETRIABLE_ERRORS[i]){o=!0;break}o&&p(this.options.maxRetries)&&(r.retries=r.retries?r.retries+1:1,r.retries>this.options.maxRetries&&(o=!1))}o?this._retryApiRequest(r,n):n(t)}},{key:"_retryApiRequest",value:function(e,t){var r=this;this.retryQueue.push({item:e,callback:t}),this.retryHandle||(this.retryHandle=setInterval((function(){for(;r.retryQueue.length;){var e=r.retryQueue.shift();r._makeApiRequest(e.item,e.callback)}}),this.options.retryInterval))}},{key:"_dequeuePendingRequest",value:function(e){var t=this.pendingRequests.indexOf(e);-1!==t&&(this.pendingRequests.splice(t,1),this._maybeCallWait())}},{key:"_maybeLog",value:function(e,t){if(this.logger&&this.options.verbose){var r=t||R(e,"body.trace.exception.message")||R(e,"body.trace_chain.0.exception.message");if(r)return void this.logger.error(r);(r=R(e,"body.message.body"))&&this.logger.log(r)}}},{key:"_maybeCallWait",value:function(){return!(!f(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))}}],r&&U(t.prototype,r),n&&U(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();z=V,G=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"],(W=B(W="RETRIABLE_ERRORS"))in z?Object.defineProperty(z,W,{value:G,enumerable:!0,configurable:!0,writable:!0}):z[W]=G;var H=V;function q(e,t){this.queue=e,this.options=t,this.transforms=[],this.diagnostic={}}q.prototype.configure=function(e){this.queue&&this.queue.configure(e);var t=this.options;return this.options=i(t,e),this},q.prototype.addTransform=function(e){return f(e)&&this.transforms.push(e),this},q.prototype.log=function(e,t){if(t&&f(t)||(t=function(){}),!this.options.enabled)return t(new Error("Rollbar is not enabled"));this.queue.addPendingItem(e);var r=e.err;this._applyTransforms(e,function(n,o){if(n)return this.queue.removePendingItem(e),t(n,null);this.queue.addItem(o,t,r,e)}.bind(this))},q.prototype._applyTransforms=function(e,t){var r=-1,n=this.transforms.length,o=this.transforms,i=this.options,a=function(e,s){e?t(e,null):++r!==n?o[r](s,i,a):t(null,s)};a(null,e)};var J=q;function Z(e,t,r,n,o,a,s){this.options=i(e),this.logger=r,Z.rateLimiter.configureGlobal(this.options),Z.rateLimiter.setPlatformOptions(s,this.options),this.api=t,this.queue=new H(Z.rateLimiter,t,r,this.options,a),this.tracing=o;var u=this.options.tracer||null;X(u)?(this.tracer=u,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new J(this.queue,this.options),this.telemeter=n,Y(e),this.lastError=null,this.lastErrorHash="none"}function Y(e){e.stackTraceLimit&&(Error.stackTraceLimit=e.stackTraceLimit)}function X(e){if(!e)return!1;if(!e.scope||"function"!=typeof e.scope)return!1;var t=e.scope();return!(!t||!t.active||"function"!=typeof t.active)}Z.rateLimiter=new D({maxItems:0,itemsPerMinute:60}),Z.prototype.global=function(e){return Z.rateLimiter.configureGlobal(e),this},Z.prototype.configure=function(e,t){var r=this.options,n={};t&&(n={payload:t}),this.options=i(r,e,n);var o=this.options.tracer||null;return X(o)?(this.tracer=o,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),Y(e),this.global(this.options),X(e.tracer)&&(this.tracer=e.tracer),this},Z.prototype.log=function(e){var t=this._defaultLogLevel();return this._log(t,e)},Z.prototype.debug=function(e){this._log("debug",e)},Z.prototype.info=function(e){this._log("info",e)},Z.prototype.warn=function(e){this._log("warning",e)},Z.prototype.warning=function(e){this._log("warning",e)},Z.prototype.error=function(e){this._log("error",e)},Z.prototype.critical=function(e){this._log("critical",e)},Z.prototype.wait=function(e){this.queue.wait(e)},Z.prototype.captureEvent=function(e,t,r){return this.telemeter&&this.telemeter.captureEvent(e,t,r)},Z.prototype.captureDomContentLoaded=function(e){return this.telemeter&&this.telemeter.captureDomContentLoaded(e)},Z.prototype.captureLoad=function(e){return this.telemeter&&this.telemeter.captureLoad(e)},Z.prototype.buildJsonPayload=function(e){return this.api.buildJsonPayload(e)},Z.prototype.sendJsonPayload=function(e){this.api.postJsonPayload(e)},Z.prototype._log=function(e,t){var r;if(t.callback&&(r=t.callback,delete t.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(t)){if(r){var n=new Error("ignored identical item");n.item=t,r(n)}}else try{t.level=t.level||e,this._addTracingAttributes(t),this._addTracingInfo(t);var o=this.telemeter;o&&(o._captureRollbarItem(t),t.telemetryEvents=o.copyEvents()||[]),this.notifier.log(t,r)}catch(e){r&&r(e),this.logger.error(e)}},Z.prototype._addTracingAttributes=function(e){var t,r,n=null===(t=this.tracing)||void 0===t?void 0:t.getSpan(),o=[{key:"session_id",value:null===(r=this.tracing)||void 0===r?void 0:r.sessionId},{key:"span_id",value:null==n?void 0:n.spanId},{key:"trace_id",value:null==n?void 0:n.traceId}];A(e.data,o),null==n||n.addEvent("rollbar.occurrence",[{key:"rollbar.occurrence.uuid",value:e.uuid}])},Z.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},Z.prototype._sameAsLastError=function(e){if(!e._isUncaught)return!1;var t=function(e){var t=e.message||"",r=(e.err||{}).stack||String(e.err);return t+"::"+r}(e);return this.lastErrorHash===t||(this.lastError=e.err,this.lastErrorHash=t,!1)},Z.prototype._addTracingInfo=function(e){if(this.tracer){var t=this.tracer.scope().active();if(function(e){if(!e||!e.context||"function"!=typeof e.context)return!1;var t=e.context();if(!t||!t.toSpanId||!t.toTraceId||"function"!=typeof t.toSpanId||"function"!=typeof t.toTraceId)return!1;return!0}(t)){t.setTag("rollbar.error_uuid",e.uuid),t.setTag("rollbar.has_error",!0),t.setTag("error",!0),t.setTag("rollbar.item_url","https://rollbar.com/item/uuid/?uuid=".concat(e.uuid)),t.setTag("rollbar.occurrence_url","https://rollbar.com/occurrence/uuid/?uuid=".concat(e.uuid));var r=t.context().toSpanId(),n=t.context().toTraceId();e.custom?(e.custom.opentracing_span_id=r,e.custom.opentracing_trace_id=n):e.custom={opentracing_span_id:r,opentracing_trace_id:n}}}};var K=Z;function $(e){if(!l(e.context,"string")){var t=w(e.context);t.error?e.context="Error: could not serialize 'context'":e.context=t.value||"",e.context.length>255&&(e.context=e.context.substr(0,255))}return{data:e}}function Q(e,t,r){var n=t.hostname,o=t.protocol,i=t.port,a=t.path,s=t.search,u=e.timeout,l=function(e){var t="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,r=e.defaultTransport||"xhr";void 0===t.fetch&&(r="xhr");void 0===t.XMLHttpRequest&&(r="fetch");return r}(e),c=e.proxy;if(e.endpoint){var f=r.parse(e.endpoint);n=f.hostname,o=f.protocol,i=f.port,a=f.pathname,s=f.search}return{timeout:u,hostname:n,protocol:o,port:i,path:a,search:s,proxy:c,transport:l}}function ee(e,t){var r=e.protocol||"https:",n=e.port||("http:"===r?80:"https:"===r?443:void 0),o=e.hostname,i=e.path,a=e.timeout,s=e.transport;return e.search&&(i+=e.search),e.proxy&&(i=r+"//"+o+i,o=e.proxy.host||e.proxy.hostname,n=e.proxy.port,r=e.proxy.protocol||r),{timeout:a,protocol:r,hostname:o,path:i,port:n,method:t,transport:s}}function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(){ie=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new R(n||[]);return o(a,"_invoke",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==r&&n.call(S,a)&&(w=S);var x=b.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==te(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(c).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=E(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(te(t)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(I.prototype),l(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new I(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function ae(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}var se={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443},ue={hostname:"api.rollbar.com",path:"/api/1/session/",search:null,version:"1",protocol:"https:",port:443};function le(e,t,r,n){this.options=e,this.transport=t,this.url=r,this.truncation=n,this.accessToken=e.accessToken,this.transportOptions=ce(e,r),this.OTLPTransportOptions=fe(e,r)}function ce(e,t){return Q(e,se,t)}function fe(e,t){var r;return Q(e=ne(ne({},e),{},{endpoint:null===(r=e.tracing)||void 0===r?void 0:r.endpoint}),ue,t)}le.prototype._postPromise=function(e){var t=e.accessToken,r=e.options,n=e.payload,o=e.headers,i=this;return new Promise((function(e,a){i.transport.post({accessToken:t,options:r,payload:n,headers:o,callback:function(t,r){return t?a(t):e(r)}})}))},le.prototype.postItem=function(e,t){var r=ee(this.transportOptions,"POST"),n=$(e),o=this;setTimeout((function(){o.transport.post({accessToken:o.accessToken,options:r,payload:n,callback:t})}),0)},le.prototype.postSpans=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ae(i,n,o,a,s,"next",e)}function s(e){ae(i,n,o,a,s,"throw",e)}a(void 0)}))}}(ie().mark((function e(t){var r,n,o=arguments;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n=ee(this.OTLPTransportOptions,"POST"),e.next=4,this._postPromise({accessToken:this.accessToken,options:n,payload:t,headers:r});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),le.prototype.buildJsonPayload=function(e,t){var r,n=$(e);return(r=this.truncation?this.truncation.truncate(n):w(n)).error?(t&&t(r.error),null):r.value},le.prototype.postJsonPayload=function(e,t){var r=ee(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,r,e,t)},le.prototype.configure=function(e){var t=this.oldOptions;return this.options=i(t,e),this.transportOptions=ce(this.options,this.url),this.OTLPTransportOptions=fe(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this};var he=le,pe=function(){},de={debug:0,info:1,warn:2,error:3,disable:4},ve={error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return pe("error",t)},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return pe("warn",t)},info:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return pe("info",t)},debug:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return pe("debug",t)},log:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return pe("info",t)},init:function(e){var t=e.logLevel;pe=function(e,r){de[e]<de[t]||(r.unshift("Rollbar:"),console[e].apply(console,r))}}},ye=ve;function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=me(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==me(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var we=function(e){var t,r,n=e.accessToken,o=e.url,i=e.method,a=e.payload,s=e.headers,u=e.callback,l=e.timeout;p(l)&&(t=new AbortController,r=setTimeout((function(){t.abort()}),l)),s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({"Content-Type":"application/json","X-Rollbar-Access-Token":n,signal:t&&t.signal},s),fetch(o,{method:i,headers:s,body:a}).then((function(e){r&&clearTimeout(r);var t=e.headers,n=o.endsWith("/api/1/item/")?{"Rollbar-Replay-Enabled":t.get("Rollbar-Replay-Enabled"),"Rollbar-Replay-RateLimit-Remaining":t.get("Rollbar-Replay-RateLimit-Remaining"),"Rollbar-Replay-RateLimit-Reset":t.get("Rollbar-Replay-RateLimit-Reset")}:{},i=e.json();u(null,i,n)})).catch((function(e){ye.error(e.message),u(e)}))};function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function xe(e,t){var r=new Error(e);return r.code=t||"ENOTFOUND",r}var Ce=function(e){var t,r=e.accessToken,n=e.url,o=e.method,i=e.payload,a=e.headers,s=e.callback,u=e.requestFactory,c=e.timeout;if(!(t=u?u():function(){var e,t,r=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=r.length;for(t=0;t<n;t++)try{e=r[t]();break}catch(e){}return e}()))return s(new Error("No way to send a request"));try{try{var f=function(){try{if(f&&4===t.readyState){f=void 0;var e=k(t.responseText);if(function(e){return e&&e.status&&200===e.status}(t)){var r=n.endsWith("/api/1/item/")?{"Rollbar-Replay-Enabled":t.getResponseHeader("Rollbar-Replay-Enabled"),"Rollbar-Replay-RateLimit-Remaining":t.getResponseHeader("Rollbar-Replay-RateLimit-Remaining"),"Rollbar-Replay-RateLimit-Reset":t.getResponseHeader("Rollbar-Replay-RateLimit-Reset")}:{};return void s(e.error,e.value,r)}if(function(e){return e&&l(e.status,"number")&&e.status>=400&&e.status<600}(t)){if(403===t.status){var o=e.value&&e.value.message;ye.error(o)}s(new Error(String(t.status)))}else{s(xe("XHR response had no status code (likely connection failure)"))}}}catch(e){var i;i=e&&e.stack?e:new Error(e),s(i)}};if(t.open(o,n,!0),t.setRequestHeader){t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("X-Rollbar-Access-Token",r);for(var h=0,d=Object.entries(null!=a?a:{});h<d.length;h++){var v=ke(d[h],2),y=v[0],m=v[1];t.setRequestHeader(y,m)}}p(c)&&(t.timeout=c),t.onreadystatechange=f,t.send(i)}catch(e){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return s(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===n.substring(0,5)&&(n="http"+n.substring(5));var g=new XDomainRequest;g.onprogress=function(){},g.ontimeout=function(){s(xe("Request timed out","ETIMEDOUT"))},g.onerror=function(){s(new Error("Error during request"))},g.onload=function(){var e=k(g.responseText);s(e.error,e.value)},g.open(o,n,!0),g.send(i)}else s(new Error("Cannot find a method to transport a request"))}}catch(e){s(e)}};function Ie(e){this.truncation=e}Ie.prototype.get=function(e,t,r,n,o){n&&f(n)||(n=function(){}),function(e,t,r){(r=r||{}).access_token=e;var n,o=[];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&o.push([n,r[n]].join("="));var i="?"+o.sort().join("&");(t=t||{}).path=t.path||"";var a,s=t.path.indexOf("?"),u=t.path.indexOf("#");-1!==s&&(-1===u||u>s)?(a=t.path,t.path=a.substring(0,s)+i+"&"+a.substring(s+1)):-1!==u?(a=t.path,t.path=a.substring(0,u)+i+a.substring(u)):t.path=t.path+i}(e,t,r);var i=b(t);this._makeZoneRequest({accessToken:e,url:i,method:"GET",callback:n,requestFactory:o,timeout:t.timeout,transport:t.transport})},Ie.prototype.post=function(e){var t=this,r=e.accessToken,n=e.options,o=e.payload,i=e.headers,a=e.callback,s=e.requestFactory;return function(e){if(a&&f(a)||(a=function(){}),!e)return a(new Error("Cannot send empty request"));var o;if((o=t.truncation&&e.body?t.truncation.truncate(e):w(e)).error)return a(o.error);e=o.value;var u=b(n);t._makeZoneRequest({accessToken:r,url:u,method:"POST",payload:e,headers:i,callback:a,requestFactory:s,timeout:n.timeout,transport:n.transport})}(o)},Ie.prototype.postJsonPayload=function(e,t,r,n,o){n&&f(n)||(n=function(){});var i=b(t);this._makeZoneRequest({accessToken:e,url:i,method:"POST",payload:r,callback:n,requestFactory:o,timeout:t.timeout,transport:t.transport})},Ie.prototype._makeZoneRequest=function(){var e="undefined"!=typeof window&&window||void 0!==n&&n,t=e&&e.Zone&&e.Zone.root,r=Array.prototype.slice.call(arguments);if(t){var n=this;t.run((function(){n._makeRequest.apply(void 0,r)}))}else this._makeRequest.apply(void 0,r)},Ie.prototype._makeRequest=function(e){var t=e.payload,r=e.callback,n=e.transport;if("undefined"!=typeof RollbarProxy)return function(e,t){(new RollbarProxy).sendJsonPayload(e,(function(e){}),(function(e){t(new Error(e))}))}(t,r);"fetch"===n?we(e):Ce(e)};var Oe=Ie;function Ee(e){var t,r,n={protocol:null,auth:null,host:null,path:null,hash:null,href:e,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(t=e.indexOf("//"))?(n.protocol=e.substring(0,t),r=t+2):r=0,-1!==(t=e.indexOf("@",r))&&(n.auth=e.substring(r,t),r=t+1),-1===(t=e.indexOf("/",r))){if(-1===(t=e.indexOf("?",r)))return-1===(t=e.indexOf("#",r))?n.host=e.substring(r):(n.host=e.substring(r,t),n.hash=e.substring(t)),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),n;n.host=e.substring(r,t),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=t}else n.host=e.substring(r,t),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=t;if(-1===(t=e.indexOf("#",r))?n.path=e.substring(r):(n.path=e.substring(r,t),n.hash=e.substring(t)),n.path){var o=n.path.split("?");n.pathname=o[0],n.query=o[1],n.search=n.query?"?"+n.query:null}return n}var _e=/(^|@)\S+:\d+/,Ae=/^\s*at .*(\S+:\d+|\(native\))/m,Re=/^(eval@)?(\[native code\])?$/;function Te(e,t){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return function(e,t){return!e.stacktrace||e.message.includes("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?function(e,t){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),o=[],i=2,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push({file:s[2],line:+s[1],raw:n[i]})}return Me(o,t)}(e):e.stack?function(e,t){var r=Me(e.stack.split("\n").filter((function(e){return!!e.match(_e)&&!e.match(/^Error created at/)})),t);return r.map((function(e){var t,r=e.split("@"),n=Pe(r.pop()),o=r.shift()||"",i=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return o.match(/\(([^)]*)\)/)&&(t=o.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{function:i,args:void 0===t||"[arguments not available]"===t?void 0:t.split(","),file:n[0],line:n[1]?+n[1]:void 0,col:n[2]?+n[2]:void 0,raw:e}}))}(e,t):function(e,t){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),o=[],i=0,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push({function:s[3]||void 0,file:s[2],line:s[1]?+s[1]:void 0,raw:n[i]})}return Me(o,t)}(e)}(e,t);if(e.stack&&e.stack.match(Ae))return function(e,t){return je(e.stack,t)}(e,t);if(e.stack)return function(e,t){return Le(e.stack,t)}(e,t);if(null!=t&&t.allowEmpty)return[];throw new Error("Cannot parse given Error object")}function Pe(e){if(!e.includes(":"))return[e,void 0,void 0];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]}function Me(e,t){return t&&null!=t.slice?Array.isArray(t.slice)?e.slice(t.slice[0],t.slice[1]):e.slice(0,t.slice):e}function je(e,t){return Me(e.split("\n").filter((function(e){return!!e.match(Ae)})),t).map((function(e){e.includes("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),r=t.match(/ (\(.+\)$)/);t=r?t.replace(r[0],""):t;var n=Pe(r?r[1]:t);return{function:r&&t||void 0,file:["eval","<anonymous>"].includes(n[0])?void 0:n[0],line:n[1]?+n[1]:void 0,col:n[2]?+n[2]:void 0,raw:e}}))}function Le(e,t){return Me(e.split("\n").filter((function(e){return!e.match(Re)})),t).map((function(e){if(e.includes(" > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),e.includes("@")||e.includes(":")){var t=/(([^\n\r"\u2028\u2029]*".[^\n\r"\u2028\u2029]*"[^\n\r@\u2028\u2029]*(?:@[^\n\r"\u2028\u2029]*"[^\n\r@\u2028\u2029]*)*(?:[\n\r\u2028\u2029][^@]*)?)?[^@]*)@/,r=e.match(t),n=r&&r[1]?r[1]:void 0,o=Pe(e.replace(t,""));return{function:n,file:o[0],line:o[1]?+o[1]:void 0,col:o[2]?+o[2]:void 0,raw:e}}return{function:e}}))}function Ne(e){return e.map((function(e){return{functionName:e.function,args:e.args,fileName:e.file,lineNumber:e.line,columnNumber:e.col,source:e.raw}}))}var De=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function Fe(){return null}function Ue(e){var t={};return t._stackFrame=e,t.url=e.fileName,t.line=e.lineNumber,t.func=e.functionName,t.column=e.columnNumber,t.args=e.args,t.context=null,t}function Be(e,t){return{stack:function(){var r=[];t=t||0;try{r=function(e,t){return Ne(Te(e,t))}(e)}catch(e){r=[]}for(var n=[],o=t;o<r.length;o++)n.push(new Ue(r[o]));return n}(),message:e.message,name:ze(e),rawStack:e.stack,rawException:e}}function ze(e){var t=e.name&&e.name.length&&e.name,r=e.constructor.name&&e.constructor.name.length&&e.constructor.name;return t&&r?"Error"===t?r:t:t||r}var We={guessFunctionName:function(){return"?"},guessErrorClass:function(e){if(!e||!e.match)return["Unknown error. There was no error message to display.",""];var t=e.match(De),r="(unknown)";return t&&(r=t[t.length-1],e=(e=e.replace((t[t.length-2]||"")+r+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[r,e]},gatherContext:Fe,parse:function(e,t){var r=e;if(r.nested||r.cause){for(var n=[];r;)n.push(new Be(r,t)),r=r.nested||r.cause,t=0;return n[0].traceChain=n,n[0]}return new Be(r,t)},Stack:Be,Frame:Ue};function Ge(e,t,r){if(e.err&&"DOMException"===We.Stack(e.err).name){var n=new Error;n.name=e.err.name,n.message=e.err.message,n.stack=e.err.stack,n.nested=e.err,e.err=n}r(null,e)}function Ve(e,t,r){if(e.data=e.data||{},e.err)try{e.stackInfo=e.err._savedStackTrace||We.parse(e.err,e.skipFrames),t.addErrorContext&&function(e){var t=[],r=e.err;t.push(r);for(;r.nested||r.cause;)r=r.nested||r.cause,t.push(r);!function(e,t){var r=e.data.custom||{},n=!1;try{for(var o=0;o<t.length;++o)t[o].hasOwnProperty("rollbarContext")&&(r=i(r,C(t[o].rollbarContext)),n=!0);n&&(e.data.custom=r)}catch(t){e.diagnostic.error_context="Failed: "+t.message}}(e,t)}(e)}catch(t){ye.error("Error while parsing the error object.",t);try{e.message=e.err.message||e.err.description||e.message||String(e.err)}catch(t){e.message=String(e.err)||String(t)}delete e.err}r(null,e)}function He(e,t,r){e.message||e.stackInfo||e.custom||r(new Error("No message, stack info, or custom data"),null),r(null,e)}function qe(e,t,r){var n=t.payload&&t.payload.environment||t.environment;e.data=i(e.data,{environment:n,level:e.level,endpoint:t.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:e.uuid,notifier:{name:"rollbar-browser-js",version:t.version},custom:e.custom}),r(null,e)}function Je(e,t,r){e.stackInfo?e.stackInfo.traceChain?function(e,t,r){for(var n=e.stackInfo.traceChain,o=[],i=n.length,a=0;a<i;a++){var s=Xe(e,n[a],t);o.push(s)}T(e,"data.body",{trace_chain:o}),r(null,e)}(e,t,r):function(e,t,r){var n=Ye(e);if(n){T(e,"data.body",{trace:Xe(e,e.stackInfo,t)}),r(null,e)}else{var o=e.stackInfo,i=We.guessErrorClass(o.message),a=Ke(o,i[0],t),s=i[1];e.message=a+": "+s,Ze(e,t,r)}}(e,t,r):Ze(e,t,r)}function Ze(e,t,r){var n=e.message,o=e.custom;n||(n="Item sent with null or missing arguments.");var a={body:n};o&&(a.extra=i(o)),T(e,"data.body",{message:a}),r(null,e)}function Ye(e){var t=e.stackInfo.stack;return t&&0===t.length&&e._unhandledStackInfo&&e._unhandledStackInfo.stack&&(t=e._unhandledStackInfo.stack),t}function Xe(e,t,r){var n=e&&e.data.description,o=e&&e.custom,a=Ye(e),s=We.guessErrorClass(t.message),u={exception:{class:Ke(t,s[0],r),message:s[1]}};if(n&&(u.exception.description=n),a){var l,c,f,h,p,d,v,y;for(0===a.length&&(u.exception.stack=t.rawStack,u.exception.raw=String(t.rawException)),u.frames=[],v=0;v<a.length;++v)c={filename:(l=a[v]).url?m(l.url):"(unknown)",lineno:l.line||null,method:l.func&&"?"!==l.func?l.func:"[anonymous]",colno:l.column},r.sendFrameUrl&&(c.url=l.url),c.method&&c.method.endsWith&&c.method.endsWith("_rollbar_wrapped")||(f=h=p=null,(d=l.context?l.context.length:0)&&(y=Math.floor(d/2),h=l.context.slice(0,y),f=l.context[y],p=l.context.slice(y)),f&&(c.code=f),(h||p)&&(c.context={},h&&h.length&&(c.context.pre=h),p&&p.length&&(c.context.post=p)),l.args&&(c.args=l.args),u.frames.push(c));u.frames.reverse(),o&&(u.extra=i(o))}return u}function Ke(e,t,r){return e.name?e.name:r.guessErrorClass?t:"(unknown)"}function $e(e,t,r){e._isUncaught&&(e.data._isUncaught=!0),e._originalArgs&&(e.data._originalArgs=e._originalArgs),r(null,e)}function Qe(e,t,r){var n=t.payload||{};n.body&&delete n.body,e.data=i(e.data,n),r(null,e)}function et(e,t,r){e.telemetryEvents&&T(e,"data.body.telemetry",e.telemetryEvents),r(null,e)}function tt(e,t,r){if(e.message){var n="data.body.trace_chain.0",o=R(e,n);if(o||(o=R(e,n="data.body.trace")),o){if(!o.exception||!o.exception.description)return T(e,n+".exception.description",e.message),void r(null,e);var a=R(e,n+".extra")||{};T(e,n+".extra",i(a,{message:e.message}))}r(null,e)}else r(null,e)}function rt(e){return function(t,r,n){var o,a=i(t),s=null;try{f(r.transform)&&(s=r.transform(a.data,t))}catch(o){return r.transform=null,e.error("Error while calling custom transform() function. Removing custom transform().",o),void n(null,t)}h(o=s)&&l(o.then,"function")?s.then((function(e){e&&(a.data=e),n(null,a)}),(function(e){n(e,t)})):n(null,a)}}function nt(e,t,r){if(!t.sendConfig)return r(null,e);var n=R(e,"data.custom")||{};n._rollbarConfig=t,e.data.custom=n,r(null,e)}function ot(e,t){f(e[t])&&(e[t]=e[t].toString())}function it(e,t,r){var n=t._configuredOptions;ot(n,"transform"),ot(n,"checkIgnore"),ot(n,"onSendCallback"),delete n.accessToken,e.data.notifier.configured_options=n,r(null,e)}function at(e,t,r){var n=i(e.notifier.client.notifier.diagnostic,e.diagnostic);if(R(e,"err._isAnonymous")&&(n.is_anonymous=!0),e._isUncaught&&(n.is_uncaught=e._isUncaught),e.err)try{n.raw_error={message:e.err.message,name:e.err.name,constructor_name:e.err.constructor&&e.err.constructor.name,filename:e.err.fileName,line:e.err.lineNumber,column:e.err.columnNumber,stack:e.err.stack}}catch(e){n.raw_error={failed:String(e)}}e.data.notifier.diagnostic=i(e.data.notifier.diagnostic,n),r(null,e)}function st(e,t){return!R(t,"plugins.jquery.ignoreAjaxErrors")||!R(e,"body.message.extra.isAjax")}function ut(e,t){var r=e.level,n=v[r]||0,o=t.reportLevel;return!(n<(v[o]||0))}function lt(e,t,r){if(!e)return!r;var n,o,i=e.frames;if(!i||0===i.length)return!r;for(var a=t.length,s=i.length,u=0;u<s;u++){if(!l(n=i[u].filename,"string"))return!r;for(var c=0;c<a;c++)if(o=t[c],new RegExp(o).test(n))return!0}return!1}function ct(e,t,r,n){var o,i,a=!1;"blocklist"===r&&(a=!0);try{if(o=a?t.hostBlockList:t.hostSafeList,i=R(e,"body.trace_chain")||[R(e,"body.trace")],!o||0===o.length)return!a;if(0===i.length||!i[0])return!a;for(var s=i.length,u=0;u<s;u++)if(lt(i[u],o,a))return!0}catch(e){a?t.hostBlockList=null:t.hostSafeList=null;var l=a?"hostBlockList":"hostSafeList";return n.error("Error while reading your configuration's "+l+" option. Removing custom "+l+".",e),!a}return!1}function ft(e){return function(t,r){var n,o,i,a,s,u;try{if(!(i=r.ignoredMessages)||0===i.length)return!0;if(u=function(e){var t=e.body,r=[];if(t.trace_chain)for(var n=t.trace_chain,o=0;o<n.length;o++){var i=n[o];r.push(R(i,"exception.message"))}t.trace&&r.push(R(t,"trace.exception.message"));t.message&&r.push(R(t,"message.body"));return r}(t),0===u.length)return!0;for(a=i.length,n=0;n<a;n++)for(s=new RegExp(i[n],"gi"),o=0;o<u.length;o++)if(s.test(u[o]))return!1}catch(t){r.ignoredMessages=null,e.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}var ht="3.0.0-beta.5",pt="api.rollbar.com/api/1/item/",dt="debug",vt="debug",yt="error";function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var gt,bt=[].concat(function(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken"]),["cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"]),wt={scrubFields:bt};function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach((function(t){It(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ot(n.key),n)}}function It(e,t,r){return(t=Ot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ot(e){var t=function(e,t){if("object"!=kt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kt(t)?t:t+""}var Et=null,_t=function(){function e(r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ye.init({logLevel:r.logLevel||"error"}),this.options=M(Rt,r,null,ye),this.options._configuredOptions=r,this.components=this.components||{};var o=this.components.telemeter,i=this.components.instrumenter;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var a=this.components.truncation,s=this.components.tracing,u=this.components.replay,l=new Oe(a),c=new he(this.options,l,t,a);if(s&&(this.tracing=new s(At(),c,this.options),this.tracing.initSession()),o&&(this.telemeter=new o(this.options,this.tracing)),u&&"undefined"!=typeof window){var h=this.options.replay;this.replay=new u({tracing:this.tracing,telemeter:this.telemeter,options:h}),h.enabled&&h.autoStart&&this.replay.recorder.start()}this.client=n||new K(this.options,c,ye,this.telemeter,this.tracing,this.replay,"browser");var p=At(),d="undefined"!=typeof document&&document;this.isChrome=p.chrome&&p.chrome.runtime,this.anonymousErrorsPending=0,function(e,t,r){e.addTransform(Ge).addTransform(Ve).addTransform(He).addTransform(qe).addTransform(function(e){return function(t,r,n){var o={};e&&e.location&&(o.url=e.location.href,o.query_string=e.location.search);var i="$remote_ip";r.captureIp?!0!==r.captureIp&&(i+="_anonymize"):i=null,i&&(o.user_ip=i),Object.keys(o).length>0&&T(t,"data.request",o),n(null,t)}}(r)).addTransform(function(e){return function(t,r,n){if(!e)return n(null,t);var o=e.navigator||{},i=e.screen||{};T(t,"data.client",{runtime_ms:t.timestamp-e._rollbarStartTime,timestamp:Math.round(t.timestamp/1e3),javascript:{browser:o.userAgent,language:o.language,cookie_enabled:o.cookieEnabled,screen:{width:i.width,height:i.height}}}),n(null,t)}}(r)).addTransform(function(e){return function(t,r,n){if(!e||!e.navigator)return n(null,t);for(var o,i=[],a=e.navigator.plugins||[],s=0,u=a.length;s<u;++s)o=a[s],i.push({name:o.name,description:o.description});T(t,"data.client.javascript.plugins",i),n(null,t)}}(r)).addTransform(Je).addTransform(tt).addTransform(et).addTransform(nt).addTransform((n=t.scrub,function(e,t,r){if(n){var o=t.scrubFields||[],i=t.scrubPaths||[];e.data=n(e.data,o,i)}r(null,e)})).addTransform(Qe).addTransform(rt(ye)).addTransform(it).addTransform(at).addTransform($e);var n}(this.client.notifier,this,p),function(e){e.addPredicate(ut).addPredicate(st).addPredicate(function(e){return function(t,r){var n=!!t._isUncaught;delete t._isUncaught;var o=t._originalArgs;delete t._originalArgs;try{f(r.onSendCallback)&&r.onSendCallback(n,o,t)}catch(t){r.onSendCallback=null,e.error("Error while calling onSendCallback, removing",t)}try{if(f(r.checkIgnore)&&r.checkIgnore(n,o,t))return!1}catch(t){r.checkIgnore=null,e.error("Error while calling custom checkIgnore(), removing",t)}return!0}}(ye)).addPredicate(function(e){return function(t,r){return!ct(t,r,"blocklist",e)}}(ye)).addPredicate(function(e){return function(t,r){return ct(t,r,"safelist",e)}}(ye)).addPredicate(ft(ye))}(this.client.queue),this.setupUnhandledCapture(),i&&(this.instrumenter=new i(this.options,this.client.telemeter,this,p,d),this.instrumenter.instrument()),this.setSessionAttributesFromOptions(r),this.rollbar=this}return function(e,t,r){return t&&Ct(e.prototype,t),r&&Ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"global",value:function(e){return this.client.global(e),this}},{key:"configure",value:function(e,t){var r,n,o;e.logLevel&&ye.init({logLevel:e.logLevel}),this.setSessionAttributesFromOptions(e);var i=this.options,a={};return t&&(a={payload:t}),this.options=M(i,e,a,ye),this.options._configuredOptions=M(i._configuredOptions,e,a),null===(r=this.tracing)||void 0===r||r.configure(this.options),null===(n=this.replay)||void 0===n||n.configure(this.options),this.client.configure(this.options,t),null===(o=this.instrumenter)||void 0===o||o.configure(this.options),this.setupUnhandledCapture(),this}},{key:"lastError",value:function(){return this.client.lastError}},{key:"log",value:function(){var e=this._createItem(arguments),t=e.uuid;return this.client.log(e),{uuid:t}}},{key:"debug",value:function(){var e=this._createItem(arguments),t=e.uuid;return this.client.debug(e),{uuid:t}}},{key:"info",value:function(){var e=this._createItem(arguments),t=e.uuid;return this.client.info(e),{uuid:t}}},{key:"warn",value:function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warn(e),{uuid:t}}},{key:"warning",value:function(){var e=this._createItem(arguments),t=e.uuid;return this.client.warning(e),{uuid:t}}},{key:"error",value:function(){var e=this._createItem(arguments),t=e.uuid;return this.client.error(e),{uuid:t}}},{key:"critical",value:function(){var e=this._createItem(arguments),t=e.uuid;return this.client.critical(e),{uuid:t}}},{key:"buildJsonPayload",value:function(e){return this.client.buildJsonPayload(e)}},{key:"sendJsonPayload",value:function(e){return this.client.sendJsonPayload(e)}},{key:"triggerDirectReplay",value:function(e){return this.triggerReplay(xt({type:"direct"},e))}},{key:"triggerReplay",value:function(e){return this.replay?this.replay.triggerReplay(e):null}},{key:"setupUnhandledCapture",value:function(){var e=At();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(!function(e,t,r){if(e){var n;if("function"==typeof t._rollbarOldOnError)n=t._rollbarOldOnError;else if(e.onerror){for(n=e.onerror;n._rollbarOldOnError;)n=n._rollbarOldOnError;t._rollbarOldOnError=n}t.handleAnonymousErrors();var o=function(){var r=Array.prototype.slice.call(arguments,0);!function(e,t,r,n){e._rollbarWrappedError&&(n[4]||(n[4]=e._rollbarWrappedError),n[5]||(n[5]=e._rollbarWrappedError._rollbarContext),e._rollbarWrappedError=null);var o=t.handleUncaughtException.apply(t,n);r&&r.apply(e,n),"anonymous"===o&&(t.anonymousErrorsPending+=1)}(e,t,n,r)};r&&(o._rollbarOldOnError=n),e.onerror=o}}(e,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(e,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(!function(e,t,r){if(e){"function"==typeof e._rollbarURH&&e._rollbarURH.belongsToShim&&e.removeEventListener("unhandledrejection",e._rollbarURH);var n=function(e){var r,n,o;try{r=e.reason}catch(e){r=void 0}try{n=e.promise}catch(e){n="[unhandledrejection] error getting `promise` from event"}try{o=e.detail,!r&&o&&(r=o.reason,n=o.promise)}catch(e){}r||(r="[unhandledrejection] error getting `reason` from event"),t&&t.handleUnhandledRejection&&t.handleUnhandledRejection(r,n)};n.belongsToShim=r,e._rollbarURH=n,e.addEventListener("unhandledrejection",n)}}(e,this),this.unhandledRejectionsInitialized=!0)}},{key:"handleUncaughtException",value:function(e,t,r,n,o,i){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===o&&""===t)return"anonymous";var a,s=S(e,t,r,n,o,"onerror","uncaught exception",We);d(o)?(a=this._createItem([e,o,i]))._unhandledStackInfo=s:d(t)?(a=this._createItem([e,t,i]))._unhandledStackInfo=s:(a=this._createItem([e,i])).stackInfo=s,a.level=this.options.uncaughtErrorLevel,a._isUncaught=!0,this.client.log(a)}}},{key:"handleAnonymousErrors",value:function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var e=this;try{Error.prepareStackTrace=function(t,r){if(e.options.inspectAnonymousErrors&&e.anonymousErrorsPending){if(e.anonymousErrorsPending-=1,!t)return;t._isAnonymous=!0,e.handleUncaughtException(t.message,null,null,null,t)}return t.stack}}catch(e){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",e)}}}},{key:"handleUnhandledRejection",value:function(e,t){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var r="unhandled rejection was null or undefined!";if(e)if(e.message)r=e.message;else{var n=w(e);n.value&&(r=n.value)}var o,i=e&&e._rollbarContext||t&&t._rollbarContext;d(e)?o=this._createItem([r,e,i]):(o=this._createItem([r,e,i])).stackInfo=S(r,"",0,0,null,"unhandledrejection","",We),o.level=this.options.uncaughtErrorLevel,o._isUncaught=!0,o._originalArgs=o._originalArgs||[],o._originalArgs.push(t),this.client.log(o)}}},{key:"wrap",value:function(e,t,r){try{var n;if(n=f(t)?t:function(){return t||{}},!f(e))return e;if(e._isWrap)return e;if(!e._rollbar_wrapped&&(e._rollbar_wrapped=function(){r&&f(r)&&r.apply(this,arguments);try{return e.apply(this,arguments)}catch(r){var t=r;throw t&&window._rollbarWrappedError!==t&&(l(t,"string")&&(t=new String(t)),t._rollbarContext=n()||{},t._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=t),t}},e._rollbar_wrapped._isWrap=!0,e.hasOwnProperty))for(var o in e)e.hasOwnProperty(o)&&"_rollbar_wrapped"!==o&&(e._rollbar_wrapped[o]=e[o]);return e._rollbar_wrapped}catch(t){return e}}},{key:"captureEvent",value:function(){var e=function(e){for(var t,r,n,o,i=0,a=e.length;i<a;++i)switch(c(o=e[i])){case"string":!t&&_(O,o)?t=o:!n&&_(E,o)&&(n=o);break;case"object":r=o}return{type:t||"manual",metadata:r||{},level:n}}(arguments);return this.client.captureEvent(e.type,e.metadata,e.level)}},{key:"setSessionUser",value:function(e){var t;null!==(t=this.tracing)&&void 0!==t&&t.session&&this.tracing.session.setUser(e)}},{key:"setSessionAttributes",value:function(e){var t;null!==(t=this.tracing)&&void 0!==t&&t.session&&(e=xt({},e),this.tracing.session.setAttributes(e))}},{key:"setSessionAttributesFromOptions",value:function(e){var t,r,n,o,i,a=e.person||(null===(t=e.payload)||void 0===t?void 0:t.person);a&&this.setSessionUser(a);var s=(null===(r=e.client)||void 0===r||null===(r=r.javascript)||void 0===r?void 0:r.code_version)||e.codeVersion||e.code_version||(null===(n=e.payload)||void 0===n||null===(n=n.client)||void 0===n||null===(n=n.javascript)||void 0===n?void 0:n.code_version)||(null===(o=e.payload)||void 0===o?void 0:o.code_version)||(null===(i=e.payload)||void 0===i?void 0:i.codeVersion);this.setSessionAttributes({"rollbar.codeVersion":s,"rollbar.notifier.name":"rollbar-browser-js","rollbar.notifier.version":e.version})}},{key:"captureDomContentLoaded",value:function(e,t){return t||(t=new Date),this.client.captureDomContentLoaded(t)}},{key:"captureLoad",value:function(e,t){return t||(t=new Date),this.client.captureLoad(t)}},{key:"loadFull",value:function(){ye.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")}},{key:"_createItem",value:function(e){return I(e,ye,this)}}],[{key:"init",value:function(t,r){return Et?Et.global(t).configure(t):Et=new e(t,r)}},{key:"setComponents",value:function(t){e.prototype.components=t}},{key:"callInstance",value:function(e,t){if(Et)return Et[e].apply(Et,t);var r="Rollbar is not initialized";ye.error(r);var n=function(e){for(var t=0,r=e.length;t<r;++t)if(f(e[t]))return e[t];return}(t);n&&n(new Error(r))}}])}();function At(){return"undefined"!=typeof window&&window||"undefined"!=typeof self&&self}gt=_t,It(_t,"global",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("global",t)})),It(_t,"configure",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("configure",t)})),It(_t,"lastError",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("lastError",t)})),It(_t,"log",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("log",t)})),It(_t,"debug",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("debug",t)})),It(_t,"info",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("info",t)})),It(_t,"warn",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("warn",t)})),It(_t,"warning",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("warning",t)})),It(_t,"error",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("error",t)})),It(_t,"critical",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("critical",t)})),It(_t,"buildJsonPayload",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("buildJsonPayload",t)})),It(_t,"sendJsonPayload",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("sendJsonPayload",t)})),It(_t,"wrap",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("wrap",t)})),It(_t,"captureEvent",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gt.callInstance("captureEvent",t)}));var Rt={environment:"unknown",version:ht,scrubFields:wt.scrubFields,logLevel:dt,reportLevel:vt,uncaughtErrorLevel:yt,endpoint:pt,verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1,replay:{enabled:!1,autoStart:!0,triggerDefaults:{samplingRatio:1,preDuration:300,postDuration:5},triggers:[{type:"occurrence",level:["error","critical"]}],debug:{logErrors:!0,logEmits:!1},inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,maskInputOptions:{password:!0,email:!1,tel:!1,text:!1,color:!1,date:!1,"datetime-local":!1,month:!1,number:!1,range:!1,search:!1,time:!1,url:!1,week:!1},maskAllInputs:!1,blockClass:"rb-block",maskTextClass:"rb-mask",ignoreClass:"rb-ignore",slimDOMOptions:{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}},tracing:{enabled:!1,endpoint:"api.rollbar.com/api/1/session/"}},Tt=_t,Pt=["otelAttributes"];function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){Nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nt(e,t,r){return(t=Ft(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ft(n.key),n)}}function Ft(e){var t=function(e,t){if("object"!=Mt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mt(t)?t:t+""}var Ut=100;function Bt(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}var zt=function(){return function(e,t,r){return t&&Dt(e.prototype,t),r&&Dt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=[],this.options=i(t);var o=this.options.maxTelemetryEvents||Ut;this.maxQueueSize=Math.max(0,Math.min(o,Ut)),this.tracing=r,this.telemetrySpan=null===(n=this.tracing)||void 0===n?void 0:n.startSpan("rollbar-telemetry",{})}),[{key:"configure",value:function(e){var t=this.options;this.options=i(t,e);var r=this.options.maxTelemetryEvents||Ut,n=Math.max(0,Math.min(r,Ut)),o=0;this.queue.length>n&&(o=this.queue.length-n),this.maxQueueSize=n,this.queue.splice(0,o)}},{key:"copyEvents",value:function(){var e=Array.prototype.slice.call(this.queue,0);if(f(this.options.filterTelemetry))try{for(var t=e.length;t--;)this.options.filterTelemetry(e[t])&&e.splice(t,1)}catch(e){this.options.filterTelemetry=null}return e=e.filter((function(e){return"connectivity"!==e.type})),e=e.map((function(e){e.otelAttributes;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Pt);return t})),e}},{key:"exportTelemetrySpan",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.telemetrySpan&&(this.telemetrySpan.end(e),this.telemetrySpan=this.tracing.startSpan("rollbar-telemetry",{}))}},{key:"capture",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a={level:Wt(e,r),type:e,timestamp_ms:o||P(),body:t,source:"client"};n&&(a.uuid=n),i&&(a.otelAttributes=i);try{if(f(this.options.filterTelemetry)&&this.options.filterTelemetry(a))return!1}catch(e){this.options.filterTelemetry=null}return this.push(a),a}},{key:"captureEvent",value:function(e,t,r,n){return this.capture(e,t,r,n)}},{key:"captureError",value:function(e,t,r,n){var o,i=e.message||String(e),a={message:i};e.stack&&(a.stack=e.stack);var s={message:i,level:t,type:"error",uuid:r};return null===(o=this.telemetrySpan)||void 0===o||o.addEvent("rollbar-occurrence-event",s,Bt(n)),this.capture("error",a,t,r,n,s)}},{key:"captureLog",value:function(e,t,r,n){var o,i,a=null;r?(a={message:e,level:t,type:"message",uuid:r},null===(o=this.telemetrySpan)||void 0===o||o.addEvent("rollbar-occurrence-event",a,Bt(n))):(a={message:e,level:t},null===(i=this.telemetrySpan)||void 0===i||i.addEvent("rollbar-log-event",a,Bt(n)));return this.capture("log",{message:e},t,r,n,a)}},{key:"captureNetwork",value:function(e,t,r,n){var o,i;t=t||"xhr",e.subtype=e.subtype||t,n&&(e.request=n);var a=this.levelFromStatus(e.status_code),s=1e6*(e.end_time_ms||0),u={type:e.subtype,method:e.method,url:e.url,statusCode:e.status_code,"request.headers":JSON.stringify(e.request_headers||{}),"response.headers":JSON.stringify((null===(o=e.response)||void 0===o?void 0:o.headers)||{}),"response.timeUnixNano":s.toString()};return null===(i=this.telemetrySpan)||void 0===i||i.addEvent("rollbar-network-event",u,Bt(e.start_time_ms)),this.capture("network",e,a,r,e.start_time_ms,u)}},{key:"levelFromStatus",value:function(e){return e>=200&&e<400?"info":0===e||e>=400?"error":"info"}},{key:"captureDom",value:function(e,t,r,n,o){var i={subtype:e,element:t};return void 0!==r&&(i.value=r),void 0!==n&&(i.checked=n),this.capture("dom",i,"info",o)}},{key:"captureInput",value:function(e){var t,r=e.type,n=e.isSynthetic,o=e.element,i=e.value,a=e.timestamp,s="rollbar-input-event",u={type:s,subtype:r,element:o,value:i},l={type:r,isSynthetic:n,element:o,value:i,endTimeUnixNano:Bt(a)},c=this._getRepeatedEvent(s,l);return c?this._updateRepeatedEvent(c,l,a):(null===(t=this.telemetrySpan)||void 0===t||t.addEvent(s,l,Bt(a)),this.capture("dom",u,"info",null,a,l))}},{key:"captureClick",value:function(e){var t,r=e.type,n=e.isSynthetic,o=e.element,i=e.timestamp,a="rollbar-click-event",s={type:a,subtype:r,element:o},u={type:r,isSynthetic:n,element:o,endTimeUnixNano:Bt(i)},l=this._getRepeatedEvent(a,u);return l?this._updateRepeatedEvent(l,u,i):(null===(t=this.telemetrySpan)||void 0===t||t.addEvent(a,u,Bt(i)),this.capture("dom",s,"info",null,i,u))}},{key:"_getRepeatedEvent",value:function(e,t){var r=this._lastEvent(this.queue);if(r&&r.body.type===e&&r.otelAttributes.target===t.target)return r}},{key:"_updateRepeatedEvent",value:function(e,t,r){var n=Math.max(r-e.timestamp_ms,1);e.body.value=t.value,e.otelAttributes.value=t.value,e.otelAttributes.height=t.height,e.otelAttributes.width=t.width,e.otelAttributes.textZoomRatio=t.textZoomRatio,e.otelAttributes.endTimeUnixNano=Bt(r),e.otelAttributes.durationUnixNano=Bt(n),e.otelAttributes.count=(e.otelAttributes.count||1)+1,e.otelAttributes.rate=e.otelAttributes.count/(n/1e3)}},{key:"_lastEvent",value:function(e){return e.length>0?e[e.length-1]:null}},{key:"captureFocus",value:function(e){var t,r=e.type,n=e.isSynthetic,o=e.element,i=e.timestamp,a="rollbar-focus-event",s={type:a,subtype:r,element:o},u={type:r,isSynthetic:n,element:o};return null===(t=this.telemetrySpan)||void 0===t||t.addEvent(a,u,Bt(i)),this.capture("dom",s,"info",null,i,u)}},{key:"captureResize",value:function(e){var t,r=e.type,n=e.isSynthetic,o=e.width,i=e.height,a=e.textZoomRatio,s=e.timestamp,u="rollbar-resize-event",l={type:u,subtype:r,width:o,height:i,textZoomRatio:a},c={type:r,isSynthetic:n,width:o,height:i,textZoomRatio:a},f=this._getRepeatedEvent(u,c);return f?this._updateRepeatedEvent(f,c,s):(null===(t=this.telemetrySpan)||void 0===t||t.addEvent(u,c,Bt(s)),this.capture("dom",l,"info",null,s,c))}},{key:"captureDragDrop",value:function(e){var t,r=e.type,n=e.isSynthetic,o=e.element,i=e.dropEffect,a=e.effectAllowed,s=e.kinds,u=e.mediaTypes,l=e.timestamp,c="rollbar-dragdrop-event",f={type:c,subtype:r,isSynthetic:n},h={type:r,isSynthetic:n};return"dragstart"===r&&(f=Lt(Lt({},f),{},{element:o,dropEffect:i,effectAllowed:a}),h=Lt(Lt({},h),{},{element:o,dropEffect:i,effectAllowed:a})),"drop"===r&&(f=Lt(Lt({},f),{},{element:o,dropEffect:i,effectAllowed:a,kinds:s,mediaTypes:u}),h=Lt(Lt({},h),{},{element:o,dropEffect:i,effectAllowed:a,kinds:s,mediaTypes:u})),null===(t=this.telemetrySpan)||void 0===t||t.addEvent(c,h,Bt(l)),this.capture("dom",f,"info",null,l,h)}},{key:"captureNavigation",value:function(e,t,r,n){var o;return null===(o=this.telemetrySpan)||void 0===o||o.addEvent("rollbar-navigation-event",{"previous.url.full":e,"url.full":t},Bt(n)),this.capture("navigation",{from:e,to:t},"info",r,n)}},{key:"captureDomContentLoaded",value:function(e){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,e&&e.getTime())}},{key:"captureLoad",value:function(e){return this.capture("navigation",{subtype:"load"},"info",void 0,e&&e.getTime())}},{key:"captureConnectivityChange",value:function(e){var t,r=e.type,n=e.isSynthetic,o=e.timestamp,i="rollbar-connectivity-event",a={type:i,subtype:r},s={type:r,isSynthetic:n};return null===(t=this.telemetrySpan)||void 0===t||t.addEvent(i,s,Bt(o)),this.capture("connectivity",a,"info",null,o,s)}},{key:"_captureRollbarItem",value:function(e){if(this.options.includeItemsInTelemetry)return e.err?this.captureError(e.err,e.level,e.uuid,e.timestamp):e.message?this.captureLog(e.message,e.level,e.uuid,e.timestamp):e.custom?this.capture("log",e.custom,e.level,e.uuid,e.timestamp):void 0}},{key:"push",value:function(e){this.queue.push(e),this.queue.length>this.maxQueueSize&&this.queue.shift()}}])}();function Wt(e,t){if(t)return t;return{error:"error",manual:"info"}[e]||"info"}var Gt=zt;function Vt(e){return"string"!=typeof e&&(e=String(e)),e.toLowerCase()}function Ht(e){this.map={},e instanceof Ht?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}Ht.prototype.append=function(e,t){e=Vt(e),t=function(e){return"string"!=typeof e&&(e=String(e)),e}(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},Ht.prototype.get=function(e){return e=Vt(e),this.has(e)?this.map[e]:null},Ht.prototype.has=function(e){return this.map.hasOwnProperty(Vt(e))},Ht.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Ht.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),function(e){return{next:function(){var t=e.shift();return{done:void 0===t,value:t}}}}(e)};var qt=function(e){return"undefined"==typeof Headers?new Ht(e):new Headers(e)};var Jt=function(e,t,r,n,o){var i=e[t];e[t]=r(i),n&&n[o].push([e,t,i])};var Zt=function(e,t,r){var n,o,i,a,s=l(e,"object"),u=l(e,"array"),c=[];if(r=r||{obj:[],mapped:[]},s){if(a=r.obj.indexOf(e),s&&-1!==a)return r.mapped[a]||r.obj[a];r.obj.push(e),a=r.obj.length-1}if(s)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&c.push(n);else if(u)for(i=0;i<e.length;++i)c.push(i);var f=s?{}:[],h=!0;for(i=0;i<c.length;++i)o=e[n=c[i]],f[n]=t(n,o,r),h=h&&f[n]===e[n];return s&&!h&&(r.mapped[a]=f),h?e:f};function Yt(e,t){var r=t.split("."),n=r.length-1;try{for(var o=0;o<=n;++o)o<n?e=e[r[o]]:e[r[o]]="********"}catch(e){}}var Xt=function(e,t,r){if(t=t||[],r)for(var n=0;n<r.length;++n)Yt(e,r[n]);var o=function(e){for(var t,r=[],n=0;n<e.length;++n)t="^\\[?(%5[bB])?"+e[n]+"\\[?(%5[bB])?\\]?(%5[dD])?$",r.push(new RegExp(t,"i"));return r}(t),i=function(e){for(var t,r=[],n=0;n<e.length;++n)t="\\[?(%5[bB])?"+e[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",r.push(new RegExp("("+t+"=)([^&\\n]+)","igm"));return r}(t);function a(e,t){return t+"********"}return Zt(e,(function e(t,r,n){var s=function(e,t){var r;for(r=0;r<o.length;++r)if(o[r].test(e)){t="********";break}return t}(t,r);return s===r?l(r,"object")||l(r,"array")?Zt(r,e,n):function(e){var t;if(l(e,"string"))for(t=0;t<i.length;++t)e=e.replace(i[t],a);return e}(s):s}))};function Kt(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return $t(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Qt(e){return function(e){for(var t,r,n=[],o=0,i=e.length-1;i>=0;i--){if(t=er(e[i]),r=o+3*n.length+t.length,i<e.length-1&&r>=83){n.unshift("...");break}n.unshift(t),o+=t.length}return n.join(" > ")}(function(e){for(var t,r=[],n=0;e&&n<5&&"html"!==(t=tr(e)).tagName;n++)r.unshift(t),e=e.parentNode;return r}(e))}function er(e){if(!e||!e.tagName)return"";var t=[e.tagName];e.id&&t.push("#"+e.id),e.classes&&t.push("."+e.classes.join("."));for(var r=0;r<e.attributes.length;r++)t.push("["+e.attributes[r].key+'="'+e.attributes[r].value+'"]');return t.join("")}function tr(e){if(!e||!e.tagName)return null;var t,r,n,o,i={};i.tagName=e.tagName.toLowerCase(),e.id&&(i.id=e.id),(t=e.className)&&"string"==typeof t&&(i.classes=t.split(/\s+/));var a=["type","name","title","alt"];for(i.attributes=[],o=0;o<a.length;o++)r=a[o],(n=e.getAttribute(r))&&i.attributes.push({key:r,value:n});return i}function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function nr(e){return function(e){if(Array.isArray(e))return ur(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ir(n.key),n)}}function ir(e){var t=function(e,t){if("object"!=rr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rr(t)?t:t+""}function ar(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=sr(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function sr(e,t){if(e){if("string"==typeof e)return ur(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ur(e,t):void 0}}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var lr={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function cr(e,t){for(var r;e[t].length;)(r=e[t].shift())[0][r[1]]=r[2]}function fr(e){var t,r=[],n=ar(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r.push(new RegExp(o,"i"))}}catch(e){n.e(e)}finally{n.f()}return function(e){var t=function(e){if(!e||!e.attributes)return null;var t,r=ar(e.attributes);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("name"===n.key)return n.value}}catch(e){r.e(e)}finally{r.f()}return null}(e);if(!t)return!1;for(var n=0,o=r;n<o.length;n++){if(o[n].test(t))return!0}return!1}}var hr=function(){return function(e,t,r){return t&&or(e.prototype,t),r&&or(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,r,n,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){(t=ir(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"deinstrumentConnectivity",(function(){this.removeListeners("connectivity")})),this.options=t;var s=t.autoInstrument;!1===t.enabled||!1===s?this.autoInstrument={}:(l(s,"object")||(s=lr),this.autoInstrument=i(lr,s)),this.configureScrubbing(),this.telemeter=r,this.rollbar=n,this.diagnostic=n.client.notifier.diagnostic,this._window=o||{},this._document=a||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}),[{key:"configureScrubbing",value:function(){var e,t,r,n,o,i,a,s,u,l,c=this.options;this.scrubTelemetryInputs=!!(null!==(e=c.scrubTelemetryInputs)&&void 0!==e?e:null===(t=c.replay)||void 0===t?void 0:t.maskAllInputs),this.telemetryScrubber=c.telemetryScrubber,this.defaultValueScrubber=fr(c.scrubFields),this.maskInputFn=null===(r=c.replay)||void 0===r?void 0:r.maskInputFn,this.maskInputOptions=(null===(n=c.replay)||void 0===n?void 0:n.maskInputOptions)||{},this.scrubClasses=[null===(o=c.replay)||void 0===o?void 0:o.blockClass,null===(i=c.replay)||void 0===i?void 0:i.ignoreClass,null===(a=c.replay)||void 0===a?void 0:a.maskTextClass].filter(Boolean),this.scrubSelectors=[null===(s=c.replay)||void 0===s?void 0:s.blockSelector,null===(u=c.replay)||void 0===u?void 0:u.ignoreSelector,null===(l=c.replay)||void 0===l?void 0:l.maskTextSelector].filter(Boolean)}},{key:"configure",value:function(e){this.options=i(this.options,e);var t=e.autoInstrument,r=i(this.autoInstrument);!1===e.enabled||!1===t?this.autoInstrument={}:(l(t,"object")||(t=lr),this.autoInstrument=i(lr,t)),this.configureScrubbing(),this.instrument(r)}},{key:"instrument",value:function(e){!this.autoInstrument.network||e&&e.network?!this.autoInstrument.network&&e&&e.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||e&&e.log?!this.autoInstrument.log&&e&&e.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||e&&e.dom?!this.autoInstrument.dom&&e&&e.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||e&&e.navigation?!this.autoInstrument.navigation&&e&&e.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||e&&e.connectivity?!this.autoInstrument.connectivity&&e&&e.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||e&&e.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&e&&e.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()}},{key:"deinstrumentNetwork",value:function(){cr(this.replacements,"network")}},{key:"instrumentNetwork",value:function(){var e=this;function t(t,r){t in r&&f(r[t])&&Jt(r,t,(function(t){return e.rollbar.wrap(t)}))}if("XMLHttpRequest"in this._window){var r=this._window.XMLHttpRequest.prototype;Jt(r,"open",(function(e){return function(t,r){var n=pr(r);return(l(r,"string")||n)&&(r=n?r.toString():r,this.__rollbar_xhr?(this.__rollbar_xhr.method=t,this.__rollbar_xhr.url=r,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=P(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:t,url:r,status_code:null,start_time_ms:P(),end_time_ms:null}),e.apply(this,arguments)}}),this.replacements,"network"),Jt(r,"setRequestHeader",(function(t){return function(r,n){return this.__rollbar_xhr||(this.__rollbar_xhr={}),l(r,"string")&&l(n,"string")&&(e.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[r]=n),"content-type"===r.toLowerCase()&&(this.__rollbar_xhr.request_content_type=n)),t.apply(this,arguments)}}),this.replacements,"network"),Jt(r,"send",(function(r){return function(n){var o=this;function i(){if(o.__rollbar_xhr&&(null===o.__rollbar_xhr.status_code&&(o.__rollbar_xhr.status_code=0,e.autoInstrument.networkRequestBody&&(o.__rollbar_xhr.request=n),o.__rollbar_event=e.captureNetwork(o.__rollbar_xhr,"xhr",void 0)),o.readyState<2&&(o.__rollbar_xhr.start_time_ms=P()),o.readyState>3)){var t=P();o.__rollbar_xhr.end_time_ms=t;var r=null;if(o.__rollbar_xhr.response_content_type=o.getResponseHeader("Content-Type"),e.autoInstrument.networkResponseHeaders){var i=e.autoInstrument.networkResponseHeaders;r={};try{var a;if(!0===i){var s=o.getAllResponseHeaders();if(s){var u,l,c,f=ar(s.trim().split(/[\r\n]+/));try{for(f.s();!(c=f.n()).done;){a=(u=c.value.split(": ")).shift(),l=u.join(": "),r[a]=l}}catch(e){f.e(e)}finally{f.f()}}}else{var h,p=ar(i);try{for(p.s();!(h=p.n()).done;){var d=h.value;r[d]=o.getResponseHeader(d)}}catch(e){p.e(e)}finally{p.f()}}}catch(e){}}var v=null;if(e.autoInstrument.networkResponseBody)try{v=o.responseText}catch(e){}var y=null;(v||r)&&(y={},v&&(e.isJsonContentType(o.__rollbar_xhr.response_content_type)?y.body=e.scrubJson(v):y.body=v),r&&(y.headers=r)),y&&(o.__rollbar_xhr.response=y);try{var m=o.status;m=1223===m?204:m,o.__rollbar_xhr.status_code=m,e.addOtelNetworkResponse(o.__rollbar_event,t,m),o.__rollbar_event.level=e.telemeter.levelFromStatus(m),e.errorOnHttpStatus(o.__rollbar_xhr)}catch(e){}}}return t("onload",o),t("onerror",o),t("onprogress",o),"onreadystatechange"in o&&f(o.onreadystatechange)?Jt(o,"onreadystatechange",(function(t){return e.rollbar.wrap(t,void 0,i)})):o.onreadystatechange=i,o.__rollbar_xhr&&e.trackHttpErrors()&&(o.__rollbar_xhr.stack=(new Error).stack),r.apply(this,arguments)}}),this.replacements,"network")}"fetch"in this._window&&Jt(this._window,"fetch",(function(t){return function(r,n){var o,i=Array.prototype.slice.call(arguments),a=i[0],s="GET",u=pr(a);l(a,"string")||u?o=u?a.toString():a:a&&(o=a.url,a.method&&(s=a.method)),i[1]&&i[1].method&&(s=i[1].method);var c={method:s,url:o,status_code:null,start_time_ms:P(),end_time_ms:null};if(i[1]&&i[1].headers){var f=qt(i[1].headers);c.request_content_type=f.get("Content-Type"),e.autoInstrument.networkRequestHeaders&&(c.request_headers=e.fetchHeaders(f,e.autoInstrument.networkRequestHeaders))}e.autoInstrument.networkRequestBody&&(i[1]&&i[1].body?c.request=i[1].body:i[0]&&!l(i[0],"string")&&i[0].body&&(c.request=i[0].body));var h=e.captureNetwork(c,"fetch",void 0);return e.trackHttpErrors()&&(c.stack=(new Error).stack),t.apply(this,i).then((function(t){var r=P();c.end_time_ms=r,c.status_code=t.status,e.addOtelNetworkResponse(h,r,t.status),c.response_content_type=t.headers.get("Content-Type");var n=null;e.autoInstrument.networkResponseHeaders&&(n=e.fetchHeaders(t.headers,e.autoInstrument.networkResponseHeaders));var o=null;return e.autoInstrument.networkResponseBody&&"function"==typeof t.text&&(o=t.clone().text()),(n||o)&&(c.response={},o&&("function"==typeof o.then?o.then((function(t){t&&e.isJsonContentType(c.response_content_type)?c.response.body=e.scrubJson(t):c.response.body=t})):c.response.body=o),n&&(c.response.headers=n)),e.errorOnHttpStatus(c),t}))}}),this.replacements,"network")}},{key:"captureNetwork",value:function(e,t,r){return e.request&&this.isJsonContentType(e.request_content_type)&&(e.request=this.scrubJson(e.request)),this.telemeter.captureNetwork(e,t,r)}},{key:"isJsonContentType",value:function(e){return!!(e&&l(e,"string")&&e.toLowerCase().includes("json"))}},{key:"addOtelNetworkResponse",value:function(e,t,r){e.otelAttributes&&(e.otelAttributes["response.timeUnixNano"]=(1e6*t).toString(),e.otelAttributes.statusCode=r)}},{key:"scrubJson",value:function(e){return JSON.stringify(Xt(JSON.parse(e),this.options.scrubFields))}},{key:"fetchHeaders",value:function(e,t){var r={};try{if(!0===t){if("function"==typeof e.entries)for(var n=e.entries(),o=n.next();!o.done;)r[o.value[0]]=o.value[1],o=n.next()}else{var i,a=ar(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;r[s]=e.get(s)}}catch(e){a.e(e)}finally{a.f()}}}catch(e){}return r}},{key:"trackHttpErrors",value:function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0}},{key:"errorOnHttpStatus",value:function(e){var t=e.status_code;if(t>=500&&this.autoInstrument.networkErrorOnHttp5xx||t>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===t&&this.autoInstrument.networkErrorOnHttp0){var r=new Error("HTTP request failed with Status "+t);r.stack=e.stack,this.rollbar.error(r,{skipFrames:1})}}},{key:"deinstrumentConsole",value:function(){for(var e;this.replacements.log.length;)e=this.replacements.log.shift(),this._window.console[e[0]]=e[1]}},{key:"instrumentConsole",value:function(){var e;if(null!==(e=this._window)&&void 0!==e&&null!==(e=e.console)&&void 0!==e&&e.log){var t=this,r=this._window.console;try{for(var n=0,o=["debug","info","warn","error","log"];n<o.length;n++){i(o[n])}}catch(e){this.diagnostic.instrumentConsole={error:e.message}}}function i(e){var n=r[e],o=r,i="warn"===e?"warning":e;r[e]=function(){var e=Array.prototype.slice.call(arguments),r=function(e){var t,r,n,o=[];for(t=0,r=e.length;t<r;++t){switch(c(n=e[t])){case"object":(n=(n=w(n)).error||n.value).length>500&&(n=n.substr(0,497)+"...");break;case"null":n="null";break;case"undefined":n="undefined";break;case"symbol":n=n.toString()}o.push(n)}return o.join(" ")}(e);t.telemeter.captureLog(r,i,null,P()),n&&Function.prototype.apply.call(n,o,e)},t.replacements.log.push([e,n])}}},{key:"deinstrumentDom",value:function(){this.removeListeners("dom")}},{key:"instrumentDom",value:function(){var e=this;this.addListener("dom",this._window,["click","dblclick","contextmenu"],(function(t){return e.handleEvent("click",t)})),this.addListener("dom",this._window,["dragstart","dragend","dragenter","dragleave","drop"],(function(t){return e.handleEvent("dragdrop",t)})),this.addListener("dom",this._window,["blur","focus"],(function(t){return e.handleEvent("focus",t)})),this.addListener("dom",this._window,["submit","invalid"],(function(t){return e.handleEvent("form",t)})),this.addListener("dom",this._window,["input","change"],(function(t){return e.handleEvent("input",t)})),this.addListener("dom",this._window,["resize"],(function(t){return e.handleEvent("resize",t)})),this.addListener("dom",this._document,["DOMContentLoaded"],(function(t){return e.handleEvent("contentLoaded",t)}))}},{key:"handleEvent",value:function(e,t){try{return{click:this.handleClick,dragdrop:this.handleDrag,focus:this.handleFocus,form:this.handleForm,input:this.handleInput,resize:this.handleResize,contentLoaded:this.handleContentLoaded}[e].call(this,t)}catch(r){console.log("".concat(e," handler error"),t,r,r.stack)}}},{key:"handleContentLoaded",value:function(e){this.rollbar.triggerReplay({type:"navigation",path:new URL(this._location.href).pathname})}},{key:"handleClick",value:function(e){var t,r=null===(t=e.target)||void 0===t?void 0:t.tagName.toLowerCase();["input","select","textarea"].includes(r)||this.telemeter.captureClick({type:e.type,isSynthetic:!e.isTrusted,element:Qt(e.target),timestamp:P()})}},{key:"handleFocus",value:function(e){var t,r=e.type,n=null!==(t=e.target)&&void 0!==t&&t.window?"window":Qt(e.target);this.telemeter.captureFocus({type:r,isSynthetic:!e.isTrusted,element:n,timestamp:P()})}},{key:"handleForm",value:function(e){var t,r=e.type,n=null!==(t=e.target)&&void 0!==t&&t.window?"window":Qt(e.target);console.log("handleForm",r,n,e)}},{key:"handleResize",value:function(e){var t=window.screen.width/window.innerWidth;this.telemeter.captureResize({type:e.type,isSynthetic:!e.isTrusted,width:window.innerWidth,height:window.innerHeight,textZoomRatio:t,timestamp:P()})}},{key:"handleDrag",value:function(e){var t,r,n,o,i,a,s=e.type;if("drop"===s){t=[],r=[];var u,l=ar([].concat(nr(e.dataTransfer.files),nr(e.dataTransfer.items)));try{for(l.s();!(u=l.n()).done;){var c=u.value;c.kind&&c.type&&(t.push(c.kind),r.push(c.type))}}catch(e){l.e(e)}finally{l.f()}}["drop","dragstart"].includes(s)&&(n=null===(i=e.dataTransfer)||void 0===i?void 0:i.dropEffect,o=null===(a=e.dataTransfer)||void 0===a?void 0:a.effectAllowed);this.telemeter.captureDragDrop({type:s,isSynthetic:!e.isTrusted,element:Qt(e.target),dropEffect:n,effectAllowed:o,kinds:JSON.stringify(t),mediaTypes:JSON.stringify(r),timestamp:P()})}},{key:"scrubInputValue",value:function(e,t,r,n){var o="******";if("password"===n)return o;if(this.scrubTelemetryInputs)return o;var i=tr(t);if(this.telemetryScrubber){if(this.telemetryScrubber(i))return o}else if(this.defaultValueScrubber(i))return o;return function(e,t,r){try{var n,o=Kt(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;if("string"==typeof i){if(e.classList.contains(i))return!0}else{var a,s=Kt(e.classList);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(i.test(u))return!0}}catch(e){s.e(e)}finally{s.f()}}}}catch(e){o.e(e)}finally{o.f()}var l,c=Kt(r);try{for(c.s();!(l=c.n()).done;){var f=l.value;if(e.matches(f))return!0}}catch(e){c.e(e)}finally{c.f()}}catch(e){}return!1}(t,this.scrubClasses,this.scrubSelectors)?o:this.maskInputOptions[r.toLowerCase()]||this.maskInputOptions[n]?this.maskInputFn?this.maskInputFn(e,t):o:e}},{key:"handleInput",value:function(e){var t,r,n,o,i=e.type,a=null===(t=e.target)||void 0===t?void 0:t.tagName.toLowerCase(),s=null===(r=e.target)||void 0===r?void 0:r.value,u=(null===(n=e.target)||void 0===n||null===(n=n.attributes)||void 0===n||null===(n=n.type)||void 0===n?void 0:n.value)||(null===(o=e.target)||void 0===o?void 0:o.type);switch(void 0!==s&&(s=this.scrubInputValue(s,e.target,a,u)),i){case"input":if(["radio","checkbox"].includes(u))return;["select","textarea"].includes(a)&&(u=a);break;case"change":if(!["radio","checkbox"].includes(u))return;var l;if("checkbox"===u)s=null===(l=e.target)||void 0===l?void 0:l.checked}this.telemeter.captureInput({type:u,isSynthetic:!e.isTrusted,element:Qt(e.target),value:s,timestamp:P()})}},{key:"deinstrumentNavigation",value:function(){var e=this._window.chrome;!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState&&cr(this.replacements,"navigation")}},{key:"instrumentNavigation",value:function(){var e=this._window.chrome;if(!(e&&e.app&&e.app.runtime)&&this._window.history&&this._window.history.pushState){var t=this;Jt(this._window,"onpopstate",(function(e){return function(){var r=t._location.href;t.handleUrlChange(t._lastHref,r),e&&e.apply(this,arguments)}}),this.replacements,"navigation"),Jt(this._window.history,"pushState",(function(e){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&t.handleUrlChange(t._lastHref,r+""),e.apply(this,arguments)}}),this.replacements,"navigation")}}},{key:"handleUrlChange",value:function(e,t){var r=Ee(this._location.href),n=Ee(t),o=Ee(e);this._lastHref=t,r.protocol===n.protocol&&r.host===n.host&&(t=n.path+(n.hash||"")),r.protocol===o.protocol&&r.host===o.host&&(e=o.path+(o.hash||"")),this.telemeter.captureNavigation(e,t,null,P());this.rollbar.triggerReplay({type:"navigation",path:t})}},{key:"instrumentConnectivity",value:function(){var e=this;this.addListener("connectivity",this._window,["online","offline"],(function(t){return e.handleConnectivity(t)}))}},{key:"handleConnectivity",value:function(e){var t=e.type;this.telemeter.captureConnectivityChange({type:t,isSynthetic:!e.isTrusted,timestamp:P()})}},{key:"handleCspEvent",value:function(e){var t="Security Policy Violation: blockedURI: "+e.blockedURI+", violatedDirective: "+e.violatedDirective+", effectiveDirective: "+e.effectiveDirective+", ";e.sourceFile&&(t+="location: "+e.sourceFile+", line: "+e.lineNumber+", col: "+e.columnNumber+", "),t+="originalPolicy: "+e.originalPolicy,this.telemeter.captureLog(t,"error",null,P()),this.handleCspError(t)}},{key:"handleCspError",value:function(e){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(e)}},{key:"deinstrumentContentSecurityPolicy",value:function(){this.removeListeners("contentsecuritypolicy")}},{key:"instrumentContentSecurityPolicy",value:function(){if("addEventListener"in this._document){var e=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,["securitypolicyviolation"],e)}}},{key:"addListener",value:function(e,t,r,n){var o=this;if(t.addEventListener){var i,a=ar(r);try{var s=function(){var r=i.value,a={capture:!0,passive:!0};t.addEventListener(r,n,a,!0),o.eventRemovers[e].push((function(){t.removeEventListener(r,n,a)}))};for(a.s();!(i=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}}}},{key:"removeListeners",value:function(e){for(;this.eventRemovers[e].length;)this.eventRemovers[e].shift()()}}])}();function pr(e){return"undefined"!=typeof URL&&e instanceof URL}var dr=hr;function vr(e,t,r){if(t.hasOwnProperty&&t.hasOwnProperty("addEventListener")){for(var n=t.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var o=function(t,r,o){n.call(this,t,e.wrap(r),o)};o._rollbarOldAdd=n,o.belongsToShim=r,t.addEventListener=o;for(var i=t.removeEventListener;i._rollbarOldRemove&&i.belongsToShim;)i=i._rollbarOldRemove;var a=function(e,t,r){i.call(this,e,t&&t._rollbar_wrapped||t,r)};a._rollbarOldRemove=i,a.belongsToShim=r,t.removeEventListener=a}}var yr=function(e,t,r){if(e){var n,o,i="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(n=0;n<i.length;++n)e[o=i[n]]&&e[o].prototype&&vr(t,e[o].prototype,r)}};function mr(e,t){return[e,w(e,t)]}function gr(e,t){var r=e.length;return r>2*t?e.slice(0,t).concat(e.slice(r-t)):e}function br(e,t,r){r=void 0===r?30:r;var n,o=e.data.body;if(o.trace_chain)for(var i=o.trace_chain,a=0;a<i.length;a++)n=gr(n=i[a].frames,r),i[a].frames=n;else o.trace&&(n=gr(n=o.trace.frames,r),o.trace.frames=n);return[e,w(e,t)]}function wr(e,t){return t&&t.length>e?t.slice(0,e-3).concat("..."):t}function kr(e,t,r){return t=Zt(t,(function t(r,n,o){switch(c(n)){case"string":return wr(e,n);case"object":case"array":return Zt(n,t,o);default:return n}})),[t,w(t,r)]}function Sr(e){return e.exception&&(delete e.exception.description,e.exception.message=wr(255,e.exception.message)),e.frames=gr(e.frames,1),e}function xr(e,t){var r=e.data.body;if(r.trace_chain)for(var n=r.trace_chain,o=0;o<n.length;o++)n[o]=Sr(n[o]);else r.trace&&(r.trace=Sr(r.trace));return[e,w(e,t)]}function Cr(e,t){return function(e){for(var t=0,r=e.length,n=0;n<r;n++){var o=e.charCodeAt(n);o<128?t+=1:o<2048?t+=2:o<65536&&(t+=3)}return t}(e)>t}var Ir={truncate:function(e,t,r){r=void 0===r?524288:r;for(var n,o,i,a=[mr,br,kr.bind(null,1024),kr.bind(null,512),kr.bind(null,256),xr];n=a.shift();)if(e=(o=n(e,t))[0],(i=o[1]).error||!Cr(i.value,r))return i;return i},raw:mr,truncateFrames:br,truncateStrings:kr,maybeTruncateValue:wr};function Or(e){return Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Or(e)}function Er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_r(n.key),n)}}function _r(e){var t=function(e,t){if("object"!=Or(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Or(t)?t:t+""}var Ar=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._currentContext=t?new Map(t):new Map}return function(e,t,r){return t&&Er(e.prototype,t),r&&Er(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"getValue",value:function(e){return this._currentContext.get(e)}},{key:"setValue",value:function(t,r){var n=new e(this._currentContext);return n._currentContext.set(t,r),n}},{key:"deleteValue",value:function(t){var r=new e(self._currentContext);return r._currentContext.delete(t),r}}])}(),Rr=new Ar;function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Pr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mr(n.key),n)}}function Mr(e){var t=function(e,t){if("object"!=Tr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tr(t)?t:t+""}var jr=function(){return function(e,t,r){return t&&Pr(e.prototype,t),r&&Pr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentContext=Rr}),[{key:"active",value:function(){return this.currentContext}},{key:"enterContext",value:function(e){var t=this.currentContext;return this.currentContext=e||Rr,t}},{key:"exitContext",value:function(e){return this.currentContext=e,this.currentContext}},{key:"with",value:function(e,t,r){var n=this.enterContext(e);try{for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return t.call.apply(t,[r].concat(i))}finally{this.exitContext(n)}}}])}();var Lr={gen:function(){var e=new Uint8Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:16);return crypto.getRandomValues(e),Array.from(e,(function(e){return e.toString(16).padStart(2,"0")})).join("")}};function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function Dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(r),!0).forEach((function(t){Br(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ur(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zr(n.key),n)}}function Br(e,t,r){return(t=zr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zr(e){var t=function(e,t){if("object"!=Nr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nr(t)?t:t+""}var Wr="RollbarSession",Gr=function(){return function(e,t,r){return t&&Ur(e.prototype,t),r&&Ur(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Br(this,"_attributes",void 0),this.options=r,this.tracing=t,this.window=t.window,this.session=null,this._attributes={}}),[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.session||(this.getSession()||this.createSession(),this.initSessionAttributes(e)),this}},{key:"getSession",value:function(){try{var e=this.window.sessionStorage.getItem(Wr);if(!e)return null;this.session=JSON.parse(e)}catch(e){return null}return this}},{key:"createSession",value:function(){return this.session={id:Lr.gen(),createdAt:Date.now()},this.setSession(this.session)}},{key:"setSession",value:function(e){var t=JSON.stringify(e);try{this.window.sessionStorage.setItem(Wr,t)}catch(e){return null}return this}},{key:"attributes",get:function(){return this._attributes}},{key:"setAttributes",value:function(e){return this._attributes=Fr(Fr({},this._attributes),e),this}},{key:"setUser",value:function(e){return this.setAttributes({"user.id":null==e?void 0:e.id,"user.email":null==e?void 0:e.email,"user.name":(null==e?void 0:e.name)||(null==e?void 0:e.username)}),this}},{key:"initSessionAttributes",value:function(e){var t,r,n;return this.setAttributes(Fr({"session.id":this.session.id,"browser.brands":null===(t=navigator.userAgentData)||void 0===t?void 0:t.brands,"browser.language":navigator.language,"browser.mobile":null===(r=navigator.userAgentData)||void 0===r?void 0:r.mobile,"browser.platform":null===(n=navigator.userAgentData)||void 0===n?void 0:n.platform,"client.address":"$remote_ip","rollbar.notifier.framework":"browser-js","user_agent.original":navigator.userAgent},e)),this}}])}();function Vr(e){return[Math.trunc(e/1e3),Math.round(e%1e3*1e6)]}function Hr(e,t){return[e[0]+t[0]+Math.trunc((e[1]+t[1])/1e9),(e[1]+t[1])%1e9]}var qr={fromMillis:Vr,toMillis:function(e){return 1e3*e[0]+Math.round(e[1]/1e6)},toNanos:function(e){return 1e9*e[0]+e[1]},add:Hr,now:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Hr(Vr(performance.timeOrigin),Vr(performance.now())):Vr(Date.now())},isHrTime:function(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}};function Jr(e){return Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(e)}function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||Xr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e){return function(e){if(Array.isArray(e))return Kr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){if(e){if("string"==typeof e)return Kr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kr(e,t):void 0}}function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qr(n.key),n)}}function Qr(e){var t=function(e,t){if("object"!=Jr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jr(t)?t:t+""}var en=function(){return function(e,t,r){return t&&$r(e.prototype,t),r&&$r(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=t,this.options=r}),[{key:"export",value:function(e,t){tn.push.apply(tn,Yr(e))}},{key:"toPayload",value:function(){var e=this,t=tn.slice();if(tn.length=0,!t||!t.length)return{resourceSpans:[]};var r,n=t[0]&&t[0].resource||{},o=new Map,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Xr(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=a.instrumentationScope?"".concat(a.instrumentationScope.name,":").concat(a.instrumentationScope.version):"default:1.0.0";o.has(s)||o.set(s,{scope:a.instrumentationScope||{name:"default",version:"1.0.0",attributes:[]},spans:[]}),o.get(s).spans.push(this._transformSpan(a))}}catch(e){i.e(e)}finally{i.f()}return{resourceSpans:[{resource:this._transformResource(n),scopeSpans:Array.from(o.values()).map((function(t){return{scope:e._transformInstrumentationScope(t.scope),spans:t.spans}}))}]}}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.api.postSpans(e,t)}},{key:"_transformSpan",value:function(e){var t,r=this,n=function(e){return Object.entries(e||{}).map((function(e){var t=Zr(e,2),n=t[0],o=t[1];return{key:n,value:r._transformAnyValue(o)}}))};return{traceId:e.spanContext.traceId,spanId:e.spanContext.spanId,parentSpanId:e.parentSpanId||"",name:e.name,kind:e.kind||1,startTimeUnixNano:qr.toNanos(e.startTime),endTimeUnixNano:qr.toNanos(e.endTime),attributes:n(e.attributes),events:(t=e.events,(t||[]).map((function(e){return{timeUnixNano:qr.toNanos(e.time),name:e.name,attributes:n(e.attributes)}})))}}},{key:"_transformResource",value:function(e){var t=this,r=e.attributes||{};return{attributes:Object.entries(r).map((function(e){var r=Zr(e,2),n=r[0],o=r[1];return{key:n,value:t._transformAnyValue(o)}}))}}},{key:"_transformInstrumentationScope",value:function(e){var t=this;return{name:e.name||"",version:e.version||"",attributes:(e.attributes||[]).map((function(e){return{key:e.key,value:t._transformAnyValue(e.value)}}))}}},{key:"_transformAnyValue",value:function(e){var t=this;if(null==e)return{stringValue:""};var r=Jr(e);return"string"===r?{stringValue:e}:"number"===r?Number.isInteger(e)?{intValue:e.toString()}:{doubleValue:e}:"boolean"===r?{boolValue:e}:Array.isArray(e)?{arrayValue:{values:e.map((function(e){return t._transformAnyValue(e)}))}}:"object"===r?{kvlistValue:{values:Object.entries(e).map((function(e){var r=Zr(e,2),n=r[0],o=r[1];return{key:n,value:t._transformAnyValue(o)}}))}}:{stringValue:String(e)}}}])}(),tn=[];function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function nn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return on(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?on(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function an(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sn(n.key),n)}}function sn(e){var t=function(e,t){if("object"!=rn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rn(t)?t:t+""}var un=function(){return function(e,t,r){return t&&an(e.prototype,t),r&&an(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.exporter=t,this.options=r,this.pendingSpans=new Map,this.transforms=[this.userTransform.bind(this)]}),[{key:"addTransform",value:function(e){this.transforms.unshift(e)}},{key:"userTransform",value:function(e){this.options.transformSpan&&this.options.transformSpan({span:e})}},{key:"applyTransforms",value:function(e){var t,r=nn(this.transforms);try{for(r.s();!(t=r.n()).done;){var n=t.value;try{n(e)}catch(e){ye.error("Error running span transform callback",e)}}}catch(e){r.e(e)}finally{r.f()}}},{key:"onStart",value:function(e,t){this.pendingSpans.set(e.span.spanContext.spanId,e)}},{key:"onEnd",value:function(e){this.applyTransforms(e.span),this.exporter.export([e.export()]),this.pendingSpans.delete(e.span.spanContext.spanId)}}])}();function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function hn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pn(n.key),n)}}function pn(e){var t=function(e,t){if("object"!=ln(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ln(t)?t:t+""}var dn=function(){return function(e,t,r){return t&&hn(e.prototype,t),r&&hn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.usePerformance=t.usePerformance,this.initReadableSpan(t),this.spanProcessor=t.spanProcessor,this.spanProcessor.onStart(this,t.context),t.attributes&&this.setAttributes(t.attributes),this}),[{key:"initReadableSpan",value:function(e){var t;this.span={name:e.name,kind:e.kind,spanContext:e.spanContext,parentSpanId:e.parentSpanId,startTime:e.startTime||qr.now(e.usePerformance),endTime:[0,0],status:{code:0,message:""},attributes:{"session.id":null===(t=e.session)||void 0===t?void 0:t.id},links:[],events:[],duration:0,ended:!1,resource:e.resource,instrumentationScope:e.scope,droppedAttributesCount:0,droppedEventsCount:0,droppedLinksCount:0}}},{key:"spanContext",value:function(){return this.span.spanContext}},{key:"spanId",get:function(){return this.span.spanContext.spanId}},{key:"traceId",get:function(){return this.span.spanContext.traceId}},{key:"setAttribute",value:function(e,t){return null==t||this.span.ended||0===e.length||(this.span.attributes[e]=t),this}},{key:"setAttributes",value:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=cn(r[t],2),o=n[0],i=n[1];this.setAttribute(o,i)}return this}},{key:"addEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this.span.ended||this.span.events.push({name:e,attributes:t,time:r||qr.now(),droppedAttributesCount:0}),this}},{key:"isRecording",value:function(){return!1===this.span.ended}},{key:"end",value:function(e,t){e&&this.setAttributes(e),this.span.endTime=t||qr.now(this.usePerformance),this.span.ended=!0,this.spanProcessor.onEnd(this)}},{key:"export",value:function(){return this.span}}])}();function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(r),!0).forEach((function(t){gn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gn(e,t,r){return(t=wn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wn(n.key),n)}}function wn(e){var t=function(e,t){if("object"!=vn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vn(t)?t:t+""}var kn=function(){return function(e,t,r){return t&&bn(e.prototype,t),r&&bn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.spanProcessor=r,this.tracing=t}),[{key:"startSpan",value:function(e){var t,r,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tracing.contextManager.active(),s=this.tracing.getSpan(a),u=null==s?void 0:s.spanContext(),l=Lr.gen(8),c=null;u?(n=u.traceId,c=u.traceState,o=u.spanId):n=Lr.gen(16);var f={traceId:n,spanId:l,traceFlags:0,traceState:c},h={attributes:mn(mn({},(null===(t=this.tracing.resource)||void 0===t?void 0:t.attributes)||{}),(null===(r=i.resource)||void 0===r?void 0:r.attributes)||{})};return new dn({resource:h,scope:this.tracing.scope,session:this.tracing.session.session,context:a,spanContext:f,name:e,kind:0,parentSpanId:o,spanProcessor:this.spanProcessor,startTime:i.startTime,usePerformance:i.usePerformance})}}])}();function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){In(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function In(e,t,r){return(t=En(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function On(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,En(n.key),n)}}function En(e){var t=function(e,t){if("object"!=Sn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sn(t)?t:t+""}var _n,An=(_n="Rollbar Context Key SPAN",Symbol.for(_n)),Rn=function(){return function(e,t,r){return t&&On(e.prototype,t),r&&On(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,this.options=n,this.window=t,this.window.sessionStorage&&(this.session=new Gr(this,n)),this.createTracer()}),[{key:"configure",value:function(e){this.options=e}},{key:"initSession",value:function(){this.session&&this.session.init()}},{key:"sessionId",get:function(){return this.session?this.session.session.id:null}},{key:"resource",get:function(){var e,t;return{attributes:Cn(Cn({},this.options.resource||{}),{},{"rollbar.environment":null!==(e=null===(t=this.options.payload)||void 0===t?void 0:t.environment)&&void 0!==e?e:this.options.environment})}}},{key:"scope",get:function(){return{name:"rollbar-browser-js",version:this.options.version}}},{key:"idGen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;return Lr.gen(e)}},{key:"createTracer",value:function(){this.contextManager=new jr,this.exporter=new en(this.api,this.options),this.spanProcessor=new un(this.exporter,this.options.tracing),this.tracer=new kn(this,this.spanProcessor)}},{key:"getTracer",value:function(){return this.tracer}},{key:"addSpanTransform",value:function(e){this.spanProcessor.addTransform(e)}},{key:"getSpan",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.contextManager.active()).getValue(An)}},{key:"setSpan",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.contextManager.active(),t=arguments.length>1?arguments[1]:void 0;return e.setValue(An,t)}},{key:"startSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.contextManager.active();return this.tracer.startSpan(e,t,r)}},{key:"with",value:function(e,t,r){for(var n,o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return(n=this.contextManager).with.apply(n,[e,t,r].concat(i))}},{key:"withSpan",value:function(e,t,r,n){var o=this.startSpan(e,t);return this.with(this.setSpan(this.contextManager.active(),o),r,n,o)}}])}(),Tn=["inputs"],Pn=["inputId"],Mn=["inputs"],jn=["inputId"],Ln=["type"];function Nn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Dn(){Dn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new R(n||[]);return o(a,"_invoke",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==r&&n.call(S,a)&&(w=S);var x=b.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==ao(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(c).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=E(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ao(t)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(I.prototype),l(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new I(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function Fn(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Un(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Fn(i,n,o,a,s,"next",e)}function s(e){Fn(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||eo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t,r,n){var o=Wn($n(1&n?e.prototype:e),t,r);return 2&n&&"function"==typeof o?function(e){return o.apply(r,e)}:o}function Wn(){return Wn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=$n(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},Wn.apply(null,arguments)}function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(r),!0).forEach((function(t){Hn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hn(e,t,r){return(t=io(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qn(e){return function(e){if(Array.isArray(e))return to(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t,r){return t=$n(t),function(e,t){if(t&&("object"==ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Xn()?Reflect.construct(t,r||[],$n(e).constructor):t.apply(e,r))}function Zn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kn(e,t)}function Yn(e){var t="function"==typeof Map?new Map:void 0;return Yn=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(Xn())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&Kn(o,r.prototype),o}(e,arguments,$n(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Kn(r,e)},Yn(e)}function Xn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xn=function(){return!!e})()}function Kn(e,t){return Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kn(e,t)}function $n(e){return $n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$n(e)}function Qn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=eo(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function eo(e,t){if(e){if("string"==typeof e)return to(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?to(e,t):void 0}}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function no(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,io(n.key),n)}}function oo(e,t,r){return t&&no(e.prototype,t),r&&no(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function io(e){var t=function(e,t){if("object"!=ao(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ao(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ao(t)?t:t+""}function ao(e){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ao(e)}var so,uo=Object.defineProperty,lo=function(e,t,r){return function(e,t,r){return t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}(e,"symbol"!==ao(t)?t+"":t,r)},co=Object.defineProperty,fo=function(e,t,r){return function(e,t,r){return t in e?co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}(e,"symbol"!==ao(t)?t+"":t,r)},ho=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(ho||{}),po={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},vo={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},yo={};function mo(e){if(yo[e])return yo[e];var t=globalThis[e],r=t.prototype,n=e in po?po[e]:void 0,o=Boolean(n&&n.every((function(e){var t,n;return Boolean(null==(n=null==(t=Object.getOwnPropertyDescriptor(r,e))?void 0:t.get)?void 0:n.toString().includes("[native code]"))}))),i=e in vo?vo[e]:void 0,a=Boolean(i&&i.every((function(e){var t;return"function"==typeof r[e]&&(null==(t=r[e])?void 0:t.toString().includes("[native code]"))})));if(o&&a&&!globalThis.Zone)return yo[e]=t.prototype,t.prototype;try{var s=document.createElement("iframe");document.body.appendChild(s);var u=s.contentWindow;if(!u)return t.prototype;var l=u[e].prototype;return document.body.removeChild(s),l?yo[e]=l:r}catch(e){return r}}var go={};function bo(e,t,r){var n,o="".concat(e,".").concat(String(r));if(go[o])return go[o].call(t);var i=mo(e),a=null==(n=Object.getOwnPropertyDescriptor(i,r))?void 0:n.get;return a?(go[o]=a,a.call(t)):t[r]}var wo={};function ko(e,t,r){var n="".concat(e,".").concat(String(r));if(wo[n])return wo[n].bind(t);var o=mo(e)[r];return"function"!=typeof o?t[r]:(wo[n]=o,o.bind(t))}var So={childNodes:function(e){return bo("Node",e,"childNodes")},parentNode:function(e){return bo("Node",e,"parentNode")},parentElement:function(e){return bo("Node",e,"parentElement")},textContent:function(e){return bo("Node",e,"textContent")},contains:function(e,t){return ko("Node",e,"contains")(t)},getRootNode:function(e){return ko("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?bo("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?bo("Element",e,"shadowRoot"):null},querySelector:function(e,t){return bo("Element",e,"querySelector")(t)},querySelectorAll:function(e,t){return bo("Element",e,"querySelectorAll")(t)},mutationObserver:function(){return mo("MutationObserver").constructor}};function xo(e){return e.nodeType===e.ELEMENT_NODE}function Co(e){var t=e&&"host"in e&&"mode"in e&&So.host(e)||null;return Boolean(t&&"shadowRoot"in t&&So.shadowRoot(t)===e)}function Io(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Oo(e){try{var t=e.rules||e.cssRules;if(!t)return null;var r=e.href;!r&&e.ownerNode&&e.ownerNode.ownerDocument&&(r=e.ownerNode.ownerDocument.location.href);var n=Array.from(t,(function(e){return Eo(e,r)})).join("");return(o=n).includes(" background-clip: text;")&&!o.includes(" -webkit-background-clip: text;")&&(o=o.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),o}catch(e){return null}var o}function Eo(e,t){if(function(e){return"styleSheet"in e}(e)){var r;try{r=Oo(e.styleSheet)||function(e){var t=e.cssText;if(t.split('"').length<3)return t;var r=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?r.push("layer"):e.layerName&&r.push("layer(".concat(e.layerName,")")),e.supportsText&&r.push("supports(".concat(e.supportsText,")")),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}(e)}catch(t){r=e.cssText}return e.styleSheet.href?Fo(r,e.styleSheet.href):r}var n,o=e.cssText;return function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":")&&(n=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,o=o.replace(n,"$1\\$2")),t?Fo(o,t):o}var _o=function(){return oo((function e(){ro(this,e),fo(this,"idNodeMap",new Map),fo(this,"nodeMetaMap",new WeakMap)}),[{key:"getId",value:function(e){var t;if(!e)return-1;var r=null==(t=this.getMeta(e))?void 0:t.id;return null!=r?r:-1}},{key:"getNode",value:function(e){return this.idNodeMap.get(e)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(e){return this.nodeMetaMap.get(e)||null}},{key:"removeNodeFromMap",value:function(e){var t=this,r=this.getId(e);this.idNodeMap.delete(r),e.childNodes&&e.childNodes.forEach((function(e){return t.removeNodeFromMap(e)}))}},{key:"has",value:function(e){return this.idNodeMap.has(e)}},{key:"hasNode",value:function(e){return this.nodeMetaMap.has(e)}},{key:"add",value:function(e,t){var r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}},{key:"replace",value:function(e,t){var r=this.getNode(e);if(r){var n=this.nodeMetaMap.get(r);n&&this.nodeMetaMap.set(t,n)}this.idNodeMap.set(e,t)}},{key:"reset",value:function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}])}();function Ao(e){var t=e.element,r=e.maskInputOptions,n=e.tagName,o=e.type,i=e.value,a=e.maskInputFn,s=i||"",u=o&&Ro(o);return(r[n.toLowerCase()]||u&&r[u])&&(s=a?a(s,t):"*".repeat(s.length)),s}function Ro(e){return e.toLowerCase()}var To="__rrweb_original__";function Po(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Ro(t):null}function Mo(e,t){var r,n;try{n=new URL(e,null!=t?t:window.location.href)}catch(e){return null}var o=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(r=null==o?void 0:o[1])&&void 0!==r?r:null}var jo=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Lo=/^(?:[a-z+]+:)?\/\//i,No=/^www\..*/i,Do=/^(data:)([^,]*),(.*)/i;function Fo(e,t){return(e||"").replace(jo,(function(e,r,n,o,i,a){var s,u=n||i||a,l=r||o||"";if(!u)return e;if(Lo.test(u)||No.test(u))return"url(".concat(l).concat(u).concat(l,")");if(Do.test(u))return"url(".concat(l).concat(u).concat(l,")");if("/"===u[0])return"url(".concat(l).concat((s=t,(s.indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+u)).concat(l,")");var c=t.split("/"),f=u.split("/");c.pop();var h,p=Qn(f);try{for(p.s();!(h=p.n()).done;){var d=h.value;"."!==d&&(".."===d?c.pop():c.push(d))}}catch(e){p.e(e)}finally{p.f()}return"url(".concat(l).concat(c.join("/")).concat(l,")")}))}function Uo(e){return e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"")}function Bo(e,t){return function(e,t){var r=Array.from(t.childNodes),n=[];if(r.length>1&&e&&"string"==typeof e)for(var o=Uo(e),i=1;i<r.length;i++)if(r[i].textContent&&"string"==typeof r[i].textContent)for(var a=Uo(r[i].textContent),s=3;s<a.length;s++){var u=a.substring(0,s);if(2===o.split(u).length){for(var l=o.indexOf(u),c=l;c<e.length;c++)if(Uo(e.substring(0,c)).length===l){n.push(e.substring(0,c)),e=e.substring(c);break}break}}return n.push(e),n}(e,t).join("/* rr_split */")}var zo,Wo,Go=1,Vo=new RegExp("[^a-z0-9-_:]");function Ho(){return Go++}var qo=/^[^ \t\n\r\u000c]+/,Jo=/^[, \t\n\r\u000c]+/;var Zo=new WeakMap;function Yo(e,t){return t&&""!==t.trim()?Ko(e,t):t}function Xo(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Ko(e,t){var r=Zo.get(e);if(r||(r=e.createElement("a"),Zo.set(e,r)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return r.setAttribute("href",t),r.href}function $o(e,t,r,n){return n?"src"===r||"href"===r&&("use"!==t||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0]?Yo(e,n):"background"!==r||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===r?function(e,t){if(""===t.trim())return t;var r=0;function n(e){var n,o=e.exec(t.substring(r));return o?(n=o[0],r+=n.length,n):""}for(var o=[];n(Jo),!(r>=t.length);){var i=n(qo);if(","===i.slice(-1))i=Yo(e,i.substring(0,i.length-1)),o.push(i);else{var a="";i=Yo(e,i);for(var s=!1;;){var u=t.charAt(r);if(""===u){o.push((i+a).trim());break}if(s)")"===u&&(s=!1);else{if(","===u){r+=1,o.push((i+a).trim());break}"("===u&&(s=!0)}a+=u,r+=1}}}return o.join(", ")}(e,n):"style"===r?Fo(n,Ko(e)):"object"===t&&"data"===r?Yo(e,n):n:Yo(e,n):n}function Qo(e,t,r){return("video"===e||"audio"===e)&&"autoplay"===t}function ei(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!r&&ei(So.parentNode(e),t,r);for(var n=e.classList.length;n--;){var o=e.classList[n];if(t.test(o))return!0}return!!r&&ei(So.parentNode(e),t,r)}function ti(e,t,r,n){var o;if(xo(e)){if(o=e,!So.childNodes(o).length)return!1}else{if(null===So.parentElement(e))return!1;o=So.parentElement(e)}try{if("string"==typeof t){if(n){if(o.closest(".".concat(t)))return!0}else if(o.classList.contains(t))return!0}else if(ei(o,t,n))return!0;if(r)if(n){if(o.closest(r))return!0}else if(o.matches(r))return!0}catch(e){}return!1}function ri(e,t){var r=t.doc,n=t.mirror,o=t.blockClass,i=t.blockSelector,a=t.needsMask,s=t.inlineStylesheet,u=t.maskInputOptions,l=void 0===u?{}:u,c=t.maskTextFn,f=t.maskInputFn,h=t.dataURLOptions,p=void 0===h?{}:h,d=t.inlineImages,v=t.recordCanvas,y=t.keepIframeSrcFn,m=t.newlyAddedElement,g=void 0!==m&&m,b=t.cssCaptured,w=void 0!==b&&b,k=function(e,t){if(!t.hasNode(e))return;var r=t.getId(e);return 1===r?void 0:r}(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:ho.Document,childNodes:[],compatMode:e.compatMode}:{type:ho.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ho.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return function(e,t){for(var r,n=t.doc,o=t.blockClass,i=t.blockSelector,a=t.inlineStylesheet,s=t.maskInputOptions,u=void 0===s?{}:s,l=t.maskInputFn,c=t.dataURLOptions,f=void 0===c?{}:c,h=t.inlineImages,p=t.recordCanvas,d=t.keepIframeSrcFn,v=t.newlyAddedElement,y=void 0!==v&&v,m=t.rootId,g=function(e,t,r){try{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var n=e.classList.length;n--;){var o=e.classList[n];if(t.test(o))return!0}if(r)return e.matches(r)}catch(e){}return!1}(e,o,i),b=function(e){if(e instanceof HTMLFormElement)return"form";var t=Ro(e.tagName);return Vo.test(t)?"div":t}(e),w={},k=e.attributes.length,S=0;S<k;S++){var x=e.attributes[S];Qo(b,x.name,x.value)||(w[x.name]=$o(n,b,Ro(x.name),x.value))}if("link"===b&&a){var C=Array.from(n.styleSheets).find((function(t){return t.href===e.href})),I=null;C&&(I=Oo(C)),I&&(delete w.rel,delete w.href,w._cssText=I)}if("style"===b&&e.sheet){var O=Oo(e.sheet);O&&(e.childNodes.length>1&&(O=Bo(O,e)),w._cssText=O)}if("input"===b||"textarea"===b||"select"===b){var E=e.value,_=e.checked;"radio"!==w.type&&"checkbox"!==w.type&&"submit"!==w.type&&"button"!==w.type&&E?w.value=Ao({element:e,type:Po(e),tagName:b,value:E,maskInputOptions:u,maskInputFn:l}):_&&(w.checked=_)}"option"===b&&(e.selected&&!u.select?w.selected=!0:delete w.selected);"dialog"===b&&e.open&&(w.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal");if("canvas"===b&&p)if("2d"===e.__context)(function(e){var t=e.getContext("2d");if(!t)return!0;for(var r=0;r<e.width;r+=50)for(var n=0;n<e.height;n+=50){var o=t.getImageData,i=To in o?o[To]:o;if(new Uint32Array(i.call(t,r,n,Math.min(50,e.width-r),Math.min(50,e.height-n)).data.buffer).some((function(e){return 0!==e})))return!1}return!0})(e)||(w.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){var A=e.toDataURL(f.type,f.quality),R=n.createElement("canvas");R.width=e.width,R.height=e.height,A!==R.toDataURL(f.type,f.quality)&&(w.rr_dataURL=A)}if("img"===b&&h){zo||(zo=n.createElement("canvas"),Wo=zo.getContext("2d"));var T=e,P=T.currentSrc||T.getAttribute("src")||"<unknown-src>",M=T.crossOrigin,j=function(){T.removeEventListener("load",j);try{zo.width=T.naturalWidth,zo.height=T.naturalHeight,Wo.drawImage(T,0,0),w.rr_dataURL=zo.toDataURL(f.type,f.quality)}catch(e){if("anonymous"!==T.crossOrigin)return T.crossOrigin="anonymous",void(T.complete&&0!==T.naturalWidth?j():T.addEventListener("load",j));console.warn("Cannot inline img src=".concat(P,"! Error: ").concat(e))}"anonymous"===T.crossOrigin&&(M?w.crossOrigin=M:T.removeAttribute("crossorigin"))};T.complete&&0!==T.naturalWidth?j():T.addEventListener("load",j)}if("audio"===b||"video"===b){var L=w;L.rr_mediaState=e.paused?"paused":"played",L.rr_mediaCurrentTime=e.currentTime,L.rr_mediaPlaybackRate=e.playbackRate,L.rr_mediaMuted=e.muted,L.rr_mediaLoop=e.loop,L.rr_mediaVolume=e.volume}y||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop));if(g){var N=e.getBoundingClientRect(),D=N.width,F=N.height;w={class:w.class,rr_width:"".concat(D,"px"),rr_height:"".concat(F,"px")}}"iframe"!==b||d(w.src)||(e.contentDocument||(w.rr_src=w.src),delete w.src);try{customElements.get(b)&&(r=!0)}catch(e){}return{type:ho.Element,tagName:b,attributes:w,childNodes:[],isSVG:Xo(e)||void 0,needBlock:g,rootId:m,isCustom:r}}(e,{doc:r,blockClass:o,blockSelector:i,inlineStylesheet:s,maskInputOptions:l,maskInputFn:f,dataURLOptions:p,inlineImages:d,recordCanvas:v,keepIframeSrcFn:y,newlyAddedElement:g,rootId:k});case e.TEXT_NODE:return function(e,t){var r=t.needsMask,n=t.maskTextFn,o=t.rootId,i=t.cssCaptured,a=So.parentNode(e),s=a&&a.tagName,u="",l="STYLE"===s||void 0,c="SCRIPT"===s||void 0;c?u="SCRIPT_PLACEHOLDER":i||(u=So.textContent(e),l&&u&&(u=Fo(u,Ko(t.doc))));!l&&!c&&u&&r&&(u=n?n(u,So.parentElement(e)):u.replace(/[\S]/g,"*"));return{type:ho.Text,textContent:u||"",rootId:o}}(e,{doc:r,needsMask:a,maskTextFn:c,rootId:k,cssCaptured:w});case e.CDATA_SECTION_NODE:return{type:ho.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:ho.Comment,textContent:So.textContent(e)||"",rootId:k};default:return!1}}function ni(e){return null==e?"":e.toLowerCase()}function oi(e,t){var r=t.doc,n=t.mirror,o=t.blockClass,i=t.blockSelector,a=t.maskTextClass,s=t.maskTextSelector,u=t.skipChild,l=void 0!==u&&u,c=t.inlineStylesheet,f=void 0===c||c,h=t.maskInputOptions,p=void 0===h?{}:h,d=t.maskTextFn,v=t.maskInputFn,y=t.slimDOMOptions,m=t.dataURLOptions,g=void 0===m?{}:m,b=t.inlineImages,w=void 0!==b&&b,k=t.recordCanvas,S=void 0!==k&&k,x=t.onSerialize,C=t.onIframeLoad,I=t.iframeLoadTimeout,O=void 0===I?5e3:I,E=t.onStylesheetLoad,_=t.stylesheetLoadTimeout,A=void 0===_?5e3:_,R=t.keepIframeSrcFn,T=void 0===R?function(){return!1}:R,P=t.newlyAddedElement,M=void 0!==P&&P,j=t.cssCaptured,L=void 0!==j&&j,N=t.needsMask,D=t.preserveWhiteSpace,F=void 0===D||D;N||(N=ti(e,a,s,void 0===N));var U,B=ri(e,{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:N,inlineStylesheet:f,maskInputOptions:p,maskTextFn:d,maskInputFn:v,dataURLOptions:g,inlineImages:w,recordCanvas:S,keepIframeSrcFn:T,newlyAddedElement:M,cssCaptured:L});if(!B)return console.warn(e,"not serialized"),null;U=n.hasNode(e)?n.getId(e):function(e,t){if(t.comment&&e.type===ho.Comment)return!0;if(e.type===ho.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===Mo(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(ni(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===ni(e.attributes.name)||"icon"===ni(e.attributes.rel)||"apple-touch-icon"===ni(e.attributes.rel)||"shortcut icon"===ni(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&ni(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ni(e.attributes.property).match(/^(og|twitter|fb):/)||ni(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===ni(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===ni(e.attributes.name)||"googlebot"===ni(e.attributes.name)||"bingbot"===ni(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===ni(e.attributes.name)||"generator"===ni(e.attributes.name)||"framework"===ni(e.attributes.name)||"publisher"===ni(e.attributes.name)||"progid"===ni(e.attributes.name)||ni(e.attributes.property).match(/^article:/)||ni(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===ni(e.attributes.name)||"yandex-verification"===ni(e.attributes.name)||"csrf-token"===ni(e.attributes.name)||"p:domain_verify"===ni(e.attributes.name)||"verify-v1"===ni(e.attributes.name)||"verification"===ni(e.attributes.name)||"shopify-checkout-api-token"===ni(e.attributes.name)))return!0}}return!1}(B,y)||!F&&B.type===ho.Text&&!B.textContent.replace(/^\s+|\s+$/gm,"").length?-2:Ho();var z=Object.assign(B,{id:U});if(n.add(e,z),-2===U)return null;x&&x(e);var W=!l;if(z.type===ho.Element){W=W&&!z.needBlock,delete z.needBlock;var G=So.shadowRoot(e);G&&Io(G)&&(z.isShadowHost=!0)}if((z.type===ho.Document||z.type===ho.Element)&&W){y.headWhitespace&&z.type===ho.Element&&"head"===z.tagName&&(F=!1);var V={doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:N,maskTextClass:a,maskTextSelector:s,skipChild:l,inlineStylesheet:f,maskInputOptions:p,maskTextFn:d,maskInputFn:v,slimDOMOptions:y,dataURLOptions:g,inlineImages:w,recordCanvas:S,preserveWhiteSpace:F,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:O,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:T,cssCaptured:!1};if(z.type===ho.Element&&"textarea"===z.tagName&&void 0!==z.attributes.value);else{z.type===ho.Element&&void 0!==z.attributes._cssText&&"string"==typeof z.attributes._cssText&&(V.cssCaptured=!0);for(var H=0,q=Array.from(So.childNodes(e));H<q.length;H++){var J=oi(q[H],V);J&&z.childNodes.push(J)}}var Z=null;if(xo(e)&&(Z=So.shadowRoot(e)))for(var Y=0,X=Array.from(So.childNodes(Z));Y<X.length;Y++){var K=oi(X[Y],V);K&&(Io(Z)&&(K.isShadow=!0),z.childNodes.push(K))}}var $=So.parentNode(e);return $&&Co($)&&Io($)&&(z.isShadow=!0),z.type===ho.Element&&"iframe"===z.tagName&&function(e,t,r){var n=e.contentWindow;if(n){var o,i=!1;try{o=n.document.readyState}catch(e){return}if("complete"===o){var a="about:blank";if(n.location.href!==a||e.src===a||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}else{var s=setTimeout((function(){i||(t(),i=!0)}),r);e.addEventListener("load",(function(){clearTimeout(s),i=!0,t()}))}}}(e,(function(){var t=e.contentDocument;if(t&&C){var r=oi(t,{doc:t,mirror:n,blockClass:o,blockSelector:i,needsMask:N,maskTextClass:a,maskTextSelector:s,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskTextFn:d,maskInputFn:v,slimDOMOptions:y,dataURLOptions:g,inlineImages:w,recordCanvas:S,preserveWhiteSpace:F,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:O,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:T});r&&C(e,r)}}),O),z.type===ho.Element&&"link"===z.tagName&&"string"==typeof z.attributes.rel&&("stylesheet"===z.attributes.rel||"preload"===z.attributes.rel&&"string"==typeof z.attributes.href&&"css"===Mo(z.attributes.href))&&function(e,t,r){var n,o=!1;try{n=e.sheet}catch(e){return}if(!n){var i=setTimeout((function(){o||(t(),o=!0)}),r);e.addEventListener("load",(function(){clearTimeout(i),o=!0,t()}))}}(e,(function(){if(E){var t=oi(e,{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:N,maskTextClass:a,maskTextSelector:s,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskTextFn:d,maskInputFn:v,slimDOMOptions:y,dataURLOptions:g,inlineImages:w,recordCanvas:S,preserveWhiteSpace:F,onSerialize:x,onIframeLoad:C,iframeLoadTimeout:O,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:T});t&&E(e,t)}}),A),z}function ii(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ai(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var si={exports:{}},ui=String,li=function(){return{isColorSupported:!1,reset:ui,bold:ui,dim:ui,italic:ui,underline:ui,inverse:ui,hidden:ui,strikethrough:ui,black:ui,red:ui,green:ui,yellow:ui,blue:ui,magenta:ui,cyan:ui,white:ui,gray:ui,bgBlack:ui,bgRed:ui,bgGreen:ui,bgYellow:ui,bgBlue:ui,bgMagenta:ui,bgCyan:ui,bgWhite:ui}};si.exports=li(),si.exports.createColors=li;var ci=si.exports,fi=ai(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),hi=ci,pi=fi,di=function(e){function t(e,r,n,o,i,a){var s;return ro(this,t),(s=Jn(this,t,[e])).name="CssSyntaxError",s.reason=e,i&&(s.file=i),o&&(s.source=o),a&&(s.plugin=a),void 0!==r&&void 0!==n&&("number"==typeof r?(s.line=r,s.column=n):(s.line=r.line,s.column=r.column,s.endLine=n.line,s.endColumn=n.column)),s.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return Zn(t,e),oo(t,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}},{key:"showSourceCode",value:function(e){var t=this;if(!this.source)return"";var r=this.source;null==e&&(e=hi.isColorSupported),pi&&e&&(r=pi(r));var n,o,i=r.split(/\r?\n/),a=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),u=String(s).length;if(e){var l=hi.createColors(!0),c=l.bold,f=l.gray,h=l.red;n=function(e){return c(h(e))},o=function(e){return f(e)}}else n=o=function(e){return e};return i.slice(a,s).map((function(e,r){var i=a+1+r,s=" "+(" "+i).slice(-u)+" | ";if(i===t.line){var l=o(s.replace(/\d/g," "))+e.slice(0,t.column-1).replace(/[^\t]/g," ");return n(">")+o(s)+e+"\n "+l+n("^")}return" "+o(s)+e})).join("\n")}},{key:"toString",value:function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}])}(Yn(Error)),vi=di;di.default=di;var yi={};yi.isClean=Symbol("isClean"),yi.my=Symbol("my");var mi={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};var gi=function(){return oo((function e(t){ro(this,e),this.builder=t}),[{key:"atrule",value:function(e,t){var r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{var o=(e.raws.between||"")+(t?";":"");this.builder(r+n+o,e)}}},{key:"beforeAfter",value:function(e,t){var r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var n=e.parent,o=0;n&&"root"!==n.type;)o+=1,n=n.parent;if(r.includes("\n")){var i=this.raw(e,null,"indent");if(i.length)for(var a=0;a<o;a++)r+=i}return r}},{key:"block",value:function(e,t){var r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}},{key:"body",value:function(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var r=this.raw(e,"semicolon"),n=0;n<e.nodes.length;n++){var o=e.nodes[n],i=this.raw(o,"before");i&&this.builder(i),this.stringify(o,t!==n||r)}}},{key:"comment",value:function(e){var t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}},{key:"decl",value:function(e,t){var r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}},{key:"document",value:function(e){this.body(e)}},{key:"raw",value:function(e,t,r){var n;if(r||(r=t),t&&void 0!==(n=e.raws[t]))return n;var o=e.parent;if("before"===r){if(!o||"root"===o.type&&o.first===e)return"";if(o&&"document"===o.type)return""}if(!o)return mi[r];var i=e.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[r])return i.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);var a,s="raw"+((a=r)[0].toUpperCase()+a.slice(1));return this[s]?n=this[s](i,e):i.walk((function(e){if(void 0!==(n=e.raws[t]))return!1})),void 0===n&&(n=mi[r]),i.rawCache[r]=n,n}},{key:"rawBeforeClose",value:function(e){var t;return e.walk((function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}},{key:"rawBeforeComment",value:function(e,t){var r;return e.walkComments((function(e){if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}},{key:"rawBeforeDecl",value:function(e,t){var r;return e.walkDecls((function(e){if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}},{key:"rawBeforeOpen",value:function(e){var t;return e.walk((function(e){if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1})),t}},{key:"rawBeforeRule",value:function(e){var t;return e.walk((function(r){if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return(t=r.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}},{key:"rawColon",value:function(e){var t;return e.walkDecls((function(e){if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}},{key:"rawEmptyBody",value:function(e){var t;return e.walk((function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1})),t}},{key:"rawIndent",value:function(e){return e.raws.indent?e.raws.indent:(e.walk((function(r){var n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){var o=r.raws.before.split("\n");return t=(t=o[o.length-1]).replace(/\S/g,""),!1}})),t);var t}},{key:"rawSemicolon",value:function(e){var t;return e.walk((function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1})),t}},{key:"rawValue",value:function(e,t){var r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}},{key:"root",value:function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}},{key:"rule",value:function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}},{key:"stringify",value:function(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}])}(),bi=gi;gi.default=gi;var wi=bi;function ki(e,t){new wi(t).stringify(e)}var Si=ki;ki.default=ki;var xi=yi.isClean,Ci=yi.my,Ii=vi,Oi=bi,Ei=Si;function _i(e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"proxyCache"!==n){var o=e[n],i=ao(o);"parent"===n&&"object"===i?t&&(r[n]=t):"source"===n?r[n]=o:Array.isArray(o)?r[n]=o.map((function(e){return _i(e,r)})):("object"===i&&null!==o&&(o=_i(o)),r[n]=o)}return r}var Ai=function(){return oo((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var r in ro(this,e),this.raws={},this[xi]=!1,this[Ci]=!0,t)if("nodes"===r){this.nodes=[];var n,o=Qn(t[r]);try{for(o.s();!(n=o.n()).done;){var i=n.value;"function"==typeof i.clone?this.append(i.clone()):this.append(i)}}catch(e){o.e(e)}finally{o.f()}}else this[r]=t[r]}),[{key:"addToError",value:function(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}},{key:"after",value:function(e){return this.parent.insertAfter(this,e),this}},{key:"assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this[t]=e[t];return this}},{key:"before",value:function(e){return this.parent.insertBefore(this,e),this}},{key:"cleanRaws",value:function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_i(this);for(var r in e)t[r]=e[r];return t}},{key:"cloneAfter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}},{key:"cloneBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var r=this.rangeBy(t),n=r.end,o=r.start;return this.source.input.error(e,{column:o.column,line:o.line},{column:n.column,line:n.line},t)}return new Ii(e)}},{key:"getProxyProcessor",value:function(){return{get:function(e,t){return"proxyOf"===t?e:"root"===t?function(){return e.root().toProxy()}:e[t]},set:function(e,t,r){return e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0}}}},{key:"markDirty",value:function(){if(this[xi]){this[xi]=!1;for(var e=this;e=e.parent;)e[xi]=!1}}},{key:"next",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}},{key:"positionBy",value:function(e,t){var r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){var n=(t=this.toString()).indexOf(e.word);-1!==n&&(r=this.positionInside(n,t))}return r}},{key:"positionInside",value:function(e,t){for(var r=t||this.toString(),n=this.source.start.column,o=this.source.start.line,i=0;i<e;i++)"\n"===r[i]?(n=1,o+=1):n+=1;return{column:n,line:o}}},{key:"prev",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}},{key:"rangeBy",value:function(e){var t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){var n=this.toString(),o=n.indexOf(e.word);-1!==o&&(t=this.positionInside(o,n),r=this.positionInside(o+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}},{key:"raw",value:function(e,t){return(new Oi).raw(this,e,t)}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}},{key:"replaceWith",value:function(){if(this.parent){for(var e=this,t=!1,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(var i=0,a=n;i<a.length;i++){var s=a[i];s===this?t=!0:t?(this.parent.insertAfter(e,s),e=s):this.parent.insertBefore(e,s)}t||this.remove()}return this}},{key:"root",value:function(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}},{key:"toJSON",value:function(e,t){var r={},n=null==t;t=t||new Map;var o=0;for(var i in this)if(Object.prototype.hasOwnProperty.call(this,i)&&"parent"!==i&&"proxyCache"!==i){var a=this[i];if(Array.isArray(a))r[i]=a.map((function(e){return"object"===ao(e)&&e.toJSON?e.toJSON(null,t):e}));else if("object"===ao(a)&&a.toJSON)r[i]=a.toJSON(null,t);else if("source"===i){var s=t.get(a.input);null==s&&(s=o,t.set(a.input,o),o++),r[i]={end:a.end,inputId:s,start:a.start}}else r[i]=a}return n&&(r.inputs=qn(t.keys()).map((function(e){return e.toJSON()}))),r}},{key:"toProxy",value:function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei;e.stringify&&(e=e.stringify);var t="";return e(this,(function(e){t+=e})),t}},{key:"warn",value:function(e,t,r){var n={node:this};for(var o in r)n[o]=r[o];return e.warn(t,n)}},{key:"proxyOf",get:function(){return this}}])}(),Ri=Ai;Ai.default=Ai;var Ti=function(e){function t(e){var r;return ro(this,t),e&&void 0!==e.value&&"string"!=typeof e.value&&(e=Vn(Vn({},e),{},{value:String(e.value)})),(r=Jn(this,t,[e])).type="decl",r}return Zn(t,e),oo(t,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(Ri),Pi=Ti;Ti.default=Ti;var Mi=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},ji=fi.SourceMapConsumer,Li=fi.SourceMapGenerator,Ni=fi.existsSync,Di=fi.readFileSync,Fi=fi.dirname,Ui=fi.join;var Bi=function(){return oo((function e(t,r){if(ro(this,e),!1!==r.map){this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");var n=r.map?r.map.prev:void 0,o=this.loadMap(r.from,n);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=Fi(this.mapFile)),o&&(this.text=o)}}),[{key:"consumer",value:function(){return this.consumerCache||(this.consumerCache=new ji(this.text)),this.consumerCache}},{key:"decodeInline",value:function(e){var t;if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)}},{key:"getAnnotationURL",value:function(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(e){return"object"===ao(e)&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}},{key:"loadAnnotation",value:function(e){var t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(t){var r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}}},{key:"loadFile",value:function(e){if(this.root=Fi(e),Ni(e))return this.mapFile=e,Di(e,"utf-8").toString().trim()}},{key:"loadMap",value:function(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof ji)return Li.fromSourceMap(t).toString();if(t instanceof Li)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}var r=t(e);if(r){var n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var o=this.annotation;return e&&(o=Ui(Fi(e),o)),this.loadFile(o)}}}},{key:"startWith",value:function(e,t){return!!e&&e.substr(0,t.length)===t}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}])}(),zi=Bi;Bi.default=Bi;var Wi=fi.SourceMapConsumer,Gi=fi.SourceMapGenerator,Vi=fi.fileURLToPath,Hi=fi.pathToFileURL,qi=fi.isAbsolute,Ji=fi.resolve,Zi=Mi,Yi=fi,Xi=vi,Ki=zi,$i=Symbol("fromOffsetCache"),Qi=Boolean(Wi&&Gi),ea=Boolean(Ji&&qi),ta=function(){return oo((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ro(this,e),null==t||"object"===ao(t)&&!t.toString)throw new Error("PostCSS received ".concat(t," instead of CSS string"));if(this.css=t.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,r.from&&(!ea||/^\w+:\/\//.test(r.from)||qi(r.from)?this.file=r.from:this.file=Ji(r.from)),ea&&Qi){var n=new Ki(this.css,r);if(n.text){this.map=n;var o=n.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+Zi(6)+">"),this.map&&(this.map.file=this.from)}),[{key:"error",value:function(e,t,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&"object"===ao(t)){var s=t,u=r;if("number"==typeof s.offset){var l=this.fromOffset(s.offset);t=l.line,r=l.col}else t=s.line,r=s.column;if("number"==typeof u.offset){var c=this.fromOffset(u.offset);o=c.line,i=c.col}else o=u.line,i=u.column}else if(!r){var f=this.fromOffset(t);t=f.line,r=f.col}var h=this.origin(t,r,o,i);return(n=h?new Xi(e,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,a.plugin):new Xi(e,void 0===o?t:{column:r,line:t},void 0===o?r:{column:i,line:o},this.css,this.file,a.plugin)).input={column:r,endColumn:i,endLine:o,line:t,source:this.css},this.file&&(Hi&&(n.input.url=Hi(this.file).toString()),n.input.file=this.file),n}},{key:"fromOffset",value:function(e){var t;if(this[$i])t=this[$i];else{var r=this.css.split("\n");t=new Array(r.length);for(var n=0,o=0,i=r.length;o<i;o++)t[o]=n,n+=r[o].length+1;this[$i]=t}var a=0;if(e>=t[t.length-1])a=t.length-1;else for(var s,u=t.length-2;a<u;)if(e<t[s=a+(u-a>>1)])u=s-1;else{if(!(e>=t[s+1])){a=s;break}a=s+1}return{col:e-t[a]+1,line:a+1}}},{key:"mapResolve",value:function(e){return/^\w+:\/\//.test(e)?e:Ji(this.map.consumer().sourceRoot||this.map.root||".",e)}},{key:"origin",value:function(e,t,r,n){if(!this.map)return!1;var o,i,a=this.map.consumer(),s=a.originalPositionFor({column:t,line:e});if(!s.source)return!1;"number"==typeof r&&(o=a.originalPositionFor({column:n,line:r})),i=qi(s.source)?Hi(s.source):new URL(s.source,this.map.consumer().sourceRoot||Hi(this.map.mapFile));var u={column:s.column,endColumn:o&&o.column,endLine:o&&o.line,line:s.line,url:i.toString()};if("file:"===i.protocol){if(!Vi)throw new Error("file: protocol is not available in this PostCSS build");u.file=Vi(i)}var l=a.sourceContentFor(s.source);return l&&(u.source=l),u}},{key:"toJSON",value:function(){for(var e={},t=0,r=["hasBOM","css","file","id"];t<r.length;t++){var n=r[t];null!=this[n]&&(e[n]=this[n])}return this.map&&(e.map=Vn({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}},{key:"from",get:function(){return this.file||this.id}}])}(),ra=ta;ta.default=ta,Yi&&Yi.registerInput&&Yi.registerInput(ta);var na=fi.SourceMapConsumer,oa=fi.SourceMapGenerator,ia=fi.dirname,aa=fi.relative,sa=fi.resolve,ua=fi.sep,la=fi.pathToFileURL,ca=ra,fa=Boolean(na&&oa),ha=Boolean(ia&&sa&&aa&&ua),pa=function(){return oo((function e(t,r,n,o){ro(this,e),this.stringify=t,this.mapOpts=n.map||{},this.root=r,this.opts=n,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}),[{key:"addAnnotation",value:function(){var e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}},{key:"applyPrevMaps",value:function(){var e,t=Qn(this.previous());try{for(t.s();!(e=t.n()).done;){var r=e.value,n=this.toUrl(this.path(r.file)),o=r.root||ia(r.file),i=void 0;!1===this.mapOpts.sourcesContent?(i=new na(r.text)).sourcesContent&&(i.sourcesContent=null):i=r.consumer(),this.map.applySourceMap(i,n,this.toUrl(this.path(o)))}}catch(e){t.e(e)}finally{t.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){if(this.clearAnnotation(),ha&&fa&&this.isMap())return this.generateMap();var e="";return this.stringify(this.root,(function(t){e+=t})),[e]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=oa.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new oa({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var e=this;this.css="",this.map=new oa({file:this.outputFile(),ignoreInvalidMapping:!0});var t,r,n=1,o=1,i="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(function(s,u,l){if(e.css+=s,u&&"end"!==l&&(a.generated.line=n,a.generated.column=o-1,u.source&&u.source.start?(a.source=e.sourcePath(u),a.original.line=u.source.start.line,a.original.column=u.source.start.column-1,e.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,e.map.addMapping(a))),(t=s.match(/\n/g))?(n+=t.length,r=s.lastIndexOf("\n"),o=s.length-r):o+=s.length,u&&"start"!==l){var c=u.parent||{raws:{}};("decl"===u.type||"atrule"===u.type&&!u.nodes)&&u===c.last&&!c.raws.semicolon||(u.source&&u.source.end?(a.source=e.sourcePath(u),a.original.line=u.source.end.line,a.original.column=u.source.end.column-1,a.generated.line=n,a.generated.column=o-2,e.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,a.generated.line=n,a.generated.column=o-1,e.map.addMapping(a)))}}))}},{key:"isAnnotation",value:function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((function(e){return e.annotation})))}},{key:"isInline",value:function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((function(e){return e.inline})))}},{key:"isMap",value:function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}},{key:"isSourcesContent",value:function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((function(e){return e.withContent()}))}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;var t=this.memoizedPaths.get(e);if(t)return t;var r=this.opts.to?ia(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=ia(sa(r,this.mapOpts.annotation)));var n=aa(r,e);return this.memoizedPaths.set(e,n),n}},{key:"previous",value:function(){var e=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((function(t){if(t.source&&t.source.input.map){var r=t.source.input.map;e.previousMaps.includes(r)||e.previousMaps.push(r)}}));else{var t=new ca(this.originalCSS,this.opts);t.map&&this.previousMaps.push(t.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var e=this,t={};if(this.root)this.root.walk((function(r){if(r.source){var n=r.source.input.from;if(n&&!t[n]){t[n]=!0;var o=e.usesFileUrls?e.toFileUrl(n):e.toUrl(e.path(n));e.map.setSourceContent(o,r.source.input.css)}}}));else if(this.css){var r=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(r,this.css)}}},{key:"sourcePath",value:function(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}},{key:"toBase64",value:function(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}},{key:"toFileUrl",value:function(e){var t=this.memoizedFileURLs.get(e);if(t)return t;if(la){var r=la(e).toString();return this.memoizedFileURLs.set(e,r),r}throw new Error("`map.absolute` option is not available in this PostCSS build")}},{key:"toUrl",value:function(e){var t=this.memoizedURLs.get(e);if(t)return t;"\\"===ua&&(e=e.replace(/\\/g,"/"));var r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}}])}(),da=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[e])).type="comment",r}return Zn(t,e),oo(t)}(Ri),va=da;da.default=da;var ya,ma,ga,ba,wa=yi.isClean,ka=yi.my,Sa=Pi,xa=va;function Ca(e){return e.map((function(e){return e.nodes&&(e.nodes=Ca(e.nodes)),delete e.source,e}))}function Ia(e){if(e[wa]=!1,e.proxyOf.nodes){var t,r=Qn(e.proxyOf.nodes);try{for(r.s();!(t=r.n()).done;){Ia(t.value)}}catch(e){r.e(e)}finally{r.f()}}}var Oa=function(e){function t(){return ro(this,t),Jn(this,t,arguments)}return Zn(t,e),oo(t,[{key:"append",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,o=t;n<o.length;n++){var i,a=o[n],s=Qn(this.normalize(a,this.last));try{for(s.s();!(i=s.n()).done;){var u=i.value;this.proxyOf.nodes.push(u)}}catch(e){s.e(e)}finally{s.f()}}return this.markDirty(),this}},{key:"cleanRaws",value:function(e){if(zn(t,"cleanRaws",this,3)([e]),this.nodes){var r,n=Qn(this.nodes);try{for(n.s();!(r=n.n()).done;){r.value.cleanRaws(e)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"each",value:function(e){if(this.proxyOf.nodes){for(var t,r,n=this.getIterator();this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],!1!==(r=e(this.proxyOf.nodes[t],t)));)this.indexes[n]+=1;return delete this.indexes[n],r}}},{key:"every",value:function(e){return this.nodes.every(e)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}},{key:"getProxyProcessor",value:function(){return{get:function(e,t){return"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e[t].apply(e,qn(n.map((function(e){return"function"==typeof e?function(t,r){return e(t.toProxy(),r)}:e}))))}:"every"===t||"some"===t?function(r){return e[t]((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return r.apply(void 0,[e.toProxy()].concat(n))}))}:"root"===t?function(){return e.root().toProxy()}:"nodes"===t?e.nodes.map((function(e){return e.toProxy()})):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]},set:function(e,t,r){return e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0}}}},{key:"index",value:function(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}},{key:"insertAfter",value:function(e,t){var r=this.index(e),n=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);var o,i,a=Qn(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.proxyOf.nodes.splice(r+1,0,s)}}catch(e){a.e(e)}finally{a.f()}for(var u in this.indexes)r<(i=this.indexes[u])&&(this.indexes[u]=i+n.length);return this.markDirty(),this}},{key:"insertBefore",value:function(e,t){var r=this.index(e),n=0===r&&"prepend",o=this.normalize(t,this.proxyOf.nodes[r],n).reverse();r=this.index(e);var i,a,s=Qn(o);try{for(s.s();!(i=s.n()).done;){var u=i.value;this.proxyOf.nodes.splice(r,0,u)}}catch(e){s.e(e)}finally{s.f()}for(var l in this.indexes)r<=(a=this.indexes[l])&&(this.indexes[l]=a+o.length);return this.markDirty(),this}},{key:"normalize",value:function(e,r){var n=this;if("string"==typeof e)e=Ca(ya(e).nodes);else if(void 0===e)e=[];else if(Array.isArray(e)){var o,i=Qn(e=e.slice(0));try{for(i.s();!(o=i.n()).done;){var a=o.value;a.parent&&a.parent.removeChild(a,"ignore")}}catch(e){i.e(e)}finally{i.f()}}else if("root"===e.type&&"document"!==this.type){var s,u=Qn(e=e.nodes.slice(0));try{for(u.s();!(s=u.n()).done;){var l=s.value;l.parent&&l.parent.removeChild(l,"ignore")}}catch(e){u.e(e)}finally{u.f()}}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new Sa(e)]}else if(e.selector)e=[new ma(e)];else if(e.name)e=[new ga(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new xa(e)]}var c=e.map((function(e){return e[ka]||t.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[wa]&&Ia(e),void 0===e.raws.before&&r&&void 0!==r.raws.before&&(e.raws.before=r.raws.before.replace(/\S/g,"")),e.parent=n.proxyOf,e}));return c}},{key:"prepend",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=Qn(t=t.reverse());try{for(o.s();!(n=o.n()).done;){var i,a=n.value,s=this.normalize(a,this.first,"prepend").reverse(),u=Qn(s);try{for(u.s();!(i=u.n()).done;){var l=i.value;this.proxyOf.nodes.unshift(l)}}catch(e){u.e(e)}finally{u.f()}for(var c in this.indexes)this.indexes[c]=this.indexes[c]+s.length}}catch(e){o.e(e)}finally{o.f()}return this.markDirty(),this}},{key:"push",value:function(e){return e.parent=this,this.proxyOf.nodes.push(e),this}},{key:"removeAll",value:function(){var e,t=Qn(this.proxyOf.nodes);try{for(t.s();!(e=t.n()).done;){e.value.parent=void 0}}catch(e){t.e(e)}finally{t.f()}return this.proxyOf.nodes=[],this.markDirty(),this}},{key:"removeChild",value:function(e){var t;for(var r in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}},{key:"replaceValues",value:function(e,t,r){return r||(r=t,t={}),this.walkDecls((function(n){t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}},{key:"some",value:function(e){return this.nodes.some(e)}},{key:"walk",value:function(e){return this.each((function(t,r){var n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}},{key:"walkAtRules",value:function(e,t){return t?e instanceof RegExp?this.walk((function(r,n){if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk((function(r,n){if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk((function(e,r){if("atrule"===e.type)return t(e,r)})))}},{key:"walkComments",value:function(e){return this.walk((function(t,r){if("comment"===t.type)return e(t,r)}))}},{key:"walkDecls",value:function(e,t){return t?e instanceof RegExp?this.walk((function(r,n){if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk((function(r,n){if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk((function(e,r){if("decl"===e.type)return t(e,r)})))}},{key:"walkRules",value:function(e,t){return t?e instanceof RegExp?this.walk((function(r,n){if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk((function(r,n){if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk((function(e,r){if("rule"===e.type)return t(e,r)})))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(Ri);Oa.registerParse=function(e){ya=e},Oa.registerRule=function(e){ma=e},Oa.registerAtRule=function(e){ga=e},Oa.registerRoot=function(e){ba=e};var Ea=Oa;Oa.default=Oa,Oa.rebuild=function(e){"atrule"===e.type?Object.setPrototypeOf(e,ga.prototype):"rule"===e.type?Object.setPrototypeOf(e,ma.prototype):"decl"===e.type?Object.setPrototypeOf(e,Sa.prototype):"comment"===e.type?Object.setPrototypeOf(e,xa.prototype):"root"===e.type&&Object.setPrototypeOf(e,ba.prototype),e[ka]=!0,e.nodes&&e.nodes.forEach((function(e){Oa.rebuild(e)}))};var _a,Aa,Ra=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[Vn({type:"document"},e)])).nodes||(r.nodes=[]),r}return Zn(t,e),oo(t,[{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new _a(new Aa,this,e).stringify()}}])}(Ea);Ra.registerLazyResult=function(e){_a=e},Ra.registerProcessor=function(e){Aa=e};var Ta=Ra;Ra.default=Ra;var Pa=function(){return oo((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ro(this,e),this.type="warning",this.text=t,r.node&&r.node.source){var n=r.node.rangeBy(r);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(var o in r)this[o]=r[o]}),[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}(),Ma=Pa;Pa.default=Pa;var ja=Ma,La=function(){return oo((function e(t,r,n){ro(this,e),this.processor=t,this.messages=[],this.root=r,this.opts=n,this.css=void 0,this.map=void 0}),[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var r=new ja(e,t);return this.messages.push(r),r}},{key:"warnings",value:function(){return this.messages.filter((function(e){return"warning"===e.type}))}},{key:"content",get:function(){return this.css}}])}(),Na=La;La.default=La;var Da="'".charCodeAt(0),Fa='"'.charCodeAt(0),Ua="\\".charCodeAt(0),Ba="/".charCodeAt(0),za="\n".charCodeAt(0),Wa=" ".charCodeAt(0),Ga="\f".charCodeAt(0),Va="\t".charCodeAt(0),Ha="\r".charCodeAt(0),qa="[".charCodeAt(0),Ja="]".charCodeAt(0),Za="(".charCodeAt(0),Ya=")".charCodeAt(0),Xa="{".charCodeAt(0),Ka="}".charCodeAt(0),$a=";".charCodeAt(0),Qa="*".charCodeAt(0),es=":".charCodeAt(0),ts="@".charCodeAt(0),rs=/[\t\n\f\r "#'()/;[\\\]{}]/g,ns=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,os=/.[\r\n"'(/\\]/,is=/[\da-f]/i,as=Ea,ss=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[e])).type="atrule",r}return Zn(t,e),oo(t,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return zn(t,"append",this,3)(r)}},{key:"prepend",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return zn(t,"prepend",this,3)(r)}}])}(as),us=ss;ss.default=ss,as.registerAtRule(ss);var ls,cs,fs=Ea,hs=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[e])).type="root",r.nodes||(r.nodes=[]),r}return Zn(t,e),oo(t,[{key:"normalize",value:function(e,r,n){var o=zn(t,"normalize",this,3)([e]);if(r)if("prepend"===n)this.nodes.length>1?r.raws.before=this.nodes[1].raws.before:delete r.raws.before;else if(this.first!==r){var i,a=Qn(o);try{for(a.s();!(i=a.n()).done;){i.value.raws.before=r.raws.before}}catch(e){a.e(e)}finally{a.f()}}return o}},{key:"removeChild",value:function(e,r){var n=this.index(e);return!r&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),zn(t,"removeChild",this,3)([e])}},{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ls(new cs,this,e).stringify()}}])}(fs);hs.registerLazyResult=function(e){ls=e},hs.registerProcessor=function(e){cs=e};var ps=hs;hs.default=hs,fs.registerRoot(hs);var ds={comma:function(e){return ds.split(e,[","],!0)},space:function(e){return ds.split(e,[" ","\n","\t"])},split:function(e,t,r){var n,o=[],i="",a=!1,s=0,u=!1,l="",c=!1,f=Qn(e);try{for(f.s();!(n=f.n()).done;){var h=n.value;c?c=!1:"\\"===h?c=!0:u?h===l&&(u=!1):'"'===h||"'"===h?(u=!0,l=h):"("===h?s+=1:")"===h?s>0&&(s-=1):0===s&&t.includes(h)&&(a=!0),a?(""!==i&&o.push(i.trim()),i="",a=!1):i+=h}}catch(e){f.e(e)}finally{f.f()}return(r||""!==i)&&o.push(i.trim()),o}},vs=ds;ds.default=ds;var ys=Ea,ms=vs,gs=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[e])).type="rule",r.nodes||(r.nodes=[]),r}return Zn(t,e),oo(t,[{key:"selectors",get:function(){return ms.comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}}])}(ys),bs=gs;gs.default=gs,ys.registerRule(gs);var ws=Pi,ks=function(e){var t,r,n,o,i,a,s,u,l,c,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=e.css.valueOf(),p=f.ignoreErrors,d=h.length,v=0,y=[],m=[];function g(t){throw e.error("Unclosed "+t,v)}return{back:function(e){m.push(e)},endOfFile:function(){return 0===m.length&&v>=d},nextToken:function(e){if(m.length)return m.pop();if(!(v>=d)){var f=!!e&&e.ignoreUnclosed;switch(t=h.charCodeAt(v)){case za:case Wa:case Va:case Ha:case Ga:r=v;do{r+=1,t=h.charCodeAt(r)}while(t===Wa||t===za||t===Va||t===Ha||t===Ga);c=["space",h.slice(v,r)],v=r-1;break;case qa:case Ja:case Xa:case Ka:case es:case $a:case Ya:var b=String.fromCharCode(t);c=[b,b,v];break;case Za:if(u=y.length?y.pop()[1]:"",l=h.charCodeAt(v+1),"url"===u&&l!==Da&&l!==Fa&&l!==Wa&&l!==za&&l!==Va&&l!==Ga&&l!==Ha){r=v;do{if(a=!1,-1===(r=h.indexOf(")",r+1))){if(p||f){r=v;break}g("bracket")}for(s=r;h.charCodeAt(s-1)===Ua;)s-=1,a=!a}while(a);c=["brackets",h.slice(v,r+1),v,r],v=r}else r=h.indexOf(")",v+1),o=h.slice(v,r+1),-1===r||os.test(o)?c=["(","(",v]:(c=["brackets",o,v,r],v=r);break;case Da:case Fa:n=t===Da?"'":'"',r=v;do{if(a=!1,-1===(r=h.indexOf(n,r+1))){if(p||f){r=v+1;break}g("string")}for(s=r;h.charCodeAt(s-1)===Ua;)s-=1,a=!a}while(a);c=["string",h.slice(v,r+1),v,r],v=r;break;case ts:rs.lastIndex=v+1,rs.test(h),r=0===rs.lastIndex?h.length-1:rs.lastIndex-2,c=["at-word",h.slice(v,r+1),v,r],v=r;break;case Ua:for(r=v,i=!0;h.charCodeAt(r+1)===Ua;)r+=1,i=!i;if(t=h.charCodeAt(r+1),i&&t!==Ba&&t!==Wa&&t!==za&&t!==Va&&t!==Ha&&t!==Ga&&(r+=1,is.test(h.charAt(r)))){for(;is.test(h.charAt(r+1));)r+=1;h.charCodeAt(r+1)===Wa&&(r+=1)}c=["word",h.slice(v,r+1),v,r],v=r;break;default:t===Ba&&h.charCodeAt(v+1)===Qa?(0===(r=h.indexOf("*/",v+2)+1)&&(p||f?r=h.length:g("comment")),c=["comment",h.slice(v,r+1),v,r],v=r):(ns.lastIndex=v+1,ns.test(h),r=0===ns.lastIndex?h.length-1:ns.lastIndex-2,c=["word",h.slice(v,r+1),v,r],y.push(c),v=r)}return v++,c}},position:function(){return v}}},Ss=va,xs=us,Cs=ps,Is=bs,Os={empty:!0,space:!0};var Es=Ea,_s=function(){return oo((function e(t){ro(this,e),this.input=t,this.root=new Cs,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:t,start:{column:1,line:1,offset:0}}}),[{key:"atrule",value:function(e){var t,r,n,o=new xs;o.name=e[1].slice(1),""===o.name&&this.unnamedAtrule(o,e),this.init(o,e[2]);for(var i=!1,a=!1,s=[],u=[];!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?u.push("("===t?")":"]"):"{"===t&&u.length>0?u.push("}"):t===u[u.length-1]&&u.pop(),0===u.length){if(";"===t){o.source.end=this.getPosition(e[2]),o.source.end.offset++,this.semicolon=!0;break}if("{"===t){a=!0;break}if("}"===t){if(s.length>0){for(r=s[n=s.length-1];r&&"space"===r[0];)r=s[--n];r&&(o.source.end=this.getPosition(r[3]||r[2]),o.source.end.offset++)}this.end(e);break}s.push(e)}else s.push(e);if(this.tokenizer.endOfFile()){i=!0;break}}o.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(o.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(o,"params",s),i&&(e=s[s.length-1],o.source.end=this.getPosition(e[3]||e[2]),o.source.end.offset++,this.spaces=o.raws.between,o.raws.between="")):(o.raws.afterName="",o.params=""),a&&(o.nodes=[],this.current=o)}},{key:"checkMissedSemicolon",value:function(e){var t=this.colon(e);if(!1!==t){for(var r,n=0,o=t-1;o>=0&&("space"===(r=e[o])[0]||2!==(n+=1));o--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}}},{key:"colon",value:function(e){var t,r,n,o,i=0,a=Qn(e.entries());try{for(a.s();!(o=a.n()).done;){var s=Bn(o.value,2),u=s[0];if("("===(r=(t=s[1])[0])&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return u}this.doubleColon(t)}n=t}}catch(e){a.e(e)}finally{a.f()}return!1}},{key:"comment",value:function(e){var t=new Ss;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;var r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{var n=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}}},{key:"createTokenizer",value:function(){this.tokenizer=ks(this.input)}},{key:"decl",value:function(e,t){var r=new ws;this.init(r,e[0][2]);var n,o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(o[3]||o[2]||function(e){for(var t=e.length-1;t>=0;t--){var r=e[t],n=r[3]||r[2];if(n)return n}}(e)),r.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){var i=e[0][0];if(":"===i||"space"===i||"comment"===i)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(":"===(n=e.shift())[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));for(var a,s=[];e.length&&("space"===(a=e[0][0])||"comment"===a);)s.push(e.shift());this.precheckMissedSemicolon(e);for(var u=e.length-1;u>=0;u--){if("!important"===(n=e[u])[1].toLowerCase()){r.important=!0;var l=this.stringFrom(e,u);" !important"!==(l=this.spacesFromEnd(e)+l)&&(r.raws.important=l);break}if("important"===n[1].toLowerCase()){for(var c=e.slice(0),f="",h=u;h>0;h--){var p=c[h][0];if(0===f.trim().indexOf("!")&&"space"!==p)break;f=c.pop()[1]+f}0===f.trim().indexOf("!")&&(r.important=!0,r.raws.important=f,e=c)}if("space"!==n[0]&&"comment"!==n[0])break}var d=e.some((function(e){return"space"!==e[0]&&"comment"!==e[0]}));d&&(r.raws.between+=s.map((function(e){return e[1]})).join(""),s=[]),this.raw(r,"value",s.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}},{key:"doubleColon",value:function(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}},{key:"emptyRule",value:function(e){var t=new Is;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}},{key:"end",value:function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}},{key:"endFile",value:function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}},{key:"getPosition",value:function(e){var t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}},{key:"init",value:function(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}},{key:"other",value:function(e){for(var t=!1,r=null,n=!1,o=null,i=[],a=e[1].startsWith("--"),s=[],u=e;u;){if(r=u[0],s.push(u),"("===r||"["===r)o||(o=u),i.push("("===r?")":"]");else if(a&&n&&"{"===r)o||(o=u),i.push("}");else if(0===i.length){if(";"===r){if(n)return void this.decl(s,a);break}if("{"===r)return void this.rule(s);if("}"===r){this.tokenizer.back(s.pop()),t=!0;break}":"===r&&(n=!0)}else r===i[i.length-1]&&(i.pop(),0===i.length&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),i.length>0&&this.unclosedBracket(o),t&&n){if(!a)for(;s.length&&("space"===(u=s[s.length-1][0])||"comment"===u);)this.tokenizer.back(s.pop());this.decl(s,a)}else this.unknownWord(s)}},{key:"parse",value:function(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(e,t,r,n){for(var o,i,a,s,u=r.length,l="",c=!0,f=0;f<u;f+=1)"space"!==(i=(o=r[f])[0])||f!==u-1||n?"comment"===i?(s=r[f-1]?r[f-1][0]:"empty",a=r[f+1]?r[f+1][0]:"empty",Os[s]||Os[a]||","===l.slice(-1)?c=!1:l+=o[1]):l+=o[1]:c=!1;if(!c){var h=r.reduce((function(e,t){return e+t[1]}),"");e.raws[t]={raw:h,value:l}}e[t]=l}},{key:"rule",value:function(e){e.pop();var t=new Is;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}},{key:"spacesAndCommentsFromEnd",value:function(e){for(var t,r="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r}},{key:"spacesAndCommentsFromStart",value:function(e){for(var t,r="";e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r}},{key:"spacesFromEnd",value:function(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}},{key:"stringFrom",value:function(e,t){for(var r="",n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}},{key:"unclosedBlock",value:function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}},{key:"unclosedBracket",value:function(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}},{key:"unexpectedClose",value:function(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}},{key:"unknownWord",value:function(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}},{key:"unnamedAtrule",value:function(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}])}(),As=ra;function Rs(e,t){var r=new As(e,t),n=new _s(r);try{n.parse()}catch(e){throw e}return n.root}var Ts=Rs;Rs.default=Rs,Es.registerParse(Rs);var Ps=yi.isClean,Ms=yi.my,js=pa,Ls=Si,Ns=Ea,Ds=Ta,Fs=Na,Us=Ts,Bs=ps,zs={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Ws={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Gs={Once:!0,postcssPlugin:!0,prepare:!0};function Vs(e){return"object"===ao(e)&&"function"==typeof e.then}function Hs(e){var t=!1,r=zs[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,0,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,0,r+"Exit"]:[r,r+"Exit"]}function qs(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:Hs(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function Js(e){return e[Ps]=!1,e.nodes&&e.nodes.forEach((function(e){return Js(e)})),e}var Zs={},Ys=function(){return oo((function e(t,r,n){var o,i=this;if(ro(this,e),this.stringified=!1,this.processed=!1,"object"!==ao(r)||null===r||"root"!==r.type&&"document"!==r.type)if(r instanceof e||r instanceof Fs)o=Js(r.root),r.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{var a=Us;n.syntax&&(a=n.syntax.parse),n.parser&&(a=n.parser),a.parse&&(a=a.parse);try{o=a(r,n)}catch(e){this.processed=!0,this.error=e}o&&!o[Ms]&&Ns.rebuild(o)}else o=Js(r);this.result=new Fs(t,o,n),this.helpers=Vn(Vn({},Zs),{},{postcss:Zs,result:this.result}),this.plugins=this.processor.plugins.map((function(e){return"object"===ao(e)&&e.prepare?Vn(Vn({},e),e.prepare(i.result)):e}))}),[{key:"async",value:function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"getAsyncError",value:function(){throw new Error("Use process(css).then(cb) to work with async plugins")}},{key:"handleError",value:function(e,t){var r=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(r.postcssVersion);}else e.plugin=r.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}return e}},{key:"prepareVisitors",value:function(){var e=this;this.listeners={};var t,r=function(t,r,n){e.listeners[r]||(e.listeners[r]=[]),e.listeners[r].push([t,n])},n=Qn(this.plugins);try{for(n.s();!(t=n.n()).done;){var o=t.value;if("object"===ao(o))for(var i in o){if(!Ws[i]&&/^[A-Z]/.test(i))throw new Error("Unknown event ".concat(i," in ").concat(o.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!Gs[i])if("object"===ao(o[i]))for(var a in o[i])r(o,"*"===a?i:i+"-"+a.toLowerCase(),o[i][a]);else"function"==typeof o[i]&&r(o,i,o[i])}}}catch(e){n.e(e)}finally{n.f()}this.hasListener=Object.keys(this.listeners).length>0}},{key:"runAsync",value:(e=Un(Dn().mark((function e(){var t,r,n,o,i,a,s,u,l,c,f=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.plugin=0,t=0;case 2:if(!(t<this.plugins.length)){e.next=17;break}if(r=this.plugins[t],!Vs(n=this.runOnRoot(r))){e.next=14;break}return e.prev=6,e.next=9,n;case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(6),this.handleError(e.t0);case 14:t++,e.next=2;break;case 17:if(this.prepareVisitors(),!this.hasListener){e.next=56;break}o=this.result.root;case 20:if(o[Ps]){e.next=39;break}o[Ps]=!0,i=[qs(o)];case 23:if(!(i.length>0)){e.next=37;break}if(!Vs(a=this.visitTick(i))){e.next=35;break}return e.prev=26,e.next=29,a;case 29:e.next=35;break;case 31:throw e.prev=31,e.t1=e.catch(26),s=i[i.length-1].node,this.handleError(e.t1,s);case 35:e.next=23;break;case 37:e.next=20;break;case 39:if(!this.listeners.OnceExit){e.next=56;break}u=Qn(this.listeners.OnceExit),e.prev=41,c=Dn().mark((function e(){var t,r,n,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Bn(l.value,2),r=t[0],n=t[1],f.result.lastPlugin=r,e.prev=2,"document"!==o.type){e.next=9;break}return i=o.nodes.map((function(e){return n(e,f.helpers)})),e.next=7,Promise.all(i);case 7:e.next=11;break;case 9:return e.next=11,n(o,f.helpers);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),f.handleError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})),u.s();case 44:if((l=u.n()).done){e.next=48;break}return e.delegateYield(c(),"t2",46);case 46:e.next=44;break;case 48:e.next=53;break;case 50:e.prev=50,e.t3=e.catch(41),u.e(e.t3);case 53:return e.prev=53,u.f(),e.finish(53);case 56:return this.processed=!0,e.abrupt("return",this.stringify());case 58:case"end":return e.stop()}}),e,this,[[6,11],[26,31],[41,50,53,56]])}))),function(){return e.apply(this,arguments)})},{key:"runOnRoot",value:function(e){var t=this;this.result.lastPlugin=e;try{if("object"===ao(e)&&e.Once){if("document"===this.result.root.type){var r=this.result.root.nodes.map((function(r){return e.Once(r,t.helpers)}));return Vs(r[0])?Promise.all(r):r}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=Ls;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var r=new js(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();var e,t=Qn(this.plugins);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(Vs(this.runOnRoot(r)))throw this.getAsyncError()}}catch(e){t.e(e)}finally{t.f()}if(this.prepareVisitors(),this.hasListener){for(var n=this.result.root;!n[Ps];)n[Ps]=!0,this.walkSync(n);if(this.listeners.OnceExit)if("document"===n.type){var o,i=Qn(n.nodes);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.visitSync(this.listeners.OnceExit,a)}}catch(e){i.e(e)}finally{i.f()}}else this.visitSync(this.listeners.OnceExit,n)}return this.result}},{key:"then",value:function(e,t){return this.async().then(e,t)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(e,t){var r,n=Qn(e);try{for(n.s();!(r=n.n()).done;){var o=Bn(r.value,2),i=o[0],a=o[1];this.result.lastPlugin=i;var s=void 0;try{s=a(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(Vs(s))throw this.getAsyncError()}}catch(e){n.e(e)}finally{n.f()}}},{key:"visitTick",value:function(e){var t=e[e.length-1],r=t.node,n=t.visitors;if("root"===r.type||"document"===r.type||r.parent){if(n.length>0&&t.visitorIndex<n.length){var o=Bn(n[t.visitorIndex],2),i=o[0],a=o[1];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=i;try{return a(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){for(var s,u=t.iterator;s=r.nodes[r.indexes[u]];)if(r.indexes[u]+=1,!s[Ps])return s[Ps]=!0,void e.push(qs(s));t.iterator=0,delete r.indexes[u]}for(var l=t.events;t.eventIndex<l.length;){var c=l[t.eventIndex];if(t.eventIndex+=1,0===c)return void(r.nodes&&r.nodes.length&&(r[Ps]=!0,t.iterator=r.getIterator()));if(this.listeners[c])return void(t.visitors=this.listeners[c])}e.pop()}else e.pop()}},{key:"walkSync",value:function(e){var t=this;e[Ps]=!0;var r,n=Qn(Hs(e));try{for(n.s();!(r=n.n()).done;){var o=r.value;if(0===o)e.nodes&&e.each((function(e){e[Ps]||t.walkSync(e)}));else{var i=this.listeners[o];if(i&&this.visitSync(i,e.toProxy()))return}}}catch(e){n.e(e)}finally{n.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]);var e}();Ys.registerPostcss=function(e){Zs=e};var Xs=Ys;Ys.default=Ys,Bs.registerLazyResult(Ys),Ds.registerLazyResult(Ys);var Ks=pa,$s=Si,Qs=Ts,eu=Na,tu=function(){return oo((function e(t,r,n){var o;ro(this,e),r=r.toString(),this.stringified=!1,this._processor=t,this._css=r,this._opts=n,this._map=void 0;var i=$s;this.result=new eu(this._processor,o,this._opts),this.result.css=r;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var s=new Ks(i,o,this._opts,r);if(s.isMap()){var u=Bn(s.generate(),2),l=u[0],c=u[1];l&&(this.result.css=l),c&&(this.result.map=c)}else s.clearAnnotation(),this.result.css=s.css}),[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(e,t){return this.async().then(e,t)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var e,t=Qs;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}(),ru=tu;tu.default=tu;var nu=ru,ou=Xs,iu=Ta,au=ps,su=function(){return oo((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ro(this,e),this.version="8.4.38",this.plugins=this.normalize(t)}),[{key:"normalize",value:function(e){var t,r=[],n=Qn(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!0===o.postcss?o=o():o.postcss&&(o=o.postcss),"object"===ao(o)&&Array.isArray(o.plugins))r=r.concat(o.plugins);else if("object"===ao(o)&&o.postcssPlugin)r.push(o);else if("function"==typeof o)r.push(o);else{if("object"!==ao(o)||!o.parse&&!o.stringify)throw new Error(o+" is not a PostCSS plugin")}}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"process",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||t.parser||t.stringifier||t.syntax?new ou(this,e,t):new nu(this,e,t)}},{key:"use",value:function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}])}(),uu=su;su.default=su,au.registerProcessor(su),iu.registerProcessor(su);var lu=Pi,cu=zi,fu=va,hu=us,pu=ra,du=ps,vu=bs;function yu(e,t){if(Array.isArray(e))return e.map((function(e){return yu(e)}));var r=e.inputs,n=Nn(e,Tn);if(r){t=[];var o,i=Qn(r);try{for(i.s();!(o=i.n()).done;){var a=Vn(Vn({},o.value),{},{__proto__:pu.prototype});a.map&&(a.map=Vn(Vn({},a.map),{},{__proto__:cu.prototype})),t.push(a)}}catch(e){i.e(e)}finally{i.f()}}if(n.nodes&&(n.nodes=e.nodes.map((function(e){return yu(e,t)}))),n.source){var s=n.source,u=s.inputId,l=Nn(s,Pn);n.source=l,null!=u&&(n.source.input=t[u])}if("root"===n.type)return new du(n);if("decl"===n.type)return new lu(n);if("rule"===n.type)return new vu(n);if("comment"===n.type)return new fu(n);if("atrule"===n.type)return new hu(n);throw new Error("Unknown node type: "+e.type)}var mu=yu;yu.default=yu;var gu=vi,bu=Pi,wu=Xs,ku=Ea,Su=uu,xu=Si,Cu=mu,Iu=Ta,Ou=Ma,Eu=va,_u=us,Au=Na,Ru=ra,Tu=Ts,Pu=vs,Mu=bs,ju=ps,Lu=Ri;function Nu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new Su(t)}Nu.plugin=function(e,t){var r,n=!1;function o(){console&&console.warn&&!n&&(n=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));var r=t.apply(void 0,arguments);return r.postcssPlugin=e,r.postcssVersion=(new Su).version,r}return Object.defineProperty(o,"postcss",{get:function(){return r||(r=o()),r}}),o.process=function(e,t,r){return Nu([o(r)]).process(e,t)},o},Nu.stringify=xu,Nu.parse=Tu,Nu.fromJSON=Cu,Nu.list=Pu,Nu.comment=function(e){return new Eu(e)},Nu.atRule=function(e){return new _u(e)},Nu.decl=function(e){return new bu(e)},Nu.rule=function(e){return new Mu(e)},Nu.root=function(e){return new ju(e)},Nu.document=function(e){return new Iu(e)},Nu.CssSyntaxError=gu,Nu.Declaration=bu,Nu.Container=ku,Nu.Processor=Su,Nu.Document=Iu,Nu.Comment=Eu,Nu.Warning=Ou,Nu.AtRule=_u,Nu.Result=Au,Nu.Input=Ru,Nu.Rule=Mu,Nu.Root=ju,Nu.Node=Lu,wu.registerPostcss(Nu);var Du=Nu;Nu.default=Nu;var Fu=ii(Du);Fu.stringify,Fu.fromJSON,Fu.plugin,Fu.parse,Fu.list,Fu.document,Fu.comment,Fu.atRule,Fu.rule,Fu.decl,Fu.root,Fu.CssSyntaxError,Fu.Declaration,Fu.Container,Fu.Processor,Fu.Document,Fu.Comment,Fu.Warning,Fu.AtRule,Fu.Result,Fu.Input,Fu.Rule,Fu.Root,Fu.Node;var Uu=Object.defineProperty,Bu=function(e,t,r){return function(e,t,r){return t in e?Uu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r}(e,"symbol"!==ao(t)?t+"":t,r)};function zu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wu(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var Gu={exports:{}},Vu=String,Hu=function(){return{isColorSupported:!1,reset:Vu,bold:Vu,dim:Vu,italic:Vu,underline:Vu,inverse:Vu,hidden:Vu,strikethrough:Vu,black:Vu,red:Vu,green:Vu,yellow:Vu,blue:Vu,magenta:Vu,cyan:Vu,white:Vu,gray:Vu,bgBlack:Vu,bgRed:Vu,bgGreen:Vu,bgYellow:Vu,bgBlue:Vu,bgMagenta:Vu,bgCyan:Vu,bgWhite:Vu}};Gu.exports=Hu(),Gu.exports.createColors=Hu;var qu=Gu.exports,Ju=Wu(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),Zu=qu,Yu=Ju,Xu=function(e){function t(e,r,n,o,i,a){var s;return ro(this,t),(s=Jn(this,t,[e])).name="CssSyntaxError",s.reason=e,i&&(s.file=i),o&&(s.source=o),a&&(s.plugin=a),void 0!==r&&void 0!==n&&("number"==typeof r?(s.line=r,s.column=n):(s.line=r.line,s.column=r.column,s.endLine=n.line,s.endColumn=n.column)),s.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return Zn(t,e),oo(t,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}},{key:"showSourceCode",value:function(e){var t=this;if(!this.source)return"";var r=this.source;null==e&&(e=Zu.isColorSupported),Yu&&e&&(r=Yu(r));var n,o,i=r.split(/\r?\n/),a=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),u=String(s).length;if(e){var l=Zu.createColors(!0),c=l.bold,f=l.gray,h=l.red;n=function(e){return c(h(e))},o=function(e){return f(e)}}else n=o=function(e){return e};return i.slice(a,s).map((function(e,r){var i=a+1+r,s=" "+(" "+i).slice(-u)+" | ";if(i===t.line){var l=o(s.replace(/\d/g," "))+e.slice(0,t.column-1).replace(/[^\t]/g," ");return n(">")+o(s)+e+"\n "+l+n("^")}return" "+o(s)+e})).join("\n")}},{key:"toString",value:function(){var e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}])}(Yn(Error)),Ku=Xu;Xu.default=Xu;var $u={};$u.isClean=Symbol("isClean"),$u.my=Symbol("my");var Qu={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};var el=function(){return oo((function e(t){ro(this,e),this.builder=t}),[{key:"atrule",value:function(e,t){var r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{var o=(e.raws.between||"")+(t?";":"");this.builder(r+n+o,e)}}},{key:"beforeAfter",value:function(e,t){var r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var n=e.parent,o=0;n&&"root"!==n.type;)o+=1,n=n.parent;if(r.includes("\n")){var i=this.raw(e,null,"indent");if(i.length)for(var a=0;a<o;a++)r+=i}return r}},{key:"block",value:function(e,t){var r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}},{key:"body",value:function(e){for(var t=e.nodes.length-1;t>0&&"comment"===e.nodes[t].type;)t-=1;for(var r=this.raw(e,"semicolon"),n=0;n<e.nodes.length;n++){var o=e.nodes[n],i=this.raw(o,"before");i&&this.builder(i),this.stringify(o,t!==n||r)}}},{key:"comment",value:function(e){var t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}},{key:"decl",value:function(e,t){var r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}},{key:"document",value:function(e){this.body(e)}},{key:"raw",value:function(e,t,r){var n;if(r||(r=t),t&&void 0!==(n=e.raws[t]))return n;var o=e.parent;if("before"===r){if(!o||"root"===o.type&&o.first===e)return"";if(o&&"document"===o.type)return""}if(!o)return Qu[r];var i=e.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[r])return i.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);var a,s="raw"+((a=r)[0].toUpperCase()+a.slice(1));return this[s]?n=this[s](i,e):i.walk((function(e){if(void 0!==(n=e.raws[t]))return!1})),void 0===n&&(n=Qu[r]),i.rawCache[r]=n,n}},{key:"rawBeforeClose",value:function(e){var t;return e.walk((function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return(t=e.raws.after).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}},{key:"rawBeforeComment",value:function(e,t){var r;return e.walkComments((function(e){if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}},{key:"rawBeforeDecl",value:function(e,t){var r;return e.walkDecls((function(e){if(void 0!==e.raws.before)return(r=e.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}},{key:"rawBeforeOpen",value:function(e){var t;return e.walk((function(e){if("decl"!==e.type&&void 0!==(t=e.raws.between))return!1})),t}},{key:"rawBeforeRule",value:function(e){var t;return e.walk((function(r){if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return(t=r.raws.before).includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}},{key:"rawColon",value:function(e){var t;return e.walkDecls((function(e){if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}},{key:"rawEmptyBody",value:function(e){var t;return e.walk((function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(t=e.raws.after))return!1})),t}},{key:"rawIndent",value:function(e){return e.raws.indent?e.raws.indent:(e.walk((function(r){var n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){var o=r.raws.before.split("\n");return t=(t=o[o.length-1]).replace(/\S/g,""),!1}})),t);var t}},{key:"rawSemicolon",value:function(e){var t;return e.walk((function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(t=e.raws.semicolon))return!1})),t}},{key:"rawValue",value:function(e,t){var r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}},{key:"root",value:function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}},{key:"rule",value:function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}},{key:"stringify",value:function(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}}])}(),tl=el;el.default=el;var rl=tl;function nl(e,t){new rl(t).stringify(e)}var ol=nl;nl.default=nl;var il=$u.isClean,al=$u.my,sl=Ku,ul=tl,ll=ol;function cl(e,t){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"proxyCache"!==n){var o=e[n],i=ao(o);"parent"===n&&"object"===i?t&&(r[n]=t):"source"===n?r[n]=o:Array.isArray(o)?r[n]=o.map((function(e){return cl(e,r)})):("object"===i&&null!==o&&(o=cl(o)),r[n]=o)}return r}var fl=function(){return oo((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var r in ro(this,e),this.raws={},this[il]=!1,this[al]=!0,t)if("nodes"===r){this.nodes=[];var n,o=Qn(t[r]);try{for(o.s();!(n=o.n()).done;){var i=n.value;"function"==typeof i.clone?this.append(i.clone()):this.append(i)}}catch(e){o.e(e)}finally{o.f()}}else this[r]=t[r]}),[{key:"addToError",value:function(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){var t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&".concat(t.input.from,":").concat(t.start.line,":").concat(t.start.column,"$&"))}return e}},{key:"after",value:function(e){return this.parent.insertAfter(this,e),this}},{key:"assign",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var t in e)this[t]=e[t];return this}},{key:"before",value:function(e){return this.parent.insertBefore(this,e),this}},{key:"cleanRaws",value:function(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=cl(this);for(var r in e)t[r]=e[r];return t}},{key:"cloneAfter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertAfter(this,t),t}},{key:"cloneBefore",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.clone(e);return this.parent.insertBefore(this,t),t}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var r=this.rangeBy(t),n=r.end,o=r.start;return this.source.input.error(e,{column:o.column,line:o.line},{column:n.column,line:n.line},t)}return new sl(e)}},{key:"getProxyProcessor",value:function(){return{get:function(e,t){return"proxyOf"===t?e:"root"===t?function(){return e.root().toProxy()}:e[t]},set:function(e,t,r){return e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0}}}},{key:"markDirty",value:function(){if(this[il]){this[il]=!1;for(var e=this;e=e.parent;)e[il]=!1}}},{key:"next",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e+1]}}},{key:"positionBy",value:function(e,t){var r=this.source.start;if(e.index)r=this.positionInside(e.index,t);else if(e.word){var n=(t=this.toString()).indexOf(e.word);-1!==n&&(r=this.positionInside(n,t))}return r}},{key:"positionInside",value:function(e,t){for(var r=t||this.toString(),n=this.source.start.column,o=this.source.start.line,i=0;i<e;i++)"\n"===r[i]?(n=1,o+=1):n+=1;return{column:n,line:o}}},{key:"prev",value:function(){if(this.parent){var e=this.parent.index(this);return this.parent.nodes[e-1]}}},{key:"rangeBy",value:function(e){var t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){var n=this.toString(),o=n.indexOf(e.word);-1!==o&&(t=this.positionInside(o,n),r=this.positionInside(o+e.word.length,n))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:"number"==typeof e.endIndex?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}},{key:"raw",value:function(e,t){return(new ul).raw(this,e,t)}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}},{key:"replaceWith",value:function(){if(this.parent){for(var e=this,t=!1,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(var i=0,a=n;i<a.length;i++){var s=a[i];s===this?t=!0:t?(this.parent.insertAfter(e,s),e=s):this.parent.insertBefore(e,s)}t||this.remove()}return this}},{key:"root",value:function(){for(var e=this;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}},{key:"toJSON",value:function(e,t){var r={},n=null==t;t=t||new Map;var o=0;for(var i in this)if(Object.prototype.hasOwnProperty.call(this,i)&&"parent"!==i&&"proxyCache"!==i){var a=this[i];if(Array.isArray(a))r[i]=a.map((function(e){return"object"===ao(e)&&e.toJSON?e.toJSON(null,t):e}));else if("object"===ao(a)&&a.toJSON)r[i]=a.toJSON(null,t);else if("source"===i){var s=t.get(a.input);null==s&&(s=o,t.set(a.input,o),o++),r[i]={end:a.end,inputId:s,start:a.start}}else r[i]=a}return n&&(r.inputs=qn(t.keys()).map((function(e){return e.toJSON()}))),r}},{key:"toProxy",value:function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ll;e.stringify&&(e=e.stringify);var t="";return e(this,(function(e){t+=e})),t}},{key:"warn",value:function(e,t,r){var n={node:this};for(var o in r)n[o]=r[o];return e.warn(t,n)}},{key:"proxyOf",get:function(){return this}}])}(),hl=fl;fl.default=fl;var pl=function(e){function t(e){var r;return ro(this,t),e&&void 0!==e.value&&"string"!=typeof e.value&&(e=Vn(Vn({},e),{},{value:String(e.value)})),(r=Jn(this,t,[e])).type="decl",r}return Zn(t,e),oo(t,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(hl),dl=pl;pl.default=pl;var vl=function(){for(var e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e},yl=Ju.SourceMapConsumer,ml=Ju.SourceMapGenerator,gl=Ju.existsSync,bl=Ju.readFileSync,wl=Ju.dirname,kl=Ju.join;var Sl=function(){return oo((function e(t,r){if(ro(this,e),!1!==r.map){this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");var n=r.map?r.map.prev:void 0,o=this.loadMap(r.from,n);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=wl(this.mapFile)),o&&(this.text=o)}}),[{key:"consumer",value:function(){return this.consumerCache||(this.consumerCache=new yl(this.text)),this.consumerCache}},{key:"decodeInline",value:function(e){var t;if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var r=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+r)}},{key:"getAnnotationURL",value:function(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(e){return"object"===ao(e)&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}},{key:"loadAnnotation",value:function(e){var t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(t){var r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}}},{key:"loadFile",value:function(e){if(this.root=wl(e),gl(e))return this.mapFile=e,bl(e,"utf-8").toString().trim()}},{key:"loadMap",value:function(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof yl)return ml.fromSourceMap(t).toString();if(t instanceof ml)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}var r=t(e);if(r){var n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var o=this.annotation;return e&&(o=kl(wl(e),o)),this.loadFile(o)}}}},{key:"startWith",value:function(e,t){return!!e&&e.substr(0,t.length)===t}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}])}(),xl=Sl;Sl.default=Sl;var Cl=Ju.SourceMapConsumer,Il=Ju.SourceMapGenerator,Ol=Ju.fileURLToPath,El=Ju.pathToFileURL,_l=Ju.isAbsolute,Al=Ju.resolve,Rl=vl,Tl=Ju,Pl=Ku,Ml=xl,jl=Symbol("fromOffsetCache"),Ll=Boolean(Cl&&Il),Nl=Boolean(Al&&_l),Dl=function(){return oo((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ro(this,e),null==t||"object"===ao(t)&&!t.toString)throw new Error("PostCSS received ".concat(t," instead of CSS string"));if(this.css=t.toString(),"\ufeff"===this.css[0]||"￾"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,r.from&&(!Nl||/^\w+:\/\//.test(r.from)||_l(r.from)?this.file=r.from:this.file=Al(r.from)),Nl&&Ll){var n=new Ml(this.css,r);if(n.text){this.map=n;var o=n.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+Rl(6)+">"),this.map&&(this.map.file=this.from)}),[{key:"error",value:function(e,t,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&"object"===ao(t)){var s=t,u=r;if("number"==typeof s.offset){var l=this.fromOffset(s.offset);t=l.line,r=l.col}else t=s.line,r=s.column;if("number"==typeof u.offset){var c=this.fromOffset(u.offset);o=c.line,i=c.col}else o=u.line,i=u.column}else if(!r){var f=this.fromOffset(t);t=f.line,r=f.col}var h=this.origin(t,r,o,i);return(n=h?new Pl(e,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,a.plugin):new Pl(e,void 0===o?t:{column:r,line:t},void 0===o?r:{column:i,line:o},this.css,this.file,a.plugin)).input={column:r,endColumn:i,endLine:o,line:t,source:this.css},this.file&&(El&&(n.input.url=El(this.file).toString()),n.input.file=this.file),n}},{key:"fromOffset",value:function(e){var t;if(this[jl])t=this[jl];else{var r=this.css.split("\n");t=new Array(r.length);for(var n=0,o=0,i=r.length;o<i;o++)t[o]=n,n+=r[o].length+1;this[jl]=t}var a=0;if(e>=t[t.length-1])a=t.length-1;else for(var s,u=t.length-2;a<u;)if(e<t[s=a+(u-a>>1)])u=s-1;else{if(!(e>=t[s+1])){a=s;break}a=s+1}return{col:e-t[a]+1,line:a+1}}},{key:"mapResolve",value:function(e){return/^\w+:\/\//.test(e)?e:Al(this.map.consumer().sourceRoot||this.map.root||".",e)}},{key:"origin",value:function(e,t,r,n){if(!this.map)return!1;var o,i,a=this.map.consumer(),s=a.originalPositionFor({column:t,line:e});if(!s.source)return!1;"number"==typeof r&&(o=a.originalPositionFor({column:n,line:r})),i=_l(s.source)?El(s.source):new URL(s.source,this.map.consumer().sourceRoot||El(this.map.mapFile));var u={column:s.column,endColumn:o&&o.column,endLine:o&&o.line,line:s.line,url:i.toString()};if("file:"===i.protocol){if(!Ol)throw new Error("file: protocol is not available in this PostCSS build");u.file=Ol(i)}var l=a.sourceContentFor(s.source);return l&&(u.source=l),u}},{key:"toJSON",value:function(){for(var e={},t=0,r=["hasBOM","css","file","id"];t<r.length;t++){var n=r[t];null!=this[n]&&(e[n]=this[n])}return this.map&&(e.map=Vn({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}},{key:"from",get:function(){return this.file||this.id}}])}(),Fl=Dl;Dl.default=Dl,Tl&&Tl.registerInput&&Tl.registerInput(Dl);var Ul=Ju.SourceMapConsumer,Bl=Ju.SourceMapGenerator,zl=Ju.dirname,Wl=Ju.relative,Gl=Ju.resolve,Vl=Ju.sep,Hl=Ju.pathToFileURL,ql=Fl,Jl=Boolean(Ul&&Bl),Zl=Boolean(zl&&Gl&&Wl&&Vl),Yl=function(){return oo((function e(t,r,n,o){ro(this,e),this.stringify=t,this.mapOpts=n.map||{},this.root=r,this.opts=n,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}),[{key:"addAnnotation",value:function(){var e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}},{key:"applyPrevMaps",value:function(){var e,t=Qn(this.previous());try{for(t.s();!(e=t.n()).done;){var r=e.value,n=this.toUrl(this.path(r.file)),o=r.root||zl(r.file),i=void 0;!1===this.mapOpts.sourcesContent?(i=new Ul(r.text)).sourcesContent&&(i.sourcesContent=null):i=r.consumer(),this.map.applySourceMap(i,n,this.toUrl(this.path(o)))}}catch(e){t.e(e)}finally{t.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var e,t=this.root.nodes.length-1;t>=0;t--)"comment"===(e=this.root.nodes[t]).type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){if(this.clearAnnotation(),Zl&&Jl&&this.isMap())return this.generateMap();var e="";return this.stringify(this.root,(function(t){e+=t})),[e]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Bl.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Bl({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var e=this;this.css="",this.map=new Bl({file:this.outputFile(),ignoreInvalidMapping:!0});var t,r,n=1,o=1,i="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(function(s,u,l){if(e.css+=s,u&&"end"!==l&&(a.generated.line=n,a.generated.column=o-1,u.source&&u.source.start?(a.source=e.sourcePath(u),a.original.line=u.source.start.line,a.original.column=u.source.start.column-1,e.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,e.map.addMapping(a))),(t=s.match(/\n/g))?(n+=t.length,r=s.lastIndexOf("\n"),o=s.length-r):o+=s.length,u&&"start"!==l){var c=u.parent||{raws:{}};("decl"===u.type||"atrule"===u.type&&!u.nodes)&&u===c.last&&!c.raws.semicolon||(u.source&&u.source.end?(a.source=e.sourcePath(u),a.original.line=u.source.end.line,a.original.column=u.source.end.column-1,a.generated.line=n,a.generated.column=o-2,e.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,a.generated.line=n,a.generated.column=o-1,e.map.addMapping(a)))}}))}},{key:"isAnnotation",value:function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((function(e){return e.annotation})))}},{key:"isInline",value:function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some((function(e){return e.inline})))}},{key:"isMap",value:function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}},{key:"isSourcesContent",value:function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((function(e){return e.withContent()}))}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(e){if(this.mapOpts.absolute)return e;if(60===e.charCodeAt(0))return e;if(/^\w+:\/\//.test(e))return e;var t=this.memoizedPaths.get(e);if(t)return t;var r=this.opts.to?zl(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=zl(Gl(r,this.mapOpts.annotation)));var n=Wl(r,e);return this.memoizedPaths.set(e,n),n}},{key:"previous",value:function(){var e=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((function(t){if(t.source&&t.source.input.map){var r=t.source.input.map;e.previousMaps.includes(r)||e.previousMaps.push(r)}}));else{var t=new ql(this.originalCSS,this.opts);t.map&&this.previousMaps.push(t.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var e=this,t={};if(this.root)this.root.walk((function(r){if(r.source){var n=r.source.input.from;if(n&&!t[n]){t[n]=!0;var o=e.usesFileUrls?e.toFileUrl(n):e.toUrl(e.path(n));e.map.setSourceContent(o,r.source.input.css)}}}));else if(this.css){var r=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(r,this.css)}}},{key:"sourcePath",value:function(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}},{key:"toBase64",value:function(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}},{key:"toFileUrl",value:function(e){var t=this.memoizedFileURLs.get(e);if(t)return t;if(Hl){var r=Hl(e).toString();return this.memoizedFileURLs.set(e,r),r}throw new Error("`map.absolute` option is not available in this PostCSS build")}},{key:"toUrl",value:function(e){var t=this.memoizedURLs.get(e);if(t)return t;"\\"===Vl&&(e=e.replace(/\\/g,"/"));var r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}}])}(),Xl=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[e])).type="comment",r}return Zn(t,e),oo(t)}(hl),Kl=Xl;Xl.default=Xl;var $l,Ql,ec,tc,rc=$u.isClean,nc=$u.my,oc=dl,ic=Kl;function ac(e){return e.map((function(e){return e.nodes&&(e.nodes=ac(e.nodes)),delete e.source,e}))}function sc(e){if(e[rc]=!1,e.proxyOf.nodes){var t,r=Qn(e.proxyOf.nodes);try{for(r.s();!(t=r.n()).done;){sc(t.value)}}catch(e){r.e(e)}finally{r.f()}}}var uc=function(e){function t(){return ro(this,t),Jn(this,t,arguments)}return Zn(t,e),oo(t,[{key:"append",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,o=t;n<o.length;n++){var i,a=o[n],s=Qn(this.normalize(a,this.last));try{for(s.s();!(i=s.n()).done;){var u=i.value;this.proxyOf.nodes.push(u)}}catch(e){s.e(e)}finally{s.f()}}return this.markDirty(),this}},{key:"cleanRaws",value:function(e){if(zn(t,"cleanRaws",this,3)([e]),this.nodes){var r,n=Qn(this.nodes);try{for(n.s();!(r=n.n()).done;){r.value.cleanRaws(e)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"each",value:function(e){if(this.proxyOf.nodes){for(var t,r,n=this.getIterator();this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],!1!==(r=e(this.proxyOf.nodes[t],t)));)this.indexes[n]+=1;return delete this.indexes[n],r}}},{key:"every",value:function(e){return this.nodes.every(e)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var e=this.lastEach;return this.indexes[e]=0,e}},{key:"getProxyProcessor",value:function(){return{get:function(e,t){return"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e[t].apply(e,qn(n.map((function(e){return"function"==typeof e?function(t,r){return e(t.toProxy(),r)}:e}))))}:"every"===t||"some"===t?function(r){return e[t]((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return r.apply(void 0,[e.toProxy()].concat(n))}))}:"root"===t?function(){return e.root().toProxy()}:"nodes"===t?e.nodes.map((function(e){return e.toProxy()})):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]},set:function(e,t,r){return e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0}}}},{key:"index",value:function(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}},{key:"insertAfter",value:function(e,t){var r=this.index(e),n=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);var o,i,a=Qn(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.proxyOf.nodes.splice(r+1,0,s)}}catch(e){a.e(e)}finally{a.f()}for(var u in this.indexes)r<(i=this.indexes[u])&&(this.indexes[u]=i+n.length);return this.markDirty(),this}},{key:"insertBefore",value:function(e,t){var r=this.index(e),n=0===r&&"prepend",o=this.normalize(t,this.proxyOf.nodes[r],n).reverse();r=this.index(e);var i,a,s=Qn(o);try{for(s.s();!(i=s.n()).done;){var u=i.value;this.proxyOf.nodes.splice(r,0,u)}}catch(e){s.e(e)}finally{s.f()}for(var l in this.indexes)r<=(a=this.indexes[l])&&(this.indexes[l]=a+o.length);return this.markDirty(),this}},{key:"normalize",value:function(e,r){var n=this;if("string"==typeof e)e=ac($l(e).nodes);else if(void 0===e)e=[];else if(Array.isArray(e)){var o,i=Qn(e=e.slice(0));try{for(i.s();!(o=i.n()).done;){var a=o.value;a.parent&&a.parent.removeChild(a,"ignore")}}catch(e){i.e(e)}finally{i.f()}}else if("root"===e.type&&"document"!==this.type){var s,u=Qn(e=e.nodes.slice(0));try{for(u.s();!(s=u.n()).done;){var l=s.value;l.parent&&l.parent.removeChild(l,"ignore")}}catch(e){u.e(e)}finally{u.f()}}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new oc(e)]}else if(e.selector)e=[new Ql(e)];else if(e.name)e=[new ec(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new ic(e)]}var c=e.map((function(e){return e[nc]||t.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[rc]&&sc(e),void 0===e.raws.before&&r&&void 0!==r.raws.before&&(e.raws.before=r.raws.before.replace(/\S/g,"")),e.parent=n.proxyOf,e}));return c}},{key:"prepend",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=Qn(t=t.reverse());try{for(o.s();!(n=o.n()).done;){var i,a=n.value,s=this.normalize(a,this.first,"prepend").reverse(),u=Qn(s);try{for(u.s();!(i=u.n()).done;){var l=i.value;this.proxyOf.nodes.unshift(l)}}catch(e){u.e(e)}finally{u.f()}for(var c in this.indexes)this.indexes[c]=this.indexes[c]+s.length}}catch(e){o.e(e)}finally{o.f()}return this.markDirty(),this}},{key:"push",value:function(e){return e.parent=this,this.proxyOf.nodes.push(e),this}},{key:"removeAll",value:function(){var e,t=Qn(this.proxyOf.nodes);try{for(t.s();!(e=t.n()).done;){e.value.parent=void 0}}catch(e){t.e(e)}finally{t.f()}return this.proxyOf.nodes=[],this.markDirty(),this}},{key:"removeChild",value:function(e){var t;for(var r in e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1),this.indexes)(t=this.indexes[r])>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}},{key:"replaceValues",value:function(e,t,r){return r||(r=t,t={}),this.walkDecls((function(n){t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))})),this.markDirty(),this}},{key:"some",value:function(e){return this.nodes.some(e)}},{key:"walk",value:function(e){return this.each((function(t,r){var n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n}))}},{key:"walkAtRules",value:function(e,t){return t?e instanceof RegExp?this.walk((function(r,n){if("atrule"===r.type&&e.test(r.name))return t(r,n)})):this.walk((function(r,n){if("atrule"===r.type&&r.name===e)return t(r,n)})):(t=e,this.walk((function(e,r){if("atrule"===e.type)return t(e,r)})))}},{key:"walkComments",value:function(e){return this.walk((function(t,r){if("comment"===t.type)return e(t,r)}))}},{key:"walkDecls",value:function(e,t){return t?e instanceof RegExp?this.walk((function(r,n){if("decl"===r.type&&e.test(r.prop))return t(r,n)})):this.walk((function(r,n){if("decl"===r.type&&r.prop===e)return t(r,n)})):(t=e,this.walk((function(e,r){if("decl"===e.type)return t(e,r)})))}},{key:"walkRules",value:function(e,t){return t?e instanceof RegExp?this.walk((function(r,n){if("rule"===r.type&&e.test(r.selector))return t(r,n)})):this.walk((function(r,n){if("rule"===r.type&&r.selector===e)return t(r,n)})):(t=e,this.walk((function(e,r){if("rule"===e.type)return t(e,r)})))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(hl);uc.registerParse=function(e){$l=e},uc.registerRule=function(e){Ql=e},uc.registerAtRule=function(e){ec=e},uc.registerRoot=function(e){tc=e};var lc=uc;uc.default=uc,uc.rebuild=function(e){"atrule"===e.type?Object.setPrototypeOf(e,ec.prototype):"rule"===e.type?Object.setPrototypeOf(e,Ql.prototype):"decl"===e.type?Object.setPrototypeOf(e,oc.prototype):"comment"===e.type?Object.setPrototypeOf(e,ic.prototype):"root"===e.type&&Object.setPrototypeOf(e,tc.prototype),e[nc]=!0,e.nodes&&e.nodes.forEach((function(e){uc.rebuild(e)}))};var cc,fc,hc=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[Vn({type:"document"},e)])).nodes||(r.nodes=[]),r}return Zn(t,e),oo(t,[{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new cc(new fc,this,e).stringify()}}])}(lc);hc.registerLazyResult=function(e){cc=e},hc.registerProcessor=function(e){fc=e};var pc=hc;hc.default=hc;var dc=function(){return oo((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ro(this,e),this.type="warning",this.text=t,r.node&&r.node.source){var n=r.node.rangeBy(r);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(var o in r)this[o]=r[o]}),[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}])}(),vc=dc;dc.default=dc;var yc=vc,mc=function(){return oo((function e(t,r,n){ro(this,e),this.processor=t,this.messages=[],this.root=r,this.opts=n,this.css=void 0,this.map=void 0}),[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var r=new yc(e,t);return this.messages.push(r),r}},{key:"warnings",value:function(){return this.messages.filter((function(e){return"warning"===e.type}))}},{key:"content",get:function(){return this.css}}])}(),gc=mc;mc.default=mc;var bc="'".charCodeAt(0),wc='"'.charCodeAt(0),kc="\\".charCodeAt(0),Sc="/".charCodeAt(0),xc="\n".charCodeAt(0),Cc=" ".charCodeAt(0),Ic="\f".charCodeAt(0),Oc="\t".charCodeAt(0),Ec="\r".charCodeAt(0),_c="[".charCodeAt(0),Ac="]".charCodeAt(0),Rc="(".charCodeAt(0),Tc=")".charCodeAt(0),Pc="{".charCodeAt(0),Mc="}".charCodeAt(0),jc=";".charCodeAt(0),Lc="*".charCodeAt(0),Nc=":".charCodeAt(0),Dc="@".charCodeAt(0),Fc=/[\t\n\f\r "#'()/;[\\\]{}]/g,Uc=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Bc=/.[\r\n"'(/\\]/,zc=/[\da-f]/i,Wc=lc,Gc=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[e])).type="atrule",r}return Zn(t,e),oo(t,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return zn(t,"append",this,3)(r)}},{key:"prepend",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return zn(t,"prepend",this,3)(r)}}])}(Wc),Vc=Gc;Gc.default=Gc,Wc.registerAtRule(Gc);var Hc,qc,Jc=lc,Zc=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[e])).type="root",r.nodes||(r.nodes=[]),r}return Zn(t,e),oo(t,[{key:"normalize",value:function(e,r,n){var o=zn(t,"normalize",this,3)([e]);if(r)if("prepend"===n)this.nodes.length>1?r.raws.before=this.nodes[1].raws.before:delete r.raws.before;else if(this.first!==r){var i,a=Qn(o);try{for(a.s();!(i=a.n()).done;){i.value.raws.before=r.raws.before}}catch(e){a.e(e)}finally{a.f()}}return o}},{key:"removeChild",value:function(e,r){var n=this.index(e);return!r&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),zn(t,"removeChild",this,3)([e])}},{key:"toResult",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Hc(new qc,this,e).stringify()}}])}(Jc);Zc.registerLazyResult=function(e){Hc=e},Zc.registerProcessor=function(e){qc=e};var Yc=Zc;Zc.default=Zc,Jc.registerRoot(Zc);var Xc={comma:function(e){return Xc.split(e,[","],!0)},space:function(e){return Xc.split(e,[" ","\n","\t"])},split:function(e,t,r){var n,o=[],i="",a=!1,s=0,u=!1,l="",c=!1,f=Qn(e);try{for(f.s();!(n=f.n()).done;){var h=n.value;c?c=!1:"\\"===h?c=!0:u?h===l&&(u=!1):'"'===h||"'"===h?(u=!0,l=h):"("===h?s+=1:")"===h?s>0&&(s-=1):0===s&&t.includes(h)&&(a=!0),a?(""!==i&&o.push(i.trim()),i="",a=!1):i+=h}}catch(e){f.e(e)}finally{f.f()}return(r||""!==i)&&o.push(i.trim()),o}},Kc=Xc;Xc.default=Xc;var $c=lc,Qc=Kc,ef=function(e){function t(e){var r;return ro(this,t),(r=Jn(this,t,[e])).type="rule",r.nodes||(r.nodes=[]),r}return Zn(t,e),oo(t,[{key:"selectors",get:function(){return Qc.comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}}])}($c),tf=ef;ef.default=ef,$c.registerRule(ef);var rf=dl,nf=function(e){var t,r,n,o,i,a,s,u,l,c,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=e.css.valueOf(),p=f.ignoreErrors,d=h.length,v=0,y=[],m=[];function g(t){throw e.error("Unclosed "+t,v)}return{back:function(e){m.push(e)},endOfFile:function(){return 0===m.length&&v>=d},nextToken:function(e){if(m.length)return m.pop();if(!(v>=d)){var f=!!e&&e.ignoreUnclosed;switch(t=h.charCodeAt(v)){case xc:case Cc:case Oc:case Ec:case Ic:r=v;do{r+=1,t=h.charCodeAt(r)}while(t===Cc||t===xc||t===Oc||t===Ec||t===Ic);c=["space",h.slice(v,r)],v=r-1;break;case _c:case Ac:case Pc:case Mc:case Nc:case jc:case Tc:var b=String.fromCharCode(t);c=[b,b,v];break;case Rc:if(u=y.length?y.pop()[1]:"",l=h.charCodeAt(v+1),"url"===u&&l!==bc&&l!==wc&&l!==Cc&&l!==xc&&l!==Oc&&l!==Ic&&l!==Ec){r=v;do{if(a=!1,-1===(r=h.indexOf(")",r+1))){if(p||f){r=v;break}g("bracket")}for(s=r;h.charCodeAt(s-1)===kc;)s-=1,a=!a}while(a);c=["brackets",h.slice(v,r+1),v,r],v=r}else r=h.indexOf(")",v+1),o=h.slice(v,r+1),-1===r||Bc.test(o)?c=["(","(",v]:(c=["brackets",o,v,r],v=r);break;case bc:case wc:n=t===bc?"'":'"',r=v;do{if(a=!1,-1===(r=h.indexOf(n,r+1))){if(p||f){r=v+1;break}g("string")}for(s=r;h.charCodeAt(s-1)===kc;)s-=1,a=!a}while(a);c=["string",h.slice(v,r+1),v,r],v=r;break;case Dc:Fc.lastIndex=v+1,Fc.test(h),r=0===Fc.lastIndex?h.length-1:Fc.lastIndex-2,c=["at-word",h.slice(v,r+1),v,r],v=r;break;case kc:for(r=v,i=!0;h.charCodeAt(r+1)===kc;)r+=1,i=!i;if(t=h.charCodeAt(r+1),i&&t!==Sc&&t!==Cc&&t!==xc&&t!==Oc&&t!==Ec&&t!==Ic&&(r+=1,zc.test(h.charAt(r)))){for(;zc.test(h.charAt(r+1));)r+=1;h.charCodeAt(r+1)===Cc&&(r+=1)}c=["word",h.slice(v,r+1),v,r],v=r;break;default:t===Sc&&h.charCodeAt(v+1)===Lc?(0===(r=h.indexOf("*/",v+2)+1)&&(p||f?r=h.length:g("comment")),c=["comment",h.slice(v,r+1),v,r],v=r):(Uc.lastIndex=v+1,Uc.test(h),r=0===Uc.lastIndex?h.length-1:Uc.lastIndex-2,c=["word",h.slice(v,r+1),v,r],y.push(c),v=r)}return v++,c}},position:function(){return v}}},of=Kl,af=Vc,sf=Yc,uf=tf,lf={empty:!0,space:!0};var cf=lc,ff=function(){return oo((function e(t){ro(this,e),this.input=t,this.root=new sf,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:t,start:{column:1,line:1,offset:0}}}),[{key:"atrule",value:function(e){var t,r,n,o=new af;o.name=e[1].slice(1),""===o.name&&this.unnamedAtrule(o,e),this.init(o,e[2]);for(var i=!1,a=!1,s=[],u=[];!this.tokenizer.endOfFile();){if("("===(t=(e=this.tokenizer.nextToken())[0])||"["===t?u.push("("===t?")":"]"):"{"===t&&u.length>0?u.push("}"):t===u[u.length-1]&&u.pop(),0===u.length){if(";"===t){o.source.end=this.getPosition(e[2]),o.source.end.offset++,this.semicolon=!0;break}if("{"===t){a=!0;break}if("}"===t){if(s.length>0){for(r=s[n=s.length-1];r&&"space"===r[0];)r=s[--n];r&&(o.source.end=this.getPosition(r[3]||r[2]),o.source.end.offset++)}this.end(e);break}s.push(e)}else s.push(e);if(this.tokenizer.endOfFile()){i=!0;break}}o.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(o.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(o,"params",s),i&&(e=s[s.length-1],o.source.end=this.getPosition(e[3]||e[2]),o.source.end.offset++,this.spaces=o.raws.between,o.raws.between="")):(o.raws.afterName="",o.params=""),a&&(o.nodes=[],this.current=o)}},{key:"checkMissedSemicolon",value:function(e){var t=this.colon(e);if(!1!==t){for(var r,n=0,o=t-1;o>=0&&("space"===(r=e[o])[0]||2!==(n+=1));o--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}}},{key:"colon",value:function(e){var t,r,n,o,i=0,a=Qn(e.entries());try{for(a.s();!(o=a.n()).done;){var s=Bn(o.value,2),u=s[0];if("("===(r=(t=s[1])[0])&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return u}this.doubleColon(t)}n=t}}catch(e){a.e(e)}finally{a.f()}return!1}},{key:"comment",value:function(e){var t=new of;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;var r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{var n=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}}},{key:"createTokenizer",value:function(){this.tokenizer=nf(this.input)}},{key:"decl",value:function(e,t){var r=new rf;this.init(r,e[0][2]);var n,o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(o[3]||o[2]||function(e){for(var t=e.length-1;t>=0;t--){var r=e[t],n=r[3]||r[2];if(n)return n}}(e)),r.source.end.offset++;"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){var i=e[0][0];if(":"===i||"space"===i||"comment"===i)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(":"===(n=e.shift())[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));for(var a,s=[];e.length&&("space"===(a=e[0][0])||"comment"===a);)s.push(e.shift());this.precheckMissedSemicolon(e);for(var u=e.length-1;u>=0;u--){if("!important"===(n=e[u])[1].toLowerCase()){r.important=!0;var l=this.stringFrom(e,u);" !important"!==(l=this.spacesFromEnd(e)+l)&&(r.raws.important=l);break}if("important"===n[1].toLowerCase()){for(var c=e.slice(0),f="",h=u;h>0;h--){var p=c[h][0];if(0===f.trim().indexOf("!")&&"space"!==p)break;f=c.pop()[1]+f}0===f.trim().indexOf("!")&&(r.important=!0,r.raws.important=f,e=c)}if("space"!==n[0]&&"comment"!==n[0])break}var d=e.some((function(e){return"space"!==e[0]&&"comment"!==e[0]}));d&&(r.raws.between+=s.map((function(e){return e[1]})).join(""),s=[]),this.raw(r,"value",s.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}},{key:"doubleColon",value:function(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}},{key:"emptyRule",value:function(e){var t=new uf;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}},{key:"end",value:function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}},{key:"endFile",value:function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}},{key:"getPosition",value:function(e){var t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}},{key:"init",value:function(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}},{key:"other",value:function(e){for(var t=!1,r=null,n=!1,o=null,i=[],a=e[1].startsWith("--"),s=[],u=e;u;){if(r=u[0],s.push(u),"("===r||"["===r)o||(o=u),i.push("("===r?")":"]");else if(a&&n&&"{"===r)o||(o=u),i.push("}");else if(0===i.length){if(";"===r){if(n)return void this.decl(s,a);break}if("{"===r)return void this.rule(s);if("}"===r){this.tokenizer.back(s.pop()),t=!0;break}":"===r&&(n=!0)}else r===i[i.length-1]&&(i.pop(),0===i.length&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),i.length>0&&this.unclosedBracket(o),t&&n){if(!a)for(;s.length&&("space"===(u=s[s.length-1][0])||"comment"===u);)this.tokenizer.back(s.pop());this.decl(s,a)}else this.unknownWord(s)}},{key:"parse",value:function(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(e,t,r,n){for(var o,i,a,s,u=r.length,l="",c=!0,f=0;f<u;f+=1)"space"!==(i=(o=r[f])[0])||f!==u-1||n?"comment"===i?(s=r[f-1]?r[f-1][0]:"empty",a=r[f+1]?r[f+1][0]:"empty",lf[s]||lf[a]||","===l.slice(-1)?c=!1:l+=o[1]):l+=o[1]:c=!1;if(!c){var h=r.reduce((function(e,t){return e+t[1]}),"");e.raws[t]={raw:h,value:l}}e[t]=l}},{key:"rule",value:function(e){e.pop();var t=new uf;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}},{key:"spacesAndCommentsFromEnd",value:function(e){for(var t,r="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r}},{key:"spacesAndCommentsFromStart",value:function(e){for(var t,r="";e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r}},{key:"spacesFromEnd",value:function(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t}},{key:"stringFrom",value:function(e,t){for(var r="",n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}},{key:"unclosedBlock",value:function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}},{key:"unclosedBracket",value:function(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}},{key:"unexpectedClose",value:function(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}},{key:"unknownWord",value:function(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}},{key:"unnamedAtrule",value:function(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}}])}(),hf=Fl;function pf(e,t){var r=new hf(e,t),n=new ff(r);try{n.parse()}catch(e){throw e}return n.root}var df=pf;pf.default=pf,cf.registerParse(pf);var vf=$u.isClean,yf=$u.my,mf=Yl,gf=ol,bf=lc,wf=pc,kf=gc,Sf=df,xf=Yc,Cf={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},If={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Of={Once:!0,postcssPlugin:!0,prepare:!0};function Ef(e){return"object"===ao(e)&&"function"==typeof e.then}function _f(e){var t=!1,r=Cf[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,0,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,0,r+"Exit"]:[r,r+"Exit"]}function Af(e){return{eventIndex:0,events:"document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:_f(e),iterator:0,node:e,visitorIndex:0,visitors:[]}}function Rf(e){return e[vf]=!1,e.nodes&&e.nodes.forEach((function(e){return Rf(e)})),e}var Tf={},Pf=function(){return oo((function e(t,r,n){var o,i=this;if(ro(this,e),this.stringified=!1,this.processed=!1,"object"!==ao(r)||null===r||"root"!==r.type&&"document"!==r.type)if(r instanceof e||r instanceof kf)o=Rf(r.root),r.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{var a=Sf;n.syntax&&(a=n.syntax.parse),n.parser&&(a=n.parser),a.parse&&(a=a.parse);try{o=a(r,n)}catch(e){this.processed=!0,this.error=e}o&&!o[yf]&&bf.rebuild(o)}else o=Rf(r);this.result=new kf(t,o,n),this.helpers=Vn(Vn({},Tf),{},{postcss:Tf,result:this.result}),this.plugins=this.processor.plugins.map((function(e){return"object"===ao(e)&&e.prepare?Vn(Vn({},e),e.prepare(i.result)):e}))}),[{key:"async",value:function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"getAsyncError",value:function(){throw new Error("Use process(css).then(cb) to work with async plugins")}},{key:"handleError",value:function(e,t){var r=this.result.lastPlugin;try{if(t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin){if(r.postcssVersion);}else e.plugin=r.postcssPlugin,e.setMessage()}catch(e){console&&console.error&&console.error(e)}return e}},{key:"prepareVisitors",value:function(){var e=this;this.listeners={};var t,r=function(t,r,n){e.listeners[r]||(e.listeners[r]=[]),e.listeners[r].push([t,n])},n=Qn(this.plugins);try{for(n.s();!(t=n.n()).done;){var o=t.value;if("object"===ao(o))for(var i in o){if(!If[i]&&/^[A-Z]/.test(i))throw new Error("Unknown event ".concat(i," in ").concat(o.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!Of[i])if("object"===ao(o[i]))for(var a in o[i])r(o,"*"===a?i:i+"-"+a.toLowerCase(),o[i][a]);else"function"==typeof o[i]&&r(o,i,o[i])}}}catch(e){n.e(e)}finally{n.f()}this.hasListener=Object.keys(this.listeners).length>0}},{key:"runAsync",value:(e=Un(Dn().mark((function e(){var t,r,n,o,i,a,s,u,l,c,f=this;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.plugin=0,t=0;case 2:if(!(t<this.plugins.length)){e.next=17;break}if(r=this.plugins[t],!Ef(n=this.runOnRoot(r))){e.next=14;break}return e.prev=6,e.next=9,n;case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(6),this.handleError(e.t0);case 14:t++,e.next=2;break;case 17:if(this.prepareVisitors(),!this.hasListener){e.next=56;break}o=this.result.root;case 20:if(o[vf]){e.next=39;break}o[vf]=!0,i=[Af(o)];case 23:if(!(i.length>0)){e.next=37;break}if(!Ef(a=this.visitTick(i))){e.next=35;break}return e.prev=26,e.next=29,a;case 29:e.next=35;break;case 31:throw e.prev=31,e.t1=e.catch(26),s=i[i.length-1].node,this.handleError(e.t1,s);case 35:e.next=23;break;case 37:e.next=20;break;case 39:if(!this.listeners.OnceExit){e.next=56;break}u=Qn(this.listeners.OnceExit),e.prev=41,c=Dn().mark((function e(){var t,r,n,i;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Bn(l.value,2),r=t[0],n=t[1],f.result.lastPlugin=r,e.prev=2,"document"!==o.type){e.next=9;break}return i=o.nodes.map((function(e){return n(e,f.helpers)})),e.next=7,Promise.all(i);case 7:e.next=11;break;case 9:return e.next=11,n(o,f.helpers);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),f.handleError(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})),u.s();case 44:if((l=u.n()).done){e.next=48;break}return e.delegateYield(c(),"t2",46);case 46:e.next=44;break;case 48:e.next=53;break;case 50:e.prev=50,e.t3=e.catch(41),u.e(e.t3);case 53:return e.prev=53,u.f(),e.finish(53);case 56:return this.processed=!0,e.abrupt("return",this.stringify());case 58:case"end":return e.stop()}}),e,this,[[6,11],[26,31],[41,50,53,56]])}))),function(){return e.apply(this,arguments)})},{key:"runOnRoot",value:function(e){var t=this;this.result.lastPlugin=e;try{if("object"===ao(e)&&e.Once){if("document"===this.result.root.type){var r=this.result.root.nodes.map((function(r){return e.Once(r,t.helpers)}));return Ef(r[0])?Promise.all(r):r}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var e=this.result.opts,t=gf;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);var r=new mf(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();var e,t=Qn(this.plugins);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(Ef(this.runOnRoot(r)))throw this.getAsyncError()}}catch(e){t.e(e)}finally{t.f()}if(this.prepareVisitors(),this.hasListener){for(var n=this.result.root;!n[vf];)n[vf]=!0,this.walkSync(n);if(this.listeners.OnceExit)if("document"===n.type){var o,i=Qn(n.nodes);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.visitSync(this.listeners.OnceExit,a)}}catch(e){i.e(e)}finally{i.f()}}else this.visitSync(this.listeners.OnceExit,n)}return this.result}},{key:"then",value:function(e,t){return this.async().then(e,t)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(e,t){var r,n=Qn(e);try{for(n.s();!(r=n.n()).done;){var o=Bn(r.value,2),i=o[0],a=o[1];this.result.lastPlugin=i;var s=void 0;try{s=a(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(Ef(s))throw this.getAsyncError()}}catch(e){n.e(e)}finally{n.f()}}},{key:"visitTick",value:function(e){var t=e[e.length-1],r=t.node,n=t.visitors;if("root"===r.type||"document"===r.type||r.parent){if(n.length>0&&t.visitorIndex<n.length){var o=Bn(n[t.visitorIndex],2),i=o[0],a=o[1];t.visitorIndex+=1,t.visitorIndex===n.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=i;try{return a(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){for(var s,u=t.iterator;s=r.nodes[r.indexes[u]];)if(r.indexes[u]+=1,!s[vf])return s[vf]=!0,void e.push(Af(s));t.iterator=0,delete r.indexes[u]}for(var l=t.events;t.eventIndex<l.length;){var c=l[t.eventIndex];if(t.eventIndex+=1,0===c)return void(r.nodes&&r.nodes.length&&(r[vf]=!0,t.iterator=r.getIterator()));if(this.listeners[c])return void(t.visitors=this.listeners[c])}e.pop()}else e.pop()}},{key:"walkSync",value:function(e){var t=this;e[vf]=!0;var r,n=Qn(_f(e));try{for(n.s();!(r=n.n()).done;){var o=r.value;if(0===o)e.nodes&&e.each((function(e){e[vf]||t.walkSync(e)}));else{var i=this.listeners[o];if(i&&this.visitSync(i,e.toProxy()))return}}}catch(e){n.e(e)}finally{n.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]);var e}();Pf.registerPostcss=function(e){Tf=e};var Mf=Pf;Pf.default=Pf,xf.registerLazyResult(Pf),wf.registerLazyResult(Pf);var jf=Yl,Lf=ol,Nf=df,Df=gc,Ff=function(){return oo((function e(t,r,n){var o;ro(this,e),r=r.toString(),this.stringified=!1,this._processor=t,this._css=r,this._opts=n,this._map=void 0;var i=Lf;this.result=new Df(this._processor,o,this._opts),this.result.css=r;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var s=new jf(i,o,this._opts,r);if(s.isMap()){var u=Bn(s.generate(),2),l=u[0],c=u[1];l&&(this.result.css=l),c&&(this.result.map=c)}else s.clearAnnotation(),this.result.css=s.css}),[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(e){return this.async().catch(e)}},{key:"finally",value:function(e){return this.async().then(e,e)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(e,t){return this.async().then(e,t)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var e,t=Nf;try{e=t(this._css,this._opts)}catch(e){this.error=e}if(this.error)throw this.error;return this._root=e,e}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}])}(),Uf=Ff;Ff.default=Ff;var Bf=Uf,zf=Mf,Wf=pc,Gf=Yc,Vf=function(){return oo((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ro(this,e),this.version="8.4.38",this.plugins=this.normalize(t)}),[{key:"normalize",value:function(e){var t,r=[],n=Qn(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(!0===o.postcss?o=o():o.postcss&&(o=o.postcss),"object"===ao(o)&&Array.isArray(o.plugins))r=r.concat(o.plugins);else if("object"===ao(o)&&o.postcssPlugin)r.push(o);else if("function"==typeof o)r.push(o);else{if("object"!==ao(o)||!o.parse&&!o.stringify)throw new Error(o+" is not a PostCSS plugin")}}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"process",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||t.parser||t.stringifier||t.syntax?new zf(this,e,t):new Bf(this,e,t)}},{key:"use",value:function(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}}])}(),Hf=Vf;Vf.default=Vf,Gf.registerProcessor(Vf),Wf.registerProcessor(Vf);var qf=dl,Jf=xl,Zf=Kl,Yf=Vc,Xf=Fl,Kf=Yc,$f=tf;function Qf(e,t){if(Array.isArray(e))return e.map((function(e){return Qf(e)}));var r=e.inputs,n=Nn(e,Mn);if(r){t=[];var o,i=Qn(r);try{for(i.s();!(o=i.n()).done;){var a=Vn(Vn({},o.value),{},{__proto__:Xf.prototype});a.map&&(a.map=Vn(Vn({},a.map),{},{__proto__:Jf.prototype})),t.push(a)}}catch(e){i.e(e)}finally{i.f()}}if(n.nodes&&(n.nodes=e.nodes.map((function(e){return Qf(e,t)}))),n.source){var s=n.source,u=s.inputId,l=Nn(s,jn);n.source=l,null!=u&&(n.source.input=t[u])}if("root"===n.type)return new Kf(n);if("decl"===n.type)return new qf(n);if("rule"===n.type)return new $f(n);if("comment"===n.type)return new Zf(n);if("atrule"===n.type)return new Yf(n);throw new Error("Unknown node type: "+e.type)}var eh=Qf;Qf.default=Qf;var th=Ku,rh=dl,nh=Mf,oh=lc,ih=Hf,ah=ol,sh=eh,uh=pc,lh=vc,ch=Kl,fh=Vc,hh=gc,ph=Fl,dh=df,vh=Kc,yh=tf,mh=Yc,gh=hl;function bh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 1===t.length&&Array.isArray(t[0])&&(t=t[0]),new ih(t)}bh.plugin=function(e,t){var r,n=!1;function o(){console&&console.warn&&!n&&(n=!0,console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": 里面 postcss.plugin 被弃用. 迁移指南:\nhttps://www.w3ctech.com/topic/2226"));var r=t.apply(void 0,arguments);return r.postcssPlugin=e,r.postcssVersion=(new ih).version,r}return Object.defineProperty(o,"postcss",{get:function(){return r||(r=o()),r}}),o.process=function(e,t,r){return bh([o(r)]).process(e,t)},o},bh.stringify=ah,bh.parse=dh,bh.fromJSON=sh,bh.list=vh,bh.comment=function(e){return new ch(e)},bh.atRule=function(e){return new fh(e)},bh.decl=function(e){return new rh(e)},bh.rule=function(e){return new yh(e)},bh.root=function(e){return new mh(e)},bh.document=function(e){return new uh(e)},bh.CssSyntaxError=th,bh.Declaration=rh,bh.Container=oh,bh.Processor=ih,bh.Document=uh,bh.Comment=ch,bh.Warning=lh,bh.AtRule=fh,bh.Result=hh,bh.Input=ph,bh.Rule=yh,bh.Root=mh,bh.Node=gh,nh.registerPostcss(bh);var wh=bh;bh.default=bh;var kh=zu(wh);kh.stringify,kh.fromJSON,kh.plugin,kh.parse,kh.list,kh.document,kh.comment,kh.atRule,kh.rule,kh.decl,kh.root,kh.CssSyntaxError,kh.Declaration,kh.Container,kh.Processor,kh.Document,kh.Comment,kh.Warning,kh.AtRule,kh.Result,kh.Input,kh.Rule,kh.Root,kh.Node;var Sh=function(){function e(){ro(this,e),Bu(this,"parentElement",null),Bu(this,"parentNode",null),Bu(this,"ownerDocument"),Bu(this,"firstChild",null),Bu(this,"lastChild",null),Bu(this,"previousSibling",null),Bu(this,"nextSibling",null),Bu(this,"ELEMENT_NODE",1),Bu(this,"TEXT_NODE",3),Bu(this,"nodeType"),Bu(this,"nodeName"),Bu(this,"RRNodeType")}return oo(e,[{key:"childNodes",get:function(){for(var e=[],t=this.firstChild;t;)e.push(t),t=t.nextSibling;return e}},{key:"contains",value:function(t){if(!(t instanceof e))return!1;if(t.ownerDocument!==this.ownerDocument)return!1;if(t===this)return!0;for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1}},{key:"appendChild",value:function(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}},{key:"insertBefore",value:function(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}},{key:"removeChild",value:function(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}},{key:"toString",value:function(){return"RRNode"}}])}(),xh={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Ch={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Ih={};function Oh(e){if(Ih[e])return Ih[e];var t=globalThis[e],r=t.prototype,n=e in xh?xh[e]:void 0,o=Boolean(n&&n.every((function(e){var t,n;return Boolean(null==(n=null==(t=Object.getOwnPropertyDescriptor(r,e))?void 0:t.get)?void 0:n.toString().includes("[native code]"))}))),i=e in Ch?Ch[e]:void 0,a=Boolean(i&&i.every((function(e){var t;return"function"==typeof r[e]&&(null==(t=r[e])?void 0:t.toString().includes("[native code]"))})));if(o&&a&&!globalThis.Zone)return Ih[e]=t.prototype,t.prototype;try{var s=document.createElement("iframe");document.body.appendChild(s);var u=s.contentWindow;if(!u)return t.prototype;var l=u[e].prototype;return document.body.removeChild(s),l?Ih[e]=l:r}catch(e){return r}}var Eh={};function _h(e,t,r){var n,o="".concat(e,".").concat(String(r));if(Eh[o])return Eh[o].call(t);var i=Oh(e),a=null==(n=Object.getOwnPropertyDescriptor(i,r))?void 0:n.get;return a?(Eh[o]=a,a.call(t)):t[r]}var Ah={};function Rh(e,t,r){var n="".concat(e,".").concat(String(r));if(Ah[n])return Ah[n].bind(t);var o=Oh(e)[r];return"function"!=typeof o?t[r]:(Ah[n]=o,o.bind(t))}function Th(){return Oh("MutationObserver").constructor}var Ph={childNodes:function(e){return _h("Node",e,"childNodes")},parentNode:function(e){return _h("Node",e,"parentNode")},parentElement:function(e){return _h("Node",e,"parentElement")},textContent:function(e){return _h("Node",e,"textContent")},contains:function(e,t){return Rh("Node",e,"contains")(t)},getRootNode:function(e){return Rh("Node",e,"getRootNode")()},host:function(e){return e&&"host"in e?_h("ShadowRoot",e,"host"):null},styleSheets:function(e){return e.styleSheets},shadowRoot:function(e){return e&&"shadowRoot"in e?_h("Element",e,"shadowRoot"):null},querySelector:function(e,t){return _h("Element",e,"querySelector")(t)},querySelectorAll:function(e,t){return _h("Element",e,"querySelectorAll")(t)},mutationObserver:Th};function Mh(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,n={capture:!0,passive:!0};return r.addEventListener(e,t,n),function(){return r.removeEventListener(e,t,n)}}var jh="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",Lh={map:{},getId:function(){return console.error(jh),-1},getNode:function(){return console.error(jh),null},removeNodeFromMap:function(){console.error(jh)},has:function(){return console.error(jh),!1},reset:function(){console.error(jh)}};function Nh(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=null,o=0;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=Date.now();o||!1!==r.leading||(o=u);var l=t-(u-o),c=this;l<=0||l>t?(n&&(clearTimeout(n),n=null),o=u,e.apply(c,a)):n||!1===r.trailing||(n=setTimeout((function(){o=!1===r.leading?0:Date.now(),n=null,e.apply(c,a)}),l))}}function Dh(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,n?r:{set:function(e){var t=this;setTimeout((function(){r.set.call(t,e)}),0),i&&i.set&&i.set.call(this,e)}}),function(){return Dh(e,t,i||{},!0)}}function Fh(e,t,r){try{if(!(t in e))return function(){};var n=e[t],o=r(n);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=o,function(){e[t]=n}}catch(e){return function(){}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Lh=new Proxy(Lh,{get:function(e,t,r){return"map"===t&&console.error(jh),Reflect.get(e,t,r)}}));var Uh=Date.now;function Bh(e){var t,r,n,o,i=e.document;return{left:i.scrollingElement?i.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:i.documentElement.scrollLeft||(null==i?void 0:i.body)&&(null==(t=Ph.parentElement(i.body))?void 0:t.scrollLeft)||(null==(r=null==i?void 0:i.body)?void 0:r.scrollLeft)||0,top:i.scrollingElement?i.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null==i?void 0:i.documentElement.scrollTop)||(null==i?void 0:i.body)&&(null==(n=Ph.parentElement(i.body))?void 0:n.scrollTop)||(null==(o=null==i?void 0:i.body)?void 0:o.scrollTop)||0}}function zh(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Wh(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Gh(e){return e?e.nodeType===e.ELEMENT_NODE?e:Ph.parentElement(e):null}function Vh(e,t,r,n){if(!e)return!1;var o=Gh(e);if(!o)return!1;try{if("string"==typeof t){if(o.classList.contains(t))return!0;if(n&&null!==o.closest("."+t))return!0}else if(ei(o,t,n))return!0}catch(e){}if(r){if(o.matches(r))return!0;if(n&&null!==o.closest(r))return!0}return!1}function Hh(e,t,r){return!("TITLE"!==e.tagName||!r.headTitleMutations)||-2===t.getId(e)}function qh(e,t){if(Co(e))return!1;var r=t.getId(e);if(!t.has(r))return!0;var n=Ph.parentNode(e);return(!n||n.nodeType!==e.DOCUMENT_NODE)&&(!n||qh(n,t))}function Jh(e){return Boolean(e.changedTouches)}function Zh(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Yh(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Xh(e){return!!e&&(e instanceof Sh&&"shadowRoot"in e?Boolean(e.shadowRoot):Boolean(Ph.shadowRoot(e)))}/[1-9][0-9]{12}/.test(Date.now().toString())||(Uh=function(){return(new Date).getTime()});var Kh=function(){return oo((function e(){ro(this,e),lo(this,"id",1),lo(this,"styleIDMap",new WeakMap),lo(this,"idStyleMap",new Map)}),[{key:"getId",value:function(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}},{key:"has",value:function(e){return this.styleIDMap.has(e)}},{key:"add",value:function(e,t){return this.has(e)?this.getId(e):(r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r);var r}},{key:"getStyle",value:function(e){return this.idStyleMap.get(e)||null}},{key:"reset",value:function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}},{key:"generateId",value:function(){return this.id++}}])}();function $h(e){var t,r=null;return"getRootNode"in e&&(null==(t=Ph.getRootNode(e))?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&Ph.host(Ph.getRootNode(e))&&(r=Ph.host(Ph.getRootNode(e))),r}function Qh(e){var t=e.ownerDocument;if(!t)return!1;var r=function(e){for(var t,r=e;t=$h(r);)r=t;return r}(e);return Ph.contains(t,r)}function ep(e){var t=e.ownerDocument;return!!t&&(Ph.contains(t,e)||Qh(e))}var tp=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(tp||{}),rp=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(rp||{}),np=function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e}(np||{}),op=function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e}(op||{}),ip=function(e){return e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e}(ip||{}),ap=function(e){return e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e}(ap||{}),sp=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(sp||{});function up(e){return"__ln"in e}var lp,cp=function(){return oo((function e(){ro(this,e),lo(this,"length",0),lo(this,"head",null),lo(this,"tail",null)}),[{key:"get",value:function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,r=0;r<e;r++)t=(null==t?void 0:t.next)||null;return t}},{key:"addNode",value:function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&up(e.previousSibling)){var r=e.previousSibling.__ln.next;t.next=r,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,r&&(r.previous=t)}else if(e.nextSibling&&up(e.nextSibling)&&e.nextSibling.__ln.previous){var n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}},{key:"removeNode",value:function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}])}(),fp=function(e,t){return"".concat(e,"@").concat(t)},hp=function(){return oo((function e(){var t=this;ro(this,e),lo(this,"frozen",!1),lo(this,"locked",!1),lo(this,"texts",[]),lo(this,"attributes",[]),lo(this,"attributeMap",new WeakMap),lo(this,"removes",[]),lo(this,"mapRemoves",[]),lo(this,"movedMap",{}),lo(this,"addedSet",new Set),lo(this,"movedSet",new Set),lo(this,"droppedSet",new Set),lo(this,"removesSubTreeCache",new Set),lo(this,"mutationCb"),lo(this,"blockClass"),lo(this,"blockSelector"),lo(this,"maskTextClass"),lo(this,"maskTextSelector"),lo(this,"inlineStylesheet"),lo(this,"maskInputOptions"),lo(this,"maskTextFn"),lo(this,"maskInputFn"),lo(this,"keepIframeSrcFn"),lo(this,"recordCanvas"),lo(this,"inlineImages"),lo(this,"slimDOMOptions"),lo(this,"dataURLOptions"),lo(this,"doc"),lo(this,"mirror"),lo(this,"iframeManager"),lo(this,"stylesheetManager"),lo(this,"shadowDomManager"),lo(this,"canvasManager"),lo(this,"processedNodeManager"),lo(this,"unattachedDoc"),lo(this,"processMutations",(function(e){e.forEach(t.processMutation),t.emit()})),lo(this,"emit",(function(){if(!t.frozen&&!t.locked){for(var e=[],r=new Set,n=new cp,o=function(e){for(var r=e,n=-2;-2===n;)n=(r=r&&r.nextSibling)&&t.mirror.getId(r);return n},i=function(i){var a=Ph.parentNode(i);if(a&&ep(i)){var s=!1;if(i.nodeType===Node.TEXT_NODE){var u=a.tagName;if("TEXTAREA"===u)return;"STYLE"===u&&t.addedSet.has(a)&&(s=!0)}var l=Co(a)?t.mirror.getId($h(i)):t.mirror.getId(a),c=o(i);if(-1===l||-1===c)return n.addNode(i);var f=oi(i,{doc:t.doc,mirror:t.mirror,blockClass:t.blockClass,blockSelector:t.blockSelector,maskTextClass:t.maskTextClass,maskTextSelector:t.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:t.inlineStylesheet,maskInputOptions:t.maskInputOptions,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:t.slimDOMOptions,dataURLOptions:t.dataURLOptions,recordCanvas:t.recordCanvas,inlineImages:t.inlineImages,onSerialize:function(e){Zh(e,t.mirror)&&t.iframeManager.addIframe(e),Yh(e,t.mirror)&&t.stylesheetManager.trackLinkElement(e),Xh(i)&&t.shadowDomManager.addShadowRoot(Ph.shadowRoot(i),t.doc)},onIframeLoad:function(e,r){t.iframeManager.attachIframe(e,r),t.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:function(e,r){t.stylesheetManager.attachLinkElement(e,r)},cssCaptured:s});f&&(e.push({parentId:l,nextId:c,node:f}),r.add(f.id))}};t.mapRemoves.length;)t.mirror.removeNodeFromMap(t.mapRemoves.shift());var a,s=Qn(t.movedSet);try{for(s.s();!(a=s.n()).done;){var u=a.value;dp(t.removesSubTreeCache,u,t.mirror)&&!t.movedSet.has(Ph.parentNode(u))||i(u)}}catch(e){s.e(e)}finally{s.f()}var l,c=Qn(t.addedSet);try{for(c.s();!(l=c.n()).done;){var f=l.value;vp(t.droppedSet,f)||dp(t.removesSubTreeCache,f,t.mirror)?vp(t.movedSet,f)?i(f):t.droppedSet.add(f):i(f)}}catch(e){c.e(e)}finally{c.f()}for(var h=null;n.length;){var p=null;if(h){var d=t.mirror.getId(Ph.parentNode(h.value)),v=o(h.value);-1!==d&&-1!==v&&(p=h)}if(!p)for(var y=n.tail;y;){var m=y;if(y=y.previous,m){var g=t.mirror.getId(Ph.parentNode(m.value));if(-1===o(m.value))continue;if(-1!==g){p=m;break}var b=m.value,w=Ph.parentNode(b);if(w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var k=Ph.host(w);if(-1!==t.mirror.getId(k)){p=m;break}}}}if(!p){for(;n.head;)n.removeNode(n.head.value);break}h=p.previous,n.removeNode(p.value),i(p.value)}var S={texts:t.texts.map((function(e){var r=e.node,n=Ph.parentNode(r);return n&&"TEXTAREA"===n.tagName&&t.genTextAreaValueMutation(n),{id:t.mirror.getId(r),value:e.value}})).filter((function(e){return!r.has(e.id)})).filter((function(e){return t.mirror.has(e.id)})),attributes:t.attributes.map((function(e){var r=e.attributes;if("string"==typeof r.style){var n=JSON.stringify(e.styleDiff),o=JSON.stringify(e._unchangedStyles);n.length<r.style.length&&(n+o).split("var(").length===r.style.split("var(").length&&(r.style=e.styleDiff)}return{id:t.mirror.getId(e.node),attributes:r}})).filter((function(e){return!r.has(e.id)})).filter((function(e){return t.mirror.has(e.id)})),removes:t.removes,adds:e};(S.texts.length||S.attributes.length||S.removes.length||S.adds.length)&&(t.texts=[],t.attributes=[],t.attributeMap=new WeakMap,t.removes=[],t.addedSet=new Set,t.movedSet=new Set,t.droppedSet=new Set,t.removesSubTreeCache=new Set,t.movedMap={},t.mutationCb(S))}})),lo(this,"genTextAreaValueMutation",(function(e){var r=t.attributeMap.get(e);r||(r={node:e,attributes:{},styleDiff:{},_unchangedStyles:{}},t.attributes.push(r),t.attributeMap.set(e,r)),r.attributes.value=Array.from(Ph.childNodes(e),(function(e){return Ph.textContent(e)||""})).join("")})),lo(this,"processMutation",(function(e){if(!Hh(e.target,t.mirror,t.slimDOMOptions))switch(e.type){case"characterData":var r=Ph.textContent(e.target);Vh(e.target,t.blockClass,t.blockSelector,!1)||r===e.oldValue||t.texts.push({value:ti(e.target,t.maskTextClass,t.maskTextSelector,!0)&&r?t.maskTextFn?t.maskTextFn(r,Gh(e.target)):r.replace(/[\S]/g,"*"):r,node:e.target});break;case"attributes":var n=e.target,o=e.attributeName,i=e.target.getAttribute(o);if("value"===o){var a=Po(n);i=Ao({element:n,maskInputOptions:t.maskInputOptions,tagName:n.tagName,type:a,value:i,maskInputFn:t.maskInputFn})}if(Vh(e.target,t.blockClass,t.blockSelector,!1)||i===e.oldValue)return;var s=t.attributeMap.get(e.target);if("IFRAME"===n.tagName&&"src"===o&&!t.keepIframeSrcFn(i)){if(n.contentDocument)return;o="rr_src"}if(s||(s={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},t.attributes.push(s),t.attributeMap.set(e.target,s)),"type"===o&&"INPUT"===n.tagName&&"password"===(e.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!Qo(n.tagName,o))if(s.attributes[o]=$o(t.doc,Ro(n.tagName),Ro(o),i),"style"===o){if(!t.unattachedDoc)try{t.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){t.unattachedDoc=t.doc}var u=t.unattachedDoc.createElement("span");e.oldValue&&u.setAttribute("style",e.oldValue);for(var l=0,c=Array.from(n.style);l<c.length;l++){var f=c[l],h=n.style.getPropertyValue(f),p=n.style.getPropertyPriority(f);h!==u.style.getPropertyValue(f)||p!==u.style.getPropertyPriority(f)?s.styleDiff[f]=""===p?h:[h,p]:s._unchangedStyles[f]=[h,p]}for(var d=0,v=Array.from(u.style);d<v.length;d++){var y=v[d];""===n.style.getPropertyValue(y)&&(s.styleDiff[y]=!1)}}else"open"===o&&"DIALOG"===n.tagName&&(n.matches("dialog:modal")?s.attributes.rr_open_mode="modal":s.attributes.rr_open_mode="non-modal");break;case"childList":if(Vh(e.target,t.blockClass,t.blockSelector,!0))return;if("TEXTAREA"===e.target.tagName)return void t.genTextAreaValueMutation(e.target);e.addedNodes.forEach((function(r){return t.genAdds(r,e.target)})),e.removedNodes.forEach((function(r){var n=t.mirror.getId(r),o=Co(e.target)?t.mirror.getId(Ph.host(e.target)):t.mirror.getId(e.target);Vh(e.target,t.blockClass,t.blockSelector,!1)||Hh(r,t.mirror,t.slimDOMOptions)||!function(e,t){return-1!==t.getId(e)}(r,t.mirror)||(t.addedSet.has(r)?(pp(t.addedSet,r),t.droppedSet.add(r)):t.addedSet.has(e.target)&&-1===n||qh(e.target,t.mirror)||(t.movedSet.has(r)&&t.movedMap[fp(n,o)]?pp(t.movedSet,r):(t.removes.push({parentId:o,id:n,isShadow:!(!Co(e.target)||!Io(e.target))||void 0}),function(e,t){var r=[e];for(;r.length;){var n=r.pop();t.has(n)||(t.add(n),Ph.childNodes(n).forEach((function(e){return r.push(e)})))}}(r,t.removesSubTreeCache))),t.mapRemoves.push(r))}))}})),lo(this,"genAdds",(function(e,r){if(!t.processedNodeManager.inOtherBuffer(e,t)&&!t.addedSet.has(e)&&!t.movedSet.has(e)){if(t.mirror.hasNode(e)){if(Hh(e,t.mirror,t.slimDOMOptions))return;t.movedSet.add(e);var n=null;r&&t.mirror.hasNode(r)&&(n=t.mirror.getId(r)),n&&-1!==n&&(t.movedMap[fp(t.mirror.getId(e),n)]=!0)}else t.addedSet.add(e),t.droppedSet.delete(e);Vh(e,t.blockClass,t.blockSelector,!1)||(Ph.childNodes(e).forEach((function(e){return t.genAdds(e)})),Xh(e)&&Ph.childNodes(Ph.shadowRoot(e)).forEach((function(r){t.processedNodeManager.add(r,t),t.genAdds(r,e)})))}}))}),[{key:"init",value:function(e){var t=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((function(r){t[r]=e[r]}))}},{key:"freeze",value:function(){this.frozen=!0,this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0,this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1,this.canvasManager.unlock(),this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset(),this.canvasManager.reset()}}])}();function pp(e,t){e.delete(t),Ph.childNodes(t).forEach((function(t){return pp(e,t)}))}function dp(e,t,r){return 0!==e.size&&function(e,t){var r=Ph.parentNode(t);return!!r&&e.has(r)}(e,t)}function vp(e,t){return 0!==e.size&&yp(e,t)}function yp(e,t){var r=Ph.parentNode(t);return!!r&&(!!e.has(r)||yp(e,r))}var mp=function(e){if(!lp)return e;return function(){try{return e.apply(void 0,arguments)}catch(e){if(lp&&!0===lp(e))return;throw e}}},gp=[];function bp(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function wp(e,t){var r=new hp;gp.push(r),r.init(e);var n=new(Th())(mp(r.processMutations.bind(r)));return n.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),n}function kp(e){var t=e.mouseInteractionCb,r=e.doc,n=e.mirror,o=e.blockClass,i=e.blockSelector,a=e.sampling;if(!1===a.mouseInteraction)return function(){};var s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,u=[],l=null;return Object.keys(np).filter((function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e]})).forEach((function(e){var a=Ro(e),s=function(e){return function(r){var a=bp(r);if(!Vh(a,o,i,!0)){var s=null,u=e;if("pointerType"in r){switch(r.pointerType){case"mouse":s=op.Mouse;break;case"touch":s=op.Touch;break;case"pen":s=op.Pen}s===op.Touch?np[e]===np.MouseDown?u="TouchStart":np[e]===np.MouseUp&&(u="TouchEnd"):op.Pen}else Jh(r)&&(s=op.Touch);null!==s?(l=s,(u.startsWith("Touch")&&s===op.Touch||u.startsWith("Mouse")&&s===op.Mouse)&&(s=null)):np[e]===np.Click&&(s=l,l=null);var c=Jh(r)?r.changedTouches[0]:r;if(c){var f=n.getId(a),h=c.clientX,p=c.clientY;mp(t)(Vn({type:np[u],id:f,x:h,y:p},null!==s&&{pointerType:s}))}}}}(e);if(window.PointerEvent)switch(np[e]){case np.MouseDown:case np.MouseUp:a=a.replace("mouse","pointer");break;case np.TouchStart:case np.TouchEnd:return}u.push(Mh(a,s,r))})),mp((function(){u.forEach((function(e){return e()}))}))}function Sp(e){var t=e.scrollCb,r=e.doc,n=e.mirror,o=e.blockClass,i=e.blockSelector,a=e.sampling,s=mp(Nh(mp((function(e){var a=bp(e);if(a&&!Vh(a,o,i,!0)){var s=n.getId(a);if(a===r&&r.defaultView){var u=Bh(r.defaultView);t({id:s,x:u.left,y:u.top})}else t({id:s,x:a.scrollLeft,y:a.scrollTop})}})),a.scroll||100));return Mh("scroll",s,r)}var xp=["INPUT","TEXTAREA","SELECT"],Cp=new WeakMap;function Ip(e){return function(e,t){if(Ap("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Ap("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Ap("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Ap("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){var r=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(r)}else if(e.parentStyleSheet){var n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function Op(e,t,r){var n,o;return e?(e.ownerNode?n=t.getId(e.ownerNode):o=r.getId(e),{styleId:o,id:n}):{}}function Ep(e,t){var r,n,o,i=e.mirror,a=e.stylesheetManager,s=null;s="#document"===t.nodeName?i.getId(t):i.getId(Ph.host(t));var u="#document"===t.nodeName?null==(r=t.defaultView)?void 0:r.Document:null==(o=null==(n=t.ownerDocument)?void 0:n.defaultView)?void 0:o.ShadowRoot,l=(null==u?void 0:u.prototype)?Object.getOwnPropertyDescriptor(null==u?void 0:u.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&u&&l?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:function(){var e;return null==(e=l.get)?void 0:e.call(this)},set:function(e){var t,r=null==(t=l.set)?void 0:t.call(this,e);if(null!==s&&-1!==s)try{a.adoptStyleSheets(e,s)}catch(e){}return r}}),mp((function(){Object.defineProperty(t,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))):function(){}}function _p(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.doc.defaultView;if(!n)return function(){};!function(e,t){var r=e.mutationCb,n=e.mousemoveCb,o=e.mouseInteractionCb,i=e.scrollCb,a=e.viewportResizeCb,s=e.inputCb,u=e.mediaInteractionCb,l=e.styleSheetRuleCb,c=e.styleDeclarationCb,f=e.canvasMutationCb,h=e.fontCb,p=e.selectionCb,d=e.customElementCb;e.mutationCb=function(){t.mutation&&t.mutation.apply(t,arguments),r.apply(void 0,arguments)},e.mousemoveCb=function(){t.mousemove&&t.mousemove.apply(t,arguments),n.apply(void 0,arguments)},e.mouseInteractionCb=function(){t.mouseInteraction&&t.mouseInteraction.apply(t,arguments),o.apply(void 0,arguments)},e.scrollCb=function(){t.scroll&&t.scroll.apply(t,arguments),i.apply(void 0,arguments)},e.viewportResizeCb=function(){t.viewportResize&&t.viewportResize.apply(t,arguments),a.apply(void 0,arguments)},e.inputCb=function(){t.input&&t.input.apply(t,arguments),s.apply(void 0,arguments)},e.mediaInteractionCb=function(){t.mediaInteaction&&t.mediaInteaction.apply(t,arguments),u.apply(void 0,arguments)},e.styleSheetRuleCb=function(){t.styleSheetRule&&t.styleSheetRule.apply(t,arguments),l.apply(void 0,arguments)},e.styleDeclarationCb=function(){t.styleDeclaration&&t.styleDeclaration.apply(t,arguments),c.apply(void 0,arguments)},e.canvasMutationCb=function(){t.canvasMutation&&t.canvasMutation.apply(t,arguments),f.apply(void 0,arguments)},e.fontCb=function(){t.font&&t.font.apply(t,arguments),h.apply(void 0,arguments)},e.selectionCb=function(){t.selection&&t.selection.apply(t,arguments),p.apply(void 0,arguments)},e.customElementCb=function(){t.customElement&&t.customElement.apply(t,arguments),d.apply(void 0,arguments)}}(e,r),e.recordDOM&&(t=wp(e,e.doc));var o,i,a,s,u,l,c,f,h,p,d,v,y,m,g=function(e){var t=e.mousemoveCb,r=e.sampling,n=e.doc,o=e.mirror;if(!1===r.mousemove)return function(){};var i,a="number"==typeof r.mousemove?r.mousemove:50,s="number"==typeof r.mousemoveCallback?r.mousemoveCallback:500,u=[],l=Nh(mp((function(e){var r=Date.now()-i;t(u.map((function(e){return e.timeOffset-=r,e})),e),u=[],i=null})),s),c=mp(Nh(mp((function(e){var t=bp(e),r=Jh(e)?e.changedTouches[0]:e,n=r.clientX,a=r.clientY;i||(i=Uh()),u.push({x:n,y:a,id:o.getId(t),timeOffset:Uh()-i}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?rp.Drag:e instanceof MouseEvent?rp.MouseMove:rp.TouchMove)})),a,{trailing:!1})),f=[Mh("mousemove",c,n),Mh("touchmove",c,n),Mh("drag",c,n)];return mp((function(){f.forEach((function(e){return e()}))}))}(e),b=kp(e),w=Sp(e),k=(o={win:n},i=e.viewportResizeCb,a=o.win,s=-1,u=-1,Mh("resize",mp(Nh(mp((function(){var e=zh(),t=Wh();s===e&&u===t||(i({width:Number(t),height:Number(e)}),s=e,u=t)})),200)),a)),S=function(e){var t=e.inputCb,r=e.doc,n=e.mirror,o=e.blockClass,i=e.blockSelector,a=e.ignoreClass,s=e.ignoreSelector,u=e.maskInputOptions,l=e.maskInputFn,c=e.sampling,f=e.userTriggeredOnInput;function h(e){var t=bp(e),n=e.isTrusted,c=t&&t.tagName;if(t&&"OPTION"===c&&(t=Ph.parentElement(t)),t&&c&&!(xp.indexOf(c)<0)&&!Vh(t,o,i,!0)&&!(t.classList.contains(a)||s&&t.matches(s))){var h=t.value,d=!1,v=Po(t)||"";"radio"===v||"checkbox"===v?d=t.checked:(u[c.toLowerCase()]||u[v])&&(h=Ao({element:t,maskInputOptions:u,tagName:c,type:v,value:h,maskInputFn:l})),p(t,f?{text:h,isChecked:d,userTriggered:n}:{text:h,isChecked:d});var y=t.name;"radio"===v&&y&&d&&r.querySelectorAll('input[type="radio"][name="'.concat(y,'"]')).forEach((function(e){if(e!==t){var r=e.value;p(e,f?{text:r,isChecked:!d,userTriggered:!1}:{text:r,isChecked:!d})}}))}}function p(e,r){var o=Cp.get(e);if(!o||o.text!==r.text||o.isChecked!==r.isChecked){Cp.set(e,r);var i=n.getId(e);mp(t)(Vn(Vn({},r),{},{id:i}))}}var d=("last"===c.input?["change"]:["input","change"]).map((function(e){return Mh(e,mp(h),r)})),v=r.defaultView;if(!v)return function(){d.forEach((function(e){return e()}))};var y=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),m=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return y&&y.set&&d.push.apply(d,qn(m.map((function(e){return Dh(e[0],e[1],{set:function(){mp(h)({target:this,isTrusted:!1})}},!1,v)})))),mp((function(){d.forEach((function(e){return e()}))}))}(e),x=(c=(l=e).mediaInteractionCb,f=l.blockClass,h=l.blockSelector,p=l.mirror,d=l.sampling,v=l.doc,y=mp((function(e){return Nh(mp((function(t){var r=bp(t);if(r&&!Vh(r,f,h,!0)){var n=r.currentTime,o=r.volume,i=r.muted,a=r.playbackRate,s=r.loop;c({type:e,id:p.getId(r),currentTime:n,volume:o,muted:i,playbackRate:a,loop:s})}})),d.media||500)})),m=[Mh("play",y(ap.Play),v),Mh("pause",y(ap.Pause),v),Mh("seeked",y(ap.Seeked),v),Mh("volumechange",y(ap.VolumeChange),v),Mh("ratechange",y(ap.RateChange),v)],mp((function(){m.forEach((function(e){return e()}))}))),C=function(){},I=function(){},O=function(){},E=function(){};e.recordDOM&&(C=function(e,t){var r=e.styleSheetRuleCb,n=e.mirror,o=e.stylesheetManager,i=t.win;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return function(){};var a=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:mp((function(e,t,i){var a=Bn(i,2),s=a[0],u=a[1],l=Op(t,n,o.styleMirror),c=l.id,f=l.styleId;return(c&&-1!==c||f&&-1!==f)&&r({id:c,styleId:f,adds:[{rule:s,index:u}]}),e.apply(t,i)}))}),i.CSSStyleSheet.prototype.addRule=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cssRules.length,n="".concat(e," { ").concat(t," }");return i.CSSStyleSheet.prototype.insertRule.apply(this,[n,r])};var s,u,l=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:mp((function(e,t,i){var a=Bn(i,1)[0],s=Op(t,n,o.styleMirror),u=s.id,l=s.styleId;return(u&&-1!==u||l&&-1!==l)&&r({id:u,styleId:l,removes:[{index:a}]}),e.apply(t,i)}))}),i.CSSStyleSheet.prototype.removeRule=function(e){return i.CSSStyleSheet.prototype.deleteRule.apply(this,[e])},i.CSSStyleSheet.prototype.replace&&(s=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:mp((function(e,t,i){var a=Bn(i,1)[0],s=Op(t,n,o.styleMirror),u=s.id,l=s.styleId;return(u&&-1!==u||l&&-1!==l)&&r({id:u,styleId:l,replace:a}),e.apply(t,i)}))})),i.CSSStyleSheet.prototype.replaceSync&&(u=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(u,{apply:mp((function(e,t,i){var a=Bn(i,1)[0],s=Op(t,n,o.styleMirror),u=s.id,l=s.styleId;return(u&&-1!==u||l&&-1!==l)&&r({id:u,styleId:l,replaceSync:a}),e.apply(t,i)}))}));var c={};Rp("CSSGroupingRule")?c.CSSGroupingRule=i.CSSGroupingRule:(Rp("CSSMediaRule")&&(c.CSSMediaRule=i.CSSMediaRule),Rp("CSSConditionRule")&&(c.CSSConditionRule=i.CSSConditionRule),Rp("CSSSupportsRule")&&(c.CSSSupportsRule=i.CSSSupportsRule));var f={};return Object.entries(c).forEach((function(e){var t=Bn(e,2),i=t[0],a=t[1];f[i]={insertRule:a.prototype.insertRule,deleteRule:a.prototype.deleteRule},a.prototype.insertRule=new Proxy(f[i].insertRule,{apply:mp((function(e,t,i){var a=Bn(i,2),s=a[0],u=a[1],l=Op(t.parentStyleSheet,n,o.styleMirror),c=l.id,f=l.styleId;return(c&&-1!==c||f&&-1!==f)&&r({id:c,styleId:f,adds:[{rule:s,index:[].concat(qn(Ip(t)),[u||0])}]}),e.apply(t,i)}))}),a.prototype.deleteRule=new Proxy(f[i].deleteRule,{apply:mp((function(e,t,i){var a=Bn(i,1)[0],s=Op(t.parentStyleSheet,n,o.styleMirror),u=s.id,l=s.styleId;return(u&&-1!==u||l&&-1!==l)&&r({id:u,styleId:l,removes:[{index:[].concat(qn(Ip(t)),[a])}]}),e.apply(t,i)}))})})),mp((function(){i.CSSStyleSheet.prototype.insertRule=a,i.CSSStyleSheet.prototype.deleteRule=l,s&&(i.CSSStyleSheet.prototype.replace=s),u&&(i.CSSStyleSheet.prototype.replaceSync=u),Object.entries(c).forEach((function(e){var t=Bn(e,2),r=t[0],n=t[1];n.prototype.insertRule=f[r].insertRule,n.prototype.deleteRule=f[r].deleteRule}))}))}(e,{win:n}),I=Ep(e,e.doc),O=function(e,t){var r=e.styleDeclarationCb,n=e.mirror,o=e.ignoreCSSAttributes,i=e.stylesheetManager,a=t.win,s=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:mp((function(e,t,a){var u,l=Bn(a,3),c=l[0],f=l[1],h=l[2];if(o.has(c))return s.apply(t,[c,f,h]);var p=Op(null==(u=t.parentRule)?void 0:u.parentStyleSheet,n,i.styleMirror),d=p.id,v=p.styleId;return(d&&-1!==d||v&&-1!==v)&&r({id:d,styleId:v,set:{property:c,value:f,priority:h},index:Ip(t.parentRule)}),e.apply(t,a)}))});var u=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:mp((function(e,t,a){var s,l=Bn(a,1)[0];if(o.has(l))return u.apply(t,[l]);var c=Op(null==(s=t.parentRule)?void 0:s.parentStyleSheet,n,i.styleMirror),f=c.id,h=c.styleId;return(f&&-1!==f||h&&-1!==h)&&r({id:f,styleId:h,remove:{property:l},index:Ip(t.parentRule)}),e.apply(t,a)}))}),mp((function(){a.CSSStyleDeclaration.prototype.setProperty=s,a.CSSStyleDeclaration.prototype.removeProperty=u}))}(e,{win:n}),e.collectFonts&&(E=function(e){var t=e.fontCb,r=e.doc,n=r.defaultView;if(!n)return function(){};var o=[],i=new WeakMap,a=n.FontFace;n.FontFace=function(e,t,r){var n=new a(e,t,r);return i.set(n,{family:e,buffer:"string"!=typeof t,descriptors:r,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),n};var s=Fh(r.fonts,"add",(function(e){return function(r){return setTimeout(mp((function(){var e=i.get(r);e&&(t(e),i.delete(r))})),0),e.apply(this,[r])}}));return o.push((function(){n.FontFace=a})),o.push(s),mp((function(){o.forEach((function(e){return e()}))}))}(e)));var _,A=function(e){var t=e.doc,r=e.mirror,n=e.blockClass,o=e.blockSelector,i=e.selectionCb,a=!0,s=mp((function(){var e=t.getSelection();if(!(!e||a&&(null==e?void 0:e.isCollapsed))){a=e.isCollapsed||!1;for(var s=[],u=e.rangeCount||0,l=0;l<u;l++){var c=e.getRangeAt(l),f=c.startContainer,h=c.startOffset,p=c.endContainer,d=c.endOffset;Vh(f,n,o,!0)||Vh(p,n,o,!0)||s.push({start:r.getId(f),startOffset:h,end:r.getId(p),endOffset:d})}i({ranges:s})}}));return s(),Mh("selectionchange",s)}(e),R=function(e){var t=e.doc,r=e.customElementCb,n=t.defaultView;if(!n||!n.customElements)return function(){};var o=Fh(n.customElements,"define",(function(e){return function(t,n,o){try{r({define:{name:t}})}catch(e){console.warn("Custom element callback failed for ".concat(t))}return e.apply(this,[t,n,o])}}));return o}(e),T=[],P=Qn(e.plugins);try{for(P.s();!(_=P.n()).done;){var M=_.value;T.push(M.observer(M.callback,n,M.options))}}catch(e){P.e(e)}finally{P.f()}return mp((function(){gp.forEach((function(e){return e.reset()})),null==t||t.disconnect(),g(),b(),w(),k(),S(),x(),C(),I(),O(),E(),A(),R(),T.forEach((function(e){return e()}))}))}function Ap(e){return void 0!==window[e]}function Rp(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}for(var Tp=function(){return oo((function e(t){ro(this,e),lo(this,"iframeIdToRemoteIdMap",new WeakMap),lo(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=t}),[{key:"getId",value:function(e,t,r,n){var o=r||this.getIdToRemoteIdMap(e),i=n||this.getRemoteIdToIdMap(e),a=o.get(t);return a||(a=this.generateIdFn(),o.set(t,a),i.set(a,t)),a}},{key:"getIds",value:function(e,t){var r=this,n=this.getIdToRemoteIdMap(e),o=this.getRemoteIdToIdMap(e);return t.map((function(t){return r.getId(e,t,n,o)}))}},{key:"getRemoteId",value:function(e,t,r){var n=r||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;var o=n.get(t);return o||-1}},{key:"getRemoteIds",value:function(e,t){var r=this,n=this.getRemoteIdToIdMap(e);return t.map((function(t){return r.getRemoteId(e,t,n)}))}},{key:"reset",value:function(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}},{key:"getIdToRemoteIdMap",value:function(e){var t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}},{key:"getRemoteIdToIdMap",value:function(e){var t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}])}(),Pp=function(){return oo((function e(t){ro(this,e),lo(this,"iframes",new WeakMap),lo(this,"crossOriginIframeMap",new WeakMap),lo(this,"crossOriginIframeMirror",new Tp(Ho)),lo(this,"crossOriginIframeStyleMirror"),lo(this,"crossOriginIframeRootIdMap",new WeakMap),lo(this,"mirror"),lo(this,"mutationCb"),lo(this,"wrappedEmit"),lo(this,"loadListener"),lo(this,"stylesheetManager"),lo(this,"recordCrossOriginIframes"),this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Tp(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}),[{key:"addIframe",value:function(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}},{key:"addLoadListener",value:function(e){this.loadListener=e}},{key:"attachIframe",value:function(e,t){var r,n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(r=e.contentWindow)||r.addEventListener("message",this.handleMessage.bind(this))),null==(n=this.loadListener)||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}},{key:"handleMessage",value:function(e){var t=e;if("rrweb"===t.data.type&&t.origin===t.data.origin&&e.source){var r=this.crossOriginIframeMap.get(e.source);if(r){var n=this.transformCrossOriginEvent(r,t.data.event);n&&this.wrappedEmit(n,t.data.isCheckout)}}}},{key:"transformCrossOriginEvent",value:function(e,t){var r,n=this;switch(t.type){case tp.FullSnapshot:this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var o=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,o),this.patchRootIdOnNode(t.data.node,o),{timestamp:t.timestamp,type:tp.IncrementalSnapshot,data:{source:rp.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case tp.Meta:case tp.Load:case tp.DomContentLoaded:return!1;case tp.Plugin:return t;case tp.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case tp.IncrementalSnapshot:switch(t.data.source){case rp.Mutation:return t.data.adds.forEach((function(t){n.replaceIds(t,e,["parentId","nextId","previousId"]),n.replaceIdOnNode(t.node,e);var r=n.crossOriginIframeRootIdMap.get(e);r&&n.patchRootIdOnNode(t.node,r)})),t.data.removes.forEach((function(t){n.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((function(t){n.replaceIds(t,e,["id"])})),t.data.texts.forEach((function(t){n.replaceIds(t,e,["id"])})),t;case rp.Drag:case rp.TouchMove:case rp.MouseMove:return t.data.positions.forEach((function(t){n.replaceIds(t,e,["id"])})),t;case rp.ViewportResize:return!1;case rp.MediaInteraction:case rp.MouseInteraction:case rp.Scroll:case rp.CanvasMutation:case rp.Input:return this.replaceIds(t.data,e,["id"]),t;case rp.StyleSheetRule:case rp.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case rp.Font:return t;case rp.Selection:return t.data.ranges.forEach((function(t){n.replaceIds(t,e,["start","end"])})),t;case rp.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null==(r=t.data.styles)||r.forEach((function(t){n.replaceStyleIds(t,e,["styleId"])})),t}}return!1}},{key:"replace",value:function(e,t,r,n){var o,i=Qn(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;(Array.isArray(t[a])||"number"==typeof t[a])&&(Array.isArray(t[a])?t[a]=e.getIds(r,t[a]):t[a]=e.getId(r,t[a]))}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"replaceIds",value:function(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}},{key:"replaceStyleIds",value:function(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}},{key:"replaceIdOnNode",value:function(e,t){var r=this;this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((function(e){r.replaceIdOnNode(e,t)}))}},{key:"patchRootIdOnNode",value:function(e,t){var r=this;e.type===sp.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((function(e){r.patchRootIdOnNode(e,t)}))}}])}(),Mp=function(){return oo((function e(t){ro(this,e),lo(this,"shadowDoms",new WeakSet),lo(this,"mutationCb"),lo(this,"scrollCb"),lo(this,"bypassOptions"),lo(this,"mirror"),lo(this,"restoreHandlers",[]),this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}),[{key:"init",value:function(){this.reset(),this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(e,t){var r=this;if(Io(e)&&!this.shadowDoms.has(e)){this.shadowDoms.add(e);var n=wp(Vn(Vn({},this.bypassOptions),{},{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((function(){return n.disconnect()})),this.restoreHandlers.push(Sp(Vn(Vn({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout((function(){e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&r.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,r.mirror.getId(Ph.host(e))),r.restoreHandlers.push(Ep({mirror:r.mirror,stylesheetManager:r.bypassOptions.stylesheetManager},e))}),0)}}},{key:"observeAttachShadow",value:function(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}},{key:"patchAttachShadow",value:function(e,t){var r=this;this.restoreHandlers.push(Fh(e.prototype,"attachShadow",(function(e){return function(n){var o=e.call(this,n),i=Ph.shadowRoot(this);return i&&ep(this)&&r.addShadowRoot(i,t),o}})))}},{key:"reset",value:function(){this.restoreHandlers.forEach((function(e){try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}])}(),jp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lp="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Np=0;Np<64;Np++)Lp[jp.charCodeAt(Np)]=Np;var Dp=new Map;var Fp=function(e,t,r){if(e&&(zp(e,t)||"object"===ao(e))){var n=function(e,t){var r=Dp.get(e);return r||(r=new Map,Dp.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}(r,e.constructor.name),o=n.indexOf(e);return-1===o&&(o=n.length,n.push(e)),o}};function Up(e,t,r){if(e instanceof Array)return e.map((function(e){return Up(e,t,r)}));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer)return{rr_type:e.constructor.name,base64:function(e){var t,r=new Uint8Array(e),n=r.length,o="";for(t=0;t<n;t+=3)o+=jp[r[t]>>2],o+=jp[(3&r[t])<<4|r[t+1]>>4],o+=jp[(15&r[t+1])<<2|r[t+2]>>6],o+=jp[63&r[t+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(e)};if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Up(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement)return{rr_type:e.constructor.name,src:e.src};if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}return e instanceof ImageData?{rr_type:e.constructor.name,args:[Up(e.data,t,r),e.width,e.height]}:zp(e,t)||"object"===ao(e)?{rr_type:e.constructor.name,index:Fp(e,t,r)}:e}var Bp=function(e,t,r){return e.map((function(e){return Up(e,t,r)}))},zp=function(e,t){var r=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((function(e){return"function"==typeof t[e]}));return Boolean(r.find((function(r){return e instanceof t[r]})))};function Wp(e,t,r,n){var o=[];try{var i=Fh(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(o){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(!Vh(this,t,r,!0)){var u=function(e){return"experimental-webgl"===e?"webgl":e}(o);if("__context"in this||(this.__context=u),n&&["webgl","webgl2"].includes(u))if(a[0]&&"object"===ao(a[0])){var l=a[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[o].concat(a))}}));o.push(i)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){o.forEach((function(e){return e()}))}}function Gp(e,t,r,n,o,i){var a,s=[],u=Qn(Object.getOwnPropertyNames(e));try{var l=function(){var u=a.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(u))return 0;try{if("function"!=typeof e[u])return 0;var l=Fh(e,u,(function(e){return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var c=e.apply(this,s);if(Fp(c,i,this),"tagName"in this.canvas&&!Vh(this.canvas,n,o,!0)){var f=Bp(s,i,this),h={type:t,property:u,args:f};r(this.canvas,h)}return c}}));s.push(l)}catch(n){var c=Dh(e,u,{set:function(e){r(this.canvas,{type:t,property:u,args:[e],setter:!0})}});s.push(c)}};for(u.s();!(a=u.n()).done;)l()}catch(e){u.e(e)}finally{u.f()}return s}var Vp,Hp="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",qp="undefined"!=typeof window&&window.Blob&&new Blob([(Vp=Hp,Uint8Array.from(atob(Vp),(function(e){return e.charCodeAt(0)})))],{type:"text/javascript;charset=utf-8"});function Jp(e){var t;try{if(!(t=qp&&(window.URL||window.webkitURL).createObjectURL(qp)))throw"";var r=new Worker(t,{name:null==e?void 0:e.name});return r.addEventListener("error",(function(){(window.URL||window.webkitURL).revokeObjectURL(t)})),r}catch(t){return new Worker("data:text/javascript;base64,"+Hp,{name:null==e?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}var Zp,Yp,Xp,Kp=function(){return oo((function e(t){var r=this;ro(this,e),lo(this,"pendingCanvasMutations",new Map),lo(this,"rafStamps",{latestId:0,invokeId:null}),lo(this,"mirror"),lo(this,"mutationCb"),lo(this,"resetObservers"),lo(this,"frozen",!1),lo(this,"locked",!1),lo(this,"processMutation",(function(e,t){!(r.rafStamps.invokeId&&r.rafStamps.latestId!==r.rafStamps.invokeId)&&r.rafStamps.invokeId||(r.rafStamps.invokeId=r.rafStamps.latestId),r.pendingCanvasMutations.has(e)||r.pendingCanvasMutations.set(e,[]),r.pendingCanvasMutations.get(e).push(t)}));var n=t.sampling,o=void 0===n?"all":n,i=t.win,a=t.blockClass,s=t.blockSelector,u=t.recordCanvas,l=t.dataURLOptions;this.mutationCb=t.mutationCb,this.mirror=t.mirror,u&&"all"===o&&this.initCanvasMutationObserver(i,a,s),u&&"number"==typeof o&&this.initCanvasFPSObserver(o,i,a,s,{dataURLOptions:l})}),[{key:"reset",value:function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}},{key:"freeze",value:function(){this.frozen=!0}},{key:"unfreeze",value:function(){this.frozen=!1}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"initCanvasFPSObserver",value:function(e,t,r,n,o){var i=this,a=Wp(t,r,n,!0),s=new Map,u=new Jp;u.onmessage=function(e){var t=e.data.id;if(s.set(t,!1),"base64"in e.data){var r=e.data,n=r.base64,o=r.type,a=r.width,u=r.height;i.mutationCb({id:t,type:ip["2D"],commands:[{property:"clearRect",args:[0,0,a,u]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:n}],type:o}]},0,0]}]})}};var l,c=1e3/e,f=0,h=function(e){var a;f&&e-f<c?l=requestAnimationFrame(h):(f=e,(a=[],t.document.querySelectorAll("canvas").forEach((function(e){Vh(e,r,n,!0)||a.push(e)})),a).forEach(function(){var e=Un(Dn().mark((function e(t){var r,n,a,l;return Dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.mirror.getId(t),!s.get(n)){e.next=3;break}return e.abrupt("return");case 3:if(0!==t.width&&0!==t.height){e.next=5;break}return e.abrupt("return");case 5:return s.set(n,!0),["webgl","webgl2"].includes(t.__context)&&(a=t.getContext(t.__context),!1===(null==(r=null==a?void 0:a.getContextAttributes())?void 0:r.preserveDrawingBuffer)&&a.clear(a.COLOR_BUFFER_BIT)),e.next=9,createImageBitmap(t);case 9:l=e.sent,u.postMessage({id:n,bitmap:l,width:t.width,height:t.height,dataURLOptions:o.dataURLOptions},[l]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=requestAnimationFrame(h))};l=requestAnimationFrame(h),this.resetObservers=function(){a(),cancelAnimationFrame(l)}}},{key:"initCanvasMutationObserver",value:function(e,t,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var n=Wp(e,t,r,!1),o=function(e,t,r,n){var o,i=[],a=Qn(Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype));try{var s=function(){var a=o.value;try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[a])return 1;var s=Fh(t.CanvasRenderingContext2D.prototype,a,(function(o){return function(){for(var i=this,s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];return Vh(this.canvas,r,n,!0)||setTimeout((function(){var r=Bp(u,t,i);e(i.canvas,{type:ip["2D"],property:a,args:r})}),0),o.apply(this,u)}}));i.push(s)}catch(r){var u=Dh(t.CanvasRenderingContext2D.prototype,a,{set:function(t){e(this.canvas,{type:ip["2D"],property:a,args:[t],setter:!0})}});i.push(u)}};for(a.s();!(o=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}return function(){i.forEach((function(e){return e()}))}}(this.processMutation.bind(this),e,t,r),i=function(e,t,r,n){var o=[];return o.push.apply(o,qn(Gp(t.WebGLRenderingContext.prototype,ip.WebGL,e,r,n,t))),void 0!==t.WebGL2RenderingContext&&o.push.apply(o,qn(Gp(t.WebGL2RenderingContext.prototype,ip.WebGL2,e,r,n,t))),function(){o.forEach((function(e){return e()}))}}(this.processMutation.bind(this),e,t,r);this.resetObservers=function(){n(),o(),i()}}},{key:"startPendingCanvasMutationFlusher",value:function(){var e=this;requestAnimationFrame((function(){return e.flushPendingCanvasMutations()}))}},{key:"startRAFTimestamping",value:function(){var e=this,t=function(r){e.rafStamps.latestId=r,requestAnimationFrame(t)};requestAnimationFrame(t)}},{key:"flushPendingCanvasMutations",value:function(){var e=this;this.pendingCanvasMutations.forEach((function(t,r){var n=e.mirror.getId(r);e.flushPendingCanvasMutationFor(r,n)})),requestAnimationFrame((function(){return e.flushPendingCanvasMutations()}))}},{key:"flushPendingCanvasMutationFor",value:function(e,t){if(!this.frozen&&!this.locked){var r=this.pendingCanvasMutations.get(e);if(r&&-1!==t){var n=r.map((function(e){e.type;return Nn(e,Ln)})),o=r[0].type;this.mutationCb({id:t,type:o,commands:n}),this.pendingCanvasMutations.delete(e)}}}}])}(),$p=function(){return oo((function e(t){ro(this,e),lo(this,"trackedLinkElements",new WeakSet),lo(this,"mutationCb"),lo(this,"adoptedStyleSheetCb"),lo(this,"styleMirror",new Kh),this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}),[{key:"attachLinkElement",value:function(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}},{key:"trackLinkElement",value:function(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}},{key:"adoptStyleSheets",value:function(e,t){var r=this;if(0!==e.length){var n,o={id:t,styleIds:[]},i=[],a=Qn(e);try{var s=function(){var e,t=n.value;r.styleMirror.has(t)?e=r.styleMirror.getId(t):(e=r.styleMirror.add(t),i.push({styleId:e,rules:Array.from(t.rules||CSSRule,(function(e,r){return{rule:Eo(e,t.href),index:r}}))})),o.styleIds.push(e)};for(a.s();!(n=a.n()).done;)s()}catch(e){a.e(e)}finally{a.f()}i.length>0&&(o.styles=i),this.adoptedStyleSheetCb(o)}}},{key:"reset",value:function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(e){}}])}(),Qp=function(){return oo((function e(){ro(this,e),lo(this,"nodeMap",new WeakMap),lo(this,"active",!1)}),[{key:"inOtherBuffer",value:function(e,t){var r=this.nodeMap.get(e);return r&&Array.from(r).some((function(e){return e!==t}))}},{key:"add",value:function(e,t){var r=this;this.active||(this.active=!0,requestAnimationFrame((function(){r.nodeMap=new WeakMap,r.active=!1}))),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}},{key:"destroy",value:function(){}}])}(),ed=!1;try{if(2!==Array.from([1],(function(e){return 2*e}))[0]){var td=document.createElement("iframe");document.body.appendChild(td),Array.from=(null==(so=td.contentWindow)?void 0:so.Array.from)||Array.from,document.body.removeChild(td)}}catch(e){console.debug("Unable to override Array.from",e)}var rd,nd,od=new _o;function id(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.emit,r=e.checkoutEveryNms,n=e.checkoutEveryNth,o=e.blockClass,i=void 0===o?"rr-block":o,a=e.blockSelector,s=void 0===a?null:a,u=e.ignoreClass,l=void 0===u?"rr-ignore":u,c=e.ignoreSelector,f=void 0===c?null:c,h=e.maskTextClass,p=void 0===h?"rr-mask":h,d=e.maskTextSelector,v=void 0===d?null:d,y=e.inlineStylesheet,m=void 0===y||y,g=e.maskAllInputs,b=e.maskInputOptions,w=e.slimDOMOptions,k=e.maskInputFn,S=e.maskTextFn,x=e.hooks,C=e.packFn,I=e.sampling,O=void 0===I?{}:I,E=e.dataURLOptions,_=void 0===E?{}:E,A=e.mousemoveWait,R=e.recordDOM,T=void 0===R||R,P=e.recordCanvas,M=void 0!==P&&P,j=e.recordCrossOriginIframes,L=void 0!==j&&j,N=e.recordAfter,D=void 0===N?"DOMContentLoaded"===e.recordAfter?e.recordAfter:"load":N,F=e.userTriggeredOnInput,U=void 0!==F&&F,B=e.collectFonts,z=void 0!==B&&B,W=e.inlineImages,G=void 0!==W&&W,V=e.plugins,H=e.keepIframeSrcFn,q=void 0===H?function(){return!1}:H,J=e.ignoreCSSAttributes,Z=void 0===J?new Set([]):J,Y=e.errorHandler;lp=Y;var X=!L||window.parent===window,K=!1;if(!X)try{window.parent.document&&(K=!1)}catch(e){K=!0}if(X&&!t)throw new Error("emit function is required");if(!X&&!K)return function(){};void 0!==A&&void 0===O.mousemove&&(O.mousemove=A),od.reset();var $,Q=!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==b?b:{password:!0},ee=!0===w||"all"===w?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===w,headMetaDescKeywords:"all"===w,headTitleMutations:"all"===w}:w||{};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();var te=0,re=function(e){var t,r=Qn(V||[]);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.eventProcessor&&(e=n.eventProcessor(e))}}catch(e){r.e(e)}finally{r.f()}return C&&!K&&(e=C(e)),e};Zp=function(e,o){var i,a=e;if(a.timestamp=Uh(),!(null==(i=gp[0])?void 0:i.isFrozen())||a.type===tp.FullSnapshot||a.type===tp.IncrementalSnapshot&&a.data.source===rp.Mutation||gp.forEach((function(e){return e.unfreeze()})),X)null==t||t(re(a),o);else if(K){var s={type:"rrweb",event:re(a),origin:window.location.origin,isCheckout:o};window.parent.postMessage(s,"*")}if(a.type===tp.FullSnapshot)$=a,te=0;else if(a.type===tp.IncrementalSnapshot){if(a.data.source===rp.Mutation&&a.data.isAttachIframe)return;te++;var u=n&&te>=n,l=r&&a.timestamp-$.timestamp>r;(u||l)&&Yp(!0)}};var ne,oe=function(e){Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.Mutation},e)})},ie=function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.Scroll},e)})},ae=function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.CanvasMutation},e)})},se=new $p({mutationCb:oe,adoptedStyleSheetCb:function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.AdoptedStyleSheet},e)})}}),ue=new Pp({mirror:od,mutationCb:oe,stylesheetManager:se,recordCrossOriginIframes:L,wrappedEmit:Zp}),le=Qn(V||[]);try{for(le.s();!(ne=le.n()).done;){var ce=ne.value;ce.getMirror&&ce.getMirror({nodeMirror:od,crossOriginIframeMirror:ue.crossOriginIframeMirror,crossOriginIframeStyleMirror:ue.crossOriginIframeStyleMirror})}}catch(e){le.e(e)}finally{le.f()}var fe=new Qp;Xp=new Kp({recordCanvas:M,mutationCb:ae,win:window,blockClass:i,blockSelector:s,mirror:od,sampling:O.canvas,dataURLOptions:_});var he=new Mp({mutationCb:oe,scrollCb:ie,bypassOptions:{blockClass:i,blockSelector:s,maskTextClass:p,maskTextSelector:v,inlineStylesheet:m,maskInputOptions:Q,dataURLOptions:_,maskTextFn:S,maskInputFn:k,recordCanvas:M,inlineImages:G,sampling:O,slimDOMOptions:ee,iframeManager:ue,stylesheetManager:se,canvasManager:Xp,keepIframeSrcFn:q,processedNodeManager:fe},mirror:od});Yp=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(T){Zp({type:tp.Meta,data:{href:window.location.href,width:Wh(),height:zh()}},e),se.reset(),he.init(),gp.forEach((function(e){return e.lock()}));var t=function(e,t){var r=t||{},n=r.mirror,o=void 0===n?new _o:n,i=r.blockClass,a=void 0===i?"rr-block":i,s=r.blockSelector,u=void 0===s?null:s,l=r.maskTextClass,c=void 0===l?"rr-mask":l,f=r.maskTextSelector,h=void 0===f?null:f,p=r.inlineStylesheet,d=void 0===p||p,v=r.inlineImages,y=void 0!==v&&v,m=r.recordCanvas,g=void 0!==m&&m,b=r.maskAllInputs,w=void 0!==b&&b,k=r.maskTextFn,S=r.maskInputFn,x=r.slimDOM,C=void 0!==x&&x,I=r.dataURLOptions,O=r.preserveWhiteSpace,E=r.onSerialize,_=r.onIframeLoad,A=r.iframeLoadTimeout,R=r.onStylesheetLoad,T=r.stylesheetLoadTimeout,P=r.keepIframeSrcFn;return oi(e,{doc:e,mirror:o,blockClass:a,blockSelector:u,maskTextClass:c,maskTextSelector:h,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===w?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===w?{password:!0}:w,maskTextFn:k,maskInputFn:S,slimDOMOptions:!0===C||"all"===C?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===C,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===C?{}:C,dataURLOptions:I,inlineImages:y,recordCanvas:g,preserveWhiteSpace:O,onSerialize:E,onIframeLoad:_,iframeLoadTimeout:A,onStylesheetLoad:R,stylesheetLoadTimeout:T,keepIframeSrcFn:void 0===P?function(){return!1}:P,newlyAddedElement:!1})}(document,{mirror:od,blockClass:i,blockSelector:s,maskTextClass:p,maskTextSelector:v,inlineStylesheet:m,maskAllInputs:Q,maskTextFn:S,maskInputFn:k,slimDOM:ee,dataURLOptions:_,recordCanvas:M,inlineImages:G,onSerialize:function(e){Zh(e,od)&&ue.addIframe(e),Yh(e,od)&&se.trackLinkElement(e),Xh(e)&&he.addShadowRoot(Ph.shadowRoot(e),document)},onIframeLoad:function(e,t){ue.attachIframe(e,t),he.observeAttachShadow(e)},onStylesheetLoad:function(e,t){se.attachLinkElement(e,t)},keepIframeSrcFn:q});if(!t)return console.warn("Failed to snapshot the document");Zp({type:tp.FullSnapshot,data:{node:t,initialOffset:Bh(window)}},e),gp.forEach((function(e){return e.unlock()})),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&se.adoptStyleSheets(document.adoptedStyleSheets,od.getId(document))}};try{var pe=[],de=function(e){var t;return mp(_p)({mutationCb:oe,mousemoveCb:function(e,t){return Zp({type:tp.IncrementalSnapshot,data:{source:t,positions:e}})},mouseInteractionCb:function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.MouseInteraction},e)})},scrollCb:ie,viewportResizeCb:function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.ViewportResize},e)})},inputCb:function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.Input},e)})},mediaInteractionCb:function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.MediaInteraction},e)})},styleSheetRuleCb:function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.StyleSheetRule},e)})},styleDeclarationCb:function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.StyleDeclaration},e)})},canvasMutationCb:ae,fontCb:function(e){return Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.Font},e)})},selectionCb:function(e){Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.Selection},e)})},customElementCb:function(e){Zp({type:tp.IncrementalSnapshot,data:Vn({source:rp.CustomElement},e)})},blockClass:i,ignoreClass:l,ignoreSelector:f,maskTextClass:p,maskTextSelector:v,maskInputOptions:Q,inlineStylesheet:m,sampling:O,recordDOM:T,recordCanvas:M,inlineImages:G,userTriggeredOnInput:U,collectFonts:z,doc:e,maskInputFn:k,maskTextFn:S,keepIframeSrcFn:q,blockSelector:s,slimDOMOptions:ee,dataURLOptions:_,mirror:od,iframeManager:ue,stylesheetManager:se,shadowDomManager:he,processedNodeManager:fe,canvasManager:Xp,ignoreCSSAttributes:Z,plugins:(null==(t=null==V?void 0:V.filter((function(e){return e.observer})))?void 0:t.map((function(e){return{observer:e.observer,options:e.options,callback:function(t){return Zp({type:tp.Plugin,data:{plugin:e.name,payload:t}})}}})))||[]},x)};ue.addLoadListener((function(e){try{pe.push(de(e.contentDocument))}catch(e){console.warn(e)}}));var ve=function(){Yp(),pe.push(de(document)),ed=!0};return"interactive"===document.readyState||"complete"===document.readyState?ve():(pe.push(Mh("DOMContentLoaded",(function(){Zp({type:tp.DomContentLoaded,data:{}}),"DOMContentLoaded"===D&&ve()}))),pe.push(Mh("load",(function(){Zp({type:tp.Load,data:{}}),"load"===D&&ve()}),window))),function(){pe.forEach((function(e){return e()})),fe.destroy(),ed=!1,lp=void 0}}catch(e){console.warn(e)}}id.addCustomEvent=function(e,t){if(!ed)throw new Error("please add custom event after start recording");Zp({type:tp.Custom,data:{tag:e,payload:t}})},id.freezePage=function(){gp.forEach((function(e){return e.freeze()}))},id.takeFullSnapshot=function(e){if(!ed)throw new Error("please take full snapshot after start recording");Yp(e)},id.mirror=od,(nd=rd||(rd={}))[nd.NotStarted=0]="NotStarted",nd[nd.Running=1]="Running",nd[nd.Stopped=2]="Stopped";var ad=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(ad||{}),sd=["enabled","autoStart","maxPreDuration","debug","emit","checkoutEveryNms"];function ud(e){return ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(e)}function ld(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return cd(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function cd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function fd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fd(Object(r),!0).forEach((function(t){dd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vd(n.key),n)}}function dd(e,t,r){return(t=vd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vd(e){var t=function(e,t){if("object"!=ud(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ud(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ud(t)?t:t+""}var yd=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dd(this,"_options",void 0),dd(this,"_rrwebOptions",void 0),dd(this,"_isReady",!1),dd(this,"_stopFn",null),dd(this,"_recordFn",void 0),dd(this,"_buffers",[[],[]]),dd(this,"_currentSlot",0),this.options=t,this._recordFn=t.recordFn||id}return function(e,t,r){return t&&pd(e.prototype,t),r&&pd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"_previousSlot",get:function(){return 1^this._currentSlot}},{key:"isRecording",get:function(){return null!==this._stopFn}},{key:"isReady",get:function(){return this._isReady}},{key:"options",get:function(){return this._options},set:function(e){this.configure(e)}},{key:"configure",value:function(e){var t=e.enabled,r=e.autoStart,n=e.maxPreDuration,o=e.debug,i=(e.emit,e.checkoutEveryNms,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,sd));this._options={enabled:t,autoStart:r,maxPreDuration:n,debug:o},this._rrwebOptions=i,this.isRecording&&!1===e.enabled&&this.stop()}},{key:"checkoutEveryNms",value:function(){return 1e3*(this.options.maxPreDuration||10)/2}},{key:"bufferCursor",value:function(){return{slot:this._currentSlot,offset:this._buffers[this._currentSlot].length-1}}},{key:"exportRecordingSpan",value:function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=o?this._collectEventsFromCursor(o):this._collectAll();if(0===i.length)throw new Error("Replay recording has no events");var a=e.startSpan("rrweb-replay-recording",{});a.setAttributes(hd(hd({},null!==(t=null===(r=e.session)||void 0===r?void 0:r.attributes)&&void 0!==t?t:{}),n));var s=i.reduce((function(e,t){return t.timestamp<e.timestamp?t:e}));a.span.startTime=qr.fromMillis(s.timestamp);var u,l=ld(i);try{for(l.s();!(u=l.n()).done;){var c=u.value;a.addEvent("rrweb-replay-events",{eventType:c.type,json:JSON.stringify(c.data)},qr.fromMillis(c.timestamp))}}catch(e){l.e(e)}finally{l.f()}a.end()}},{key:"start",value:function(){var t=this;if(!this.isRecording&&!1!==this.options.enabled)return this.clear(),this._stopFn=this._recordFn(hd({emit:function(r,n){var o;t._isReady||r.type!==ad.FullSnapshot||(t._isReady=!0),null!==(o=t.options.debug)&&void 0!==o&&o.logEmits&&e._logEvent(r,n),n&&r.type===ad.Meta&&(t._currentSlot=t._previousSlot,t._buffers[t._currentSlot]=[]),t._buffers[t._currentSlot].push(r)},checkoutEveryNms:this.checkoutEveryNms(),errorHandler:function(e){var r;return null!==(r=t.options.debug)&&void 0!==r&&r.logErrors&&ye.error("Error during replay recording",e),!0}},this._rrwebOptions)),this}},{key:"stop",value:function(){if(this.isRecording)return this._stopFn(),this._stopFn=null,this._isReady=!1,this}},{key:"clear",value:function(){this._buffers=[[],[]],this._currentSlot=0,this._isReady=!1}},{key:"_collectAll",value:function(){var t=this._buffers[this._previousSlot],r=this._buffers[this._currentSlot],n=t.concat(r);return n.length>0&&n.push(e._replayEndEvent()),n}},{key:"_collectEventsFromCursor",value:function(t){var r,n,o=this._currentSlot,i=null!==(r=this._buffers[t.slot])&&void 0!==r?r:[],a=this._buffers[o],s=i.slice(Math.max(0,t.offset+1)),u=t.slot===o?[]:a,l=s.concat(u);return null!==(n=this.options.debug)&&void 0!==n&&n.logErrors&&t.slot!==o&&0===s.length&&ye.warn("Captured lead buffer cleared by multiple checkouts"),l.length>0&&l.push(e._replayEndEvent()),l}}],[{key:"_replayEndEvent",value:function(){return{type:ad.Custom,timestamp:Date.now(),data:{tag:"replay.end",payload:{}}}}},{key:"_logEvent",value:function(e,t){ye.log("Recorder: ".concat(t?"checkout":""," event\n"),function(e){var t=new WeakSet;return JSON.stringify(e,(function(e,r){if("object"===ud(r)&&null!==r){if(t.has(r))return"[Circular]";t.add(r)}return r}),2)}(e))}}])}();function md(e){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(e)}function gd(e){return function(e){if(Array.isArray(e))return wd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bd(e,t){if(e){if("string"==typeof e)return wd(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wd(e,t):void 0}}function wd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(r),!0).forEach((function(t){Cd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Id(n.key),n)}}function Cd(e,t,r){return(t=Id(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Id(e){var t=function(e,t){if("object"!=md(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=md(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==md(t)?t:t+""}var Od=function(){return function(e,t,r){return t&&xd(e.prototype,t),r&&xd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Cd(this,"maxAdjustedCount",Math.pow(2,56)),this.configure(t),this.predicates={occurrence:[this.isLevelMatching.bind(this),this.isPredicateFnMatching.bind(this),this.isSampled.bind(this)],navigation:[this.isPathMatching.bind(this),this.isPredicateFnMatching.bind(this),this.isSampled.bind(this)],direct:[this.isTagMatching.bind(this),this.isPredicateFnMatching.bind(this),this.isSampled.bind(this)]}}),[{key:"configure",value:function(e){this.config=e||{},this.triggers=this._triggersWithDefaults(e),this.maxPreDuration=this._maxPreDuration()}},{key:"_triggersWithDefaults",value:function(e){return((null==e?void 0:e.triggers)||[]).map((function(t){return Sd(Sd({},e.triggerDefaults),t)}))}},{key:"_maxPreDuration",value:function(){return this.triggers?Math.max.apply(Math,gd(this.triggers.map((function(e){return e.preDuration||0}))).concat([0])):0}},{key:"shouldCaptureForTriggerContext",value:function(e){var t,r=this.predicates[e.type],n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=bd(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(this.triggers);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(o.type===e.type&&this.isEnabledForTrigger(o,r,e))return o}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"isEnabledForTrigger",value:function(e,t,r){return!t.find((function(t){return!t(e,r)}))}},{key:"isLevelMatching",value:function(e,t){return!(e.level&&!e.level.includes(t.level))}},{key:"isPathMatching",value:function(e,t){var r=t.path,n=e.pathMatch;if(!n)return!0;if(!r)return!1;if("string"==typeof n){if(r.includes(n))return!0}else if(r.match(n))return!0;return!1}},{key:"isTagMatching",value:function(e,t){var r;return!e.tags||!(null===(r=t.tags)||void 0===r||!r.some((function(t){return e.tags.includes(t)})))}},{key:"isPredicateFnMatching",value:function(e,t){return"function"!=typeof e.predicateFn||e.predicateFn(e,t)}},{key:"isSampled",value:function(e,t){var r,n=null!==(r=e.samplingRatio)&&void 0!==r?r:1;return 1==n||t.replayId.slice(-14)>=(this.maxAdjustedCount*(1-n)).toString(16).padStart(14,"0")}}])}();function Ed(e){return Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(e)}function _d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Ad(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ad(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Rd(){Rd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new R(n||[]);return o(a,"_invoke",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==r&&n.call(S,a)&&(w=S);var x=b.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Ed(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(c).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=E(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Ed(t)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(I.prototype),l(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new I(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function Td(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Pd(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Td(i,n,o,a,s,"next",e)}function s(e){Td(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Md(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ld(n.key),n)}}function jd(e,t,r){return(t=Ld(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ld(e){var t=function(e,t){if("object"!=Ed(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ed(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ed(t)?t:t+""}var Nd=function(){return function(e,t,r){return t&&Md(e.prototype,t),r&&Md(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r=t.recorder,n=t.tracing,o=t.telemeter,i=t.shouldSend,a=t.onComplete;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jd(this,"_recorder",void 0),jd(this,"_tracing",void 0),jd(this,"_telemeter",void 0),jd(this,"_pending",new Map),jd(this,"_shouldSend",void 0),jd(this,"_onComplete",void 0),this._recorder=r,this._tracing=n,this._telemeter=o,this._shouldSend=i,this._onComplete=a}),[{key:"schedule",value:function(e,t,r){var n=this,o=Date.now(),i=o+1e3*r,a=this._recorder.checkoutEveryNms(),s=this._recorder.bufferCursor(),u=setInterval((function(){n._export(e)}),a),l=setTimeout((function(){n._finalExport(e)}),1e3*r);this._pending.set(e,{intervalId:u,endTimerId:l,startTime:o,endAt:i,postDuration:r,occurrenceUuid:t,cursor:s,chunkQueue:[],sending:!1,aborted:!1,finished:!1})}},{key:"_export",value:(t=Pd(Rd().mark((function e(t){var r,n,o,i,a;return Rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(n=this._pending.get(t))||n.aborted||n.finished||Date.now()>=n.endAt)){e.next=3;break}return e.abrupt("return");case 3:o=n.cursor,i=this._recorder.bufferCursor(),e.prev=5,this._recorder.exportRecordingSpan(this._tracing,{"rollbar.replay.id":t,"rollbar.occurrence.uuid":n.occurrenceUuid},o),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(5),ye.debug("Error exporting leading chunk (tick):",e.t0),e.abrupt("return");case 13:return null===(r=this._telemeter)||void 0===r||r.exportTelemetrySpan({"rollbar.replay.id":t}),a=this._tracing.exporter.toPayload(),n.chunkQueue.push({payload:a,cursor:o}),n.cursor=i,e.next=19,this.sendIfReady(t);case 19:case"end":return e.stop()}}),e,this,[[5,9]])}))),function(e){return t.apply(this,arguments)})},{key:"_finalExport",value:(e=Pd(Rd().mark((function e(t){var r,n,o,i,a,s;return Rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this._pending.get(t))&&!r.aborted){e.next=3;break}return e.abrupt("return");case 3:r.intervalId&&clearInterval(r.intervalId),r.endTimerId&&clearTimeout(r.endTimerId),r.finished=!0,n=r.cursor,o=this._recorder.bufferCursor();try{this._recorder.exportRecordingSpan(this._tracing,{"rollbar.replay.id":t,"rollbar.occurrence.uuid":r.occurrenceUuid},n),null===(i=this._telemeter)||void 0===i||i.exportTelemetrySpan({"rollbar.replay.id":t}),a=this._tracing.exporter.toPayload(),r.chunkQueue.push({payload:a,cursor:n}),r.cursor=o}catch(e){ye.debug("Error exporting leading chunk (final):",e)}if(r.sending||0!==r.chunkQueue.length){e.next=13;break}return this._pending.delete(t),null===(s=this._onComplete)||void 0===s||s.call(this,t),e.abrupt("return");case 13:return e.next=15,this.sendIfReady(t);case 15:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"sendIfReady",value:function(){var e=Pd(Rd().mark((function e(t){var r,n,o,i,a,s;return Rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._pendingContextIfReady(t)){e.next=3;break}return e.abrupt("return");case 3:if(!r.finished||r.sending||0!==r.chunkQueue.length){e.next=7;break}return this._pending.delete(t),null===(n=this._onComplete)||void 0===n||n.call(this,t),e.abrupt("return");case 7:r.sending=!0,o=_d(r.chunkQueue),e.prev=9,o.s();case 11:if((i=o.n()).done){e.next=31;break}if(a=i.value,!r.aborted){e.next=15;break}return e.abrupt("break",31);case 15:if(this._shouldSend(t)){e.next=19;break}throw ye.error("Coordination check failed during chunk send"),this.discard(t),new Error("Coordination check failed during chunk send");case 19:return e.prev=19,e.next=22,this._tracing.exporter.post(a.payload,{"X-Rollbar-Replay-Id":t});case 22:e.next=29;break;case 24:throw e.prev=24,e.t0=e.catch(19),ye.error("Failed to send leading replay:",e.t0),this.discard(t),e.t0;case 29:e.next=11;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(9),o.e(e.t1);case 36:return e.prev=36,o.f(),e.finish(36);case 39:r.sending=!1,r.chunkQueue=[],r.finished&&(this._pending.delete(t),null===(s=this._onComplete)||void 0===s||s.call(this,t));case 42:case"end":return e.stop()}}),e,this,[[9,33,36,39],[19,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"discard",value:function(e){var t,r=this._pending.get(e);r&&(r.aborted=!0,r.intervalId&&clearInterval(r.intervalId),r.endTimerId&&clearTimeout(r.endTimerId),r.chunkQueue=[],this._pending.delete(e),null===(t=this._onComplete)||void 0===t||t.call(this,e))}},{key:"_pendingContextIfReady",value:function(e){var t=this._pending.get(e);return t&&!t.aborted&&!t.sending&&t.chunkQueue.length>0&&this._shouldSend(e)?t:null}}]);var e,t}();function Dd(e){return Dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(e)}function Fd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ud(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ud(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ud(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Bd(){Bd=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),s=new R(n||[]);return o(a,"_invoke",{value:O(e,r,s)}),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(T([])));S&&S!==r&&n.call(S,a)&&(w=S);var x=b.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(o,i,a,s){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==Dd(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(c).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function O(t,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=E(s,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function E(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,E(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Dd(t)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},C(I.prototype),l(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new I(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function zd(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Wd(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){zd(i,n,o,a,s,"next",e)}function s(e){zd(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Gd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gd(Object(r),!0).forEach((function(t){qd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jd(n.key),n)}}function qd(e,t,r){return(t=Jd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jd(e){var t=function(e,t){if("object"!=Dd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Dd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dd(t)?t:t+""}var Zd=Object.freeze({PENDING:"pending",SENT:"sent",FAILED:"failed",SKIPPED:"skipped"}),Yd=function(){function e(t){var r=t.tracing,n=t.telemeter,o=t.options;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qd(this,"_map",void 0),qd(this,"_recorder",void 0),qd(this,"_tracing",void 0),qd(this,"_telemeter",void 0),qd(this,"_scheduledCapture",void 0),qd(this,"_trailingStatus",void 0),!r)throw new TypeError("Expected 'tracing' to be provided");this._map=new Map,this._predicates=new Od(o),this._recorder=new yd(Vd(Vd({},o),{},{maxPreDuration:this._predicates.maxPreDuration})),this._tracing=r,this._telemeter=n,this._trailingStatus=new Map,this._scheduledCapture=new Nd({recorder:this._recorder,tracing:this._tracing,telemeter:this._telemeter,shouldSend:this._shouldSendScheduled.bind(this),onComplete:this._onScheduledComplete.bind(this)}),this._tracing.addSpanTransform(this.uuidsTransform.bind(this))}return function(e,t,r){return t&&Hd(e.prototype,t),r&&Hd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(e,[{key:"_onScheduledComplete",value:function(e){this._trailingStatus.delete(e)}},{key:"_shouldSendScheduled",value:function(e){var t=this._trailingStatus.get(e);return t===Zd.SENT||t===Zd.SKIPPED}},{key:"configure",value:function(e){this._predicates.configure(e),this._recorder.configure(Vd(Vd({},e),{},{maxPreDuration:this._predicates.maxPreDuration}))}},{key:"_exportSpansAndAddTracingPayload",value:(o=Wd(Bd().mark((function e(t,r,n,o){var i,a,s;return Bd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this._recorder.exportRecordingSpan(this._tracing,{"rollbar.replay.id":t,"rollbar.occurrence.uuid":r,"rollbar.replay.trigger.type":n.type,"rollbar.replay.trigger.context":JSON.stringify(o),"rollbar.replay.trigger":JSON.stringify(n),"rollbar.replay.url.full":y(window.location.href)}),e.next=8;break;case 4:return e.prev=4,e.t0=e.catch(0),ye.debug("Error exporting recording span:",e.t0),e.abrupt("return");case 8:null===(i=this._telemeter)||void 0===i||i.exportTelemetrySpan({"rollbar.replay.id":t}),a=this._tracing.exporter.toPayload(),this._map.set(t,a),(s=(null==n?void 0:n.postDuration)||0)>0&&(this._scheduledCapture.schedule(t,r,s),this._trailingStatus.set(t,Zd.PENDING));case 13:case"end":return e.stop()}}),e,this,[[0,4]])}))),function(e,t,r,n){return o.apply(this,arguments)})},{key:"capture",value:function(e,t,r){if(!this._recorder.isReady)return ye.warn("Replay.capture: Recorder is not ready, cannot export replay"),null;e=e||Lr.gen(8);var n=this._predicates.shouldCaptureForTriggerContext(Vd(Vd({},r),{},{replayId:e}));return n?(this._exportSpansAndAddTracingPayload(e,t,n,r),e):null}},{key:"triggerReplay",value:(n=Wd(Bd().mark((function e(t){var r,n,o,i;return Bd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lr.gen(8),n=this._predicates.shouldCaptureForTriggerContext(Vd(Vd({},t),{},{replayId:r}))){e.next=4;break}return e.abrupt("return",null);case 4:if(!this._recorder.isReady){e.next=9;break}return e.next=7,this._exportSpansAndAddTracingPayload(r,null,n,t);case 7:e.next=12;break;case 9:this._trailingStatus.set(r,Zd.SKIPPED),(i=(null===(o=this._recorder.options)||void 0===o?void 0:o.postDuration)||0)>0&&this._scheduledCapture.schedule(r,null,i);case 12:return e.prev=12,e.next=15,this.send(r);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(12),this.discard(r),e.abrupt("return",null);case 21:return e.abrupt("return",r);case 22:case"end":return e.stop()}}),e,this,[[12,17]])}))),function(e){return n.apply(this,arguments)})},{key:"sendOrDiscardReplay",value:(r=Wd(Bd().mark((function t(r,n,o,i){return Bd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._canSendReplay(n,o,i)){t.next=13;break}return t.prev=2,t.next=5,this.send(r);case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(2),ye.error("Failed to send replay:",t.t0),this.discard(r);case 11:t.next=14;break;case 13:this.discard(r);case 14:case"end":return t.stop()}}),t,this,[[2,7]])}))),function(e,t,n,o){return r.apply(this,arguments)})},{key:"send",value:(t=Wd(Bd().mark((function e(t){var r;return Bd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Error("Replay.send: No replayId provided");case 2:if(this._map.has(t)){e.next=4;break}throw Error("Replay.send: No replay found for id: ".concat(t));case 4:if(r=this._map.get(t),this._map.delete(t),!(!r||Array.isArray(r)&&0===r.length||r.resourceSpans&&0===r.resourceSpans.length)){e.next=9;break}throw Error("Replay.send: No payload found for id: ".concat(t));case 9:return e.next=11,this._tracing.exporter.post(r,{"X-Rollbar-Replay-Id":t});case 11:return this._trailingStatus.set(t,Zd.SENT),e.next=14,this._scheduledCapture.sendIfReady(t);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"discard",value:function(e){return e?(this._trailingStatus.set(e,Zd.FAILED),this._scheduledCapture.discard(e),this._map.has(e)?(this._map.delete(e),this._trailingStatus.delete(e),!0):(ye.error("Replay.discard: No replay found for replayId: ".concat(e)),!1)):(ye.error("Replay.discard: No replayId provided"),!1)}},{key:"uuidsTransform",value:function(e){var t=qr.toMillis(e.startTime),r=this._telemeter.queue.filter((function(e){return e.timestamp_ms>=t&&e.uuid})),n=r.map((function(e){return e.uuid}));e.attributes["rollbar.occurrence.uuids"]=JSON.stringify(n)}},{key:"getSpans",value:function(e){var t;return null!==(t=this._map.get(e))&&void 0!==t?t:null}},{key:"setSpans",value:function(e,t){this._map.set(e,t)}},{key:"clear",value:function(){this._map.clear()}},{key:"size",get:function(){return this._map.size}},{key:"recorder",get:function(){return this._recorder}}],[{key:"_canSendReplay",value:function(e,t,r){if(!r)return!1;var n=!e&&0===(null==t?void 0:t.err),o=Object.fromEntries(Object.entries(r).map((function(e){var t=Fd(e,2),r=t[0],n=t[1];return[r.toLowerCase(),String(n).trim()]}))),i="true"===o["rollbar-replay-enabled"]&&"0"!==o["rollbar-replay-ratelimit-remaining"];return n&&i}}]);var t,r,n,o}();Tt.setComponents({telemeter:Gt,instrumenter:dr,wrapGlobals:yr,scrub:Xt,truncation:Ir,tracing:Rn,replay:Yd});var Xd=Tt,Kd="undefined"!=typeof window&&window._rollbarConfig,$d=Kd&&Kd.globalAlias||"Rollbar",Qd="undefined"!=typeof window&&window[$d]&&"function"==typeof window[$d].shimId&&void 0!==window[$d].shimId();if("undefined"==typeof window||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!Qd&&Kd){var ev=new Xd(Kd);window[$d]=ev}else"undefined"!=typeof window?(window.rollbar=Xd,window._rollbarDidLoad=!0):"undefined"!=typeof self&&(self.rollbar=Xd,self._rollbarDidLoad=!0)}();