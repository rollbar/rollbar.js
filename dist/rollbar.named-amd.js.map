{"version":3,"file":"rollbar.named-amd.js","mappings":"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","sources":["webpack://rollbar/webpack/bootstrap","webpack://rollbar/webpack/runtime/define property getters","webpack://rollbar/webpack/runtime/hasOwnProperty shorthand","webpack://rollbar/webpack/runtime/make namespace object","webpack://rollbar/./src/merge.js","webpack://rollbar/./src/utility.js","webpack://rollbar/./src/rateLimiter.js","webpack://rollbar/./src/queue.js","webpack://rollbar/./src/notifier.js","webpack://rollbar/./src/rollbar.js","webpack://rollbar/./src/apiUtility.js","webpack://rollbar/./src/api.js","webpack://rollbar/./src/logger.js","webpack://rollbar/./src/browser/globalSetup.js","webpack://rollbar/./src/browser/transport/fetch.js","webpack://rollbar/./src/browser/transport/xhr.js","webpack://rollbar/./src/browser/transport.js","webpack://rollbar/./src/browser/url.js","webpack://rollbar/./node_modules/error-stack-parser-es/dist/lite.mjs","webpack://rollbar/./node_modules/error-stack-parser-es/dist/index.mjs","webpack://rollbar/./src/errorParser.js","webpack://rollbar/./src/browser/transforms.js","webpack://rollbar/./src/transforms.js","webpack://rollbar/./src/browser/predicates.js","webpack://rollbar/./src/predicates.js","webpack://rollbar/./src/browser/replay/defaults.js","webpack://rollbar/./src/tracing/defaults.js","webpack://rollbar/./src/defaults.js","webpack://rollbar/./src/browser/defaults.js","webpack://rollbar/./src/browser/core.js","webpack://rollbar/./src/telemetry.js","webpack://rollbar/./src/utility/headers.js","webpack://rollbar/./src/utility/replace.js","webpack://rollbar/./src/utility/traverse.js","webpack://rollbar/./src/scrub.js","webpack://rollbar/./src/browser/domUtility.js","webpack://rollbar/./src/browser/telemetry.js","webpack://rollbar/./src/browser/wrapGlobals.js","webpack://rollbar/./src/truncation.js","webpack://rollbar/./src/tracing/context.js","webpack://rollbar/./src/tracing/contextManager.js","webpack://rollbar/./src/tracing/id.js","webpack://rollbar/./src/tracing/session.js","webpack://rollbar/./src/tracing/hrtime.js","webpack://rollbar/./src/tracing/exporter.js","webpack://rollbar/./src/tracing/spanProcessor.js","webpack://rollbar/./src/tracing/span.js","webpack://rollbar/./src/tracing/tracer.js","webpack://rollbar/./src/tracing/tracing.js","webpack://rollbar/./src/browser/rollbar.js","webpack://rollbar/./src/browser/bundles/rollbar.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isPlainObject = function isPlainObject(obj) {\n  if (!obj || toStr.call(obj) !== '[object Object]') {\n    return false;\n  }\n\n  var hasOwnConstructor = hasOwn.call(obj, 'constructor');\n  var hasIsPrototypeOf =\n    obj.constructor &&\n    obj.constructor.prototype &&\n    hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n  // Not own constructor property must be Object\n  if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n    return false;\n  }\n\n  // Own properties are enumerated firstly, so to speed up,\n  // if last one is own, then all properties are own.\n  var key;\n  for (key in obj) {\n    /**/\n  }\n\n  return typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nfunction merge() {\n  var i,\n    src,\n    copy,\n    clone,\n    name,\n    result = Object.create(null), // no prototype pollution on Object\n    current = null,\n    length = arguments.length;\n\n  for (i = 0; i < length; i++) {\n    current = arguments[i];\n    if (current == null) {\n      continue;\n    }\n\n    for (name in current) {\n      src = result[name];\n      copy = current[name];\n      if (result !== copy) {\n        if (copy && isPlainObject(copy)) {\n          clone = src && isPlainObject(src) ? src : {};\n          result[name] = merge(clone, copy);\n        } else if (typeof copy !== 'undefined') {\n          result[name] = copy;\n        }\n      }\n    }\n  }\n  return result;\n}\n\nexport default merge;\n","import merge from './merge.js';\n\n/*\n * isType - Given a Javascript value and a string, returns true if the type of the value matches the\n * given string.\n *\n * @param x - any value\n * @param t - a lowercase string containing one of the following type names:\n *    - undefined\n *    - null\n *    - error\n *    - number\n *    - boolean\n *    - string\n *    - symbol\n *    - function\n *    - object\n *    - array\n * @returns true if x is of type t, otherwise false\n */\nfunction isType(x, t) {\n  return t === typeName(x);\n}\n\n/*\n * typeName - Given a Javascript value, returns the type of the object as a string\n */\nfunction typeName(x) {\n  var name = typeof x;\n  if (name !== 'object') {\n    return name;\n  }\n  if (!x) {\n    return 'null';\n  }\n  if (x instanceof Error) {\n    return 'error';\n  }\n  return {}.toString\n    .call(x)\n    .match(/\\s([a-zA-Z]+)/)[1]\n    .toLowerCase();\n}\n\n/* isFunction - a convenience function for checking if a value is a function\n *\n * @param f - any value\n * @returns true if f is a function, otherwise false\n */\nfunction isFunction(f) {\n  return isType(f, 'function');\n}\n\n/* isNativeFunction - a convenience function for checking if a value is a native JS function\n *\n * @param f - any value\n * @returns true if f is a native JS function, otherwise false\n */\nfunction isNativeFunction(f) {\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  var funcMatchString = Function.prototype.toString\n    .call(Object.prototype.hasOwnProperty)\n    .replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?');\n  var reIsNative = RegExp('^' + funcMatchString + '$');\n  return isObject(f) && reIsNative.test(f);\n}\n\n/* isObject - Checks if the argument is an object\n *\n * @param value - any value\n * @returns true is value is an object function is an object)\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/* isString - Checks if the argument is a string\n *\n * @param value - any value\n * @returns true if value is a string\n */\nfunction isString(value) {\n  return typeof value === 'string' || value instanceof String;\n}\n\n/**\n * isFiniteNumber - determines whether the passed value is a finite number\n *\n * @param {*} n - any value\n * @returns true if value is a finite number\n */\nfunction isFiniteNumber(n) {\n  return Number.isFinite(n);\n}\n\n/*\n * isDefined - a convenience function for checking if a value is not equal to undefined\n *\n * @param u - any value\n * @returns true if u is anything other than undefined\n */\nfunction isDefined(u) {\n  return !isType(u, 'undefined');\n}\n\n/*\n * isIterable - convenience function for checking if a value can be iterated, essentially\n * whether it is an object or an array.\n *\n * @param i - any value\n * @returns true if i is an object or an array as determined by `typeName`\n */\nfunction isIterable(i) {\n  var type = typeName(i);\n  return type === 'object' || type === 'array';\n}\n\n/*\n * isError - convenience function for checking if a value is of an error type\n *\n * @param e - any value\n * @returns true if e is an error\n */\nfunction isError(e) {\n  // Detect both Error and Firefox Exception type\n  return isType(e, 'error') || isType(e, 'exception');\n}\n\n/* isPromise - a convenience function for checking if a value is a promise\n *\n * @param p - any value\n * @returns true if f is a function, otherwise false\n */\nfunction isPromise(p) {\n  return isObject(p) && isType(p.then, 'function');\n}\n\n/**\n * isBrowser - a convenience function for checking if the code is running in a browser\n *\n * @returns true if the code is running in a browser environment\n */\nfunction isBrowser() {\n  return typeof window !== 'undefined';\n}\n\nfunction redact() {\n  return '********';\n}\n\n// from http://stackoverflow.com/a/8809472/1138191\nfunction uuid4() {\n  var d = now();\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n    /[xy]/g,\n    function (c) {\n      var r = (d + Math.random() * 16) % 16 | 0;\n      d = Math.floor(d / 16);\n      return (c === 'x' ? r : (r & 0x7) | 0x8).toString(16);\n    },\n  );\n  return uuid;\n}\n\nvar LEVELS = {\n  debug: 0,\n  info: 1,\n  warning: 2,\n  error: 3,\n  critical: 4,\n};\n\nfunction sanitizeHref(url) {\n  try {\n    const urlObject = new URL(url);\n    if (urlObject.password) {\n      urlObject.password = redact();\n    }\n    if (urlObject.search) {\n      urlObject.search = redact();\n    }\n    return urlObject.toString();\n  } catch (_) {\n    return url; // Return original URL if parsing fails\n  }\n}\n\nfunction sanitizeUrl(url) {\n  var baseUrlParts = parseUri(url);\n  if (!baseUrlParts) {\n    return '(unknown)';\n  }\n\n  // remove a trailing # if there is no anchor\n  if (baseUrlParts.anchor === '') {\n    baseUrlParts.source = baseUrlParts.source.replace('#', '');\n  }\n\n  url = baseUrlParts.source.replace('?' + baseUrlParts.query, '');\n  return url;\n}\n\nvar parseUriOptions = {\n  strictMode: false,\n  key: [\n    'source',\n    'protocol',\n    'authority',\n    'userInfo',\n    'user',\n    'password',\n    'host',\n    'port',\n    'relative',\n    'path',\n    'directory',\n    'file',\n    'query',\n    'anchor',\n  ],\n  q: {\n    name: 'queryKey',\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g,\n  },\n  parser: {\n    strict:\n      /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n    loose:\n      /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n  },\n};\n\nfunction parseUri(str) {\n  if (!isType(str, 'string')) {\n    return undefined;\n  }\n\n  var o = parseUriOptions;\n  var m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n  var uri = {};\n\n  for (var i = 0, l = o.key.length; i < l; ++i) {\n    uri[o.key[i]] = m[i] || '';\n  }\n\n  uri[o.q.name] = {};\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) {\n      uri[o.q.name][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\nfunction addParamsAndAccessTokenToPath(accessToken, options, params) {\n  params = params || {};\n  params.access_token = accessToken;\n  var paramsArray = [];\n  var k;\n  for (k in params) {\n    if (Object.prototype.hasOwnProperty.call(params, k)) {\n      paramsArray.push([k, params[k]].join('='));\n    }\n  }\n  var query = '?' + paramsArray.sort().join('&');\n\n  options = options || {};\n  options.path = options.path || '';\n  var qs = options.path.indexOf('?');\n  var h = options.path.indexOf('#');\n  var p;\n  if (qs !== -1 && (h === -1 || h > qs)) {\n    p = options.path;\n    options.path = p.substring(0, qs) + query + '&' + p.substring(qs + 1);\n  } else {\n    if (h !== -1) {\n      p = options.path;\n      options.path = p.substring(0, h) + query + p.substring(h);\n    } else {\n      options.path = options.path + query;\n    }\n  }\n}\n\nfunction formatUrl(u, protocol) {\n  protocol = protocol || u.protocol;\n  if (!protocol && u.port) {\n    if (u.port === 80) {\n      protocol = 'http:';\n    } else if (u.port === 443) {\n      protocol = 'https:';\n    }\n  }\n  protocol = protocol || 'https:';\n\n  if (!u.hostname) {\n    return null;\n  }\n  var result = protocol + '//' + u.hostname;\n  if (u.port) {\n    result = result + ':' + u.port;\n  }\n  if (u.path) {\n    result = result + u.path;\n  }\n  return result;\n}\n\nfunction stringify(obj, backup) {\n  var value, error;\n  try {\n    value = JSON.stringify(obj);\n  } catch (jsonError) {\n    if (backup && isFunction(backup)) {\n      try {\n        value = backup(obj);\n      } catch (backupError) {\n        error = backupError;\n      }\n    } else {\n      error = jsonError;\n    }\n  }\n  return { error: error, value: value };\n}\n\nfunction maxByteSize(string) {\n  // The transport will use utf-8, so assume utf-8 encoding.\n  //\n  // This minimal implementation will accurately count bytes for all UCS-2 and\n  // single code point UTF-16. If presented with multi code point UTF-16,\n  // which should be rare, it will safely overcount, not undercount.\n  //\n  // While robust utf-8 encoders exist, this is far smaller and far more performant.\n  // For quickly counting payload size for truncation, smaller is better.\n\n  var count = 0;\n  var length = string.length;\n\n  for (var i = 0; i < length; i++) {\n    var code = string.charCodeAt(i);\n    if (code < 128) {\n      // up to 7 bits\n      count = count + 1;\n    } else if (code < 2048) {\n      // up to 11 bits\n      count = count + 2;\n    } else if (code < 65536) {\n      // up to 16 bits\n      count = count + 3;\n    }\n  }\n\n  return count;\n}\n\nfunction jsonParse(s) {\n  var value, error;\n  try {\n    value = JSON.parse(s);\n  } catch (e) {\n    error = e;\n  }\n  return { error: error, value: value };\n}\n\nfunction makeUnhandledStackInfo(\n  message,\n  url,\n  lineno,\n  colno,\n  error,\n  mode,\n  backupMessage,\n  errorParser,\n) {\n  var location = {\n    url: url || '',\n    line: lineno,\n    column: colno,\n  };\n  location.func = errorParser.guessFunctionName(location.url, location.line);\n  location.context = errorParser.gatherContext(location.url, location.line);\n  var href =\n    typeof document !== 'undefined' &&\n    document &&\n    document.location &&\n    document.location.href;\n  var useragent =\n    typeof window !== 'undefined' &&\n    window &&\n    window.navigator &&\n    window.navigator.userAgent;\n  return {\n    mode: mode,\n    message: error ? String(error) : message || backupMessage,\n    url: href,\n    stack: [location],\n    useragent: useragent,\n  };\n}\n\nfunction wrapCallback(logger, f) {\n  return function (err, resp) {\n    try {\n      f(err, resp);\n    } catch (e) {\n      logger.error(e);\n    }\n  };\n}\n\nfunction nonCircularClone(obj) {\n  var seen = [obj];\n\n  function clone(obj, seen) {\n    var value,\n      name,\n      newSeen,\n      result = {};\n\n    try {\n      for (name in obj) {\n        value = obj[name];\n\n        if (value && (isType(value, 'object') || isType(value, 'array'))) {\n          if (seen.includes(value)) {\n            result[name] = 'Removed circular reference: ' + typeName(value);\n          } else {\n            newSeen = seen.slice();\n            newSeen.push(value);\n            result[name] = clone(value, newSeen);\n          }\n          continue;\n        }\n\n        result[name] = value;\n      }\n    } catch (e) {\n      result = 'Failed cloning custom data: ' + e.message;\n    }\n    return result;\n  }\n  return clone(obj, seen);\n}\n\nfunction createItem(args, logger, notifier, requestKeys, lambdaContext) {\n  var message, err, custom, callback, request;\n  var arg;\n  var extraArgs = [];\n  var diagnostic = {};\n  var argTypes = [];\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    argTypes.push(typ);\n    switch (typ) {\n      case 'undefined':\n        break;\n      case 'string':\n        message ? extraArgs.push(arg) : (message = arg);\n        break;\n      case 'function':\n        callback = wrapCallback(logger, arg);\n        break;\n      case 'date':\n        extraArgs.push(arg);\n        break;\n      case 'error':\n      case 'domexception':\n      case 'exception': // Firefox Exception type\n        err ? extraArgs.push(arg) : (err = arg);\n        break;\n      case 'object':\n      case 'array':\n        if (\n          arg instanceof Error ||\n          (typeof DOMException !== 'undefined' && arg instanceof DOMException)\n        ) {\n          err ? extraArgs.push(arg) : (err = arg);\n          break;\n        }\n        if (requestKeys && typ === 'object' && !request) {\n          for (var j = 0, len = requestKeys.length; j < len; ++j) {\n            if (arg[requestKeys[j]] !== undefined) {\n              request = arg;\n              break;\n            }\n          }\n          if (request) {\n            break;\n          }\n        }\n        custom ? extraArgs.push(arg) : (custom = arg);\n        break;\n      default:\n        if (\n          arg instanceof Error ||\n          (typeof DOMException !== 'undefined' && arg instanceof DOMException)\n        ) {\n          err ? extraArgs.push(arg) : (err = arg);\n          break;\n        }\n        extraArgs.push(arg);\n    }\n  }\n\n  // if custom is an array this turns it into an object with integer keys\n  if (custom) custom = nonCircularClone(custom);\n\n  if (extraArgs.length > 0) {\n    if (!custom) custom = nonCircularClone({});\n    custom.extraArgs = nonCircularClone(extraArgs);\n  }\n\n  var item = {\n    message: message,\n    err: err,\n    custom: custom,\n    timestamp: now(),\n    callback: callback,\n    notifier: notifier,\n    diagnostic: diagnostic,\n    uuid: uuid4(),\n  };\n\n  item.data = item.data || {};\n\n  setCustomItemKeys(item, custom);\n\n  if (requestKeys && request) {\n    item.request = request;\n  }\n  if (lambdaContext) {\n    item.lambdaContext = lambdaContext;\n  }\n  item._originalArgs = args;\n  item.diagnostic.original_arg_types = argTypes;\n  return item;\n}\n\nfunction setCustomItemKeys(item, custom) {\n  if (custom && custom.level !== undefined) {\n    item.level = custom.level;\n    delete custom.level;\n  }\n  if (custom && custom.skipFrames !== undefined) {\n    item.skipFrames = custom.skipFrames;\n    delete custom.skipFrames;\n  }\n}\n\nfunction addErrorContext(item, errors) {\n  var custom = item.data.custom || {};\n  var contextAdded = false;\n\n  try {\n    for (var i = 0; i < errors.length; ++i) {\n      if (errors[i].hasOwnProperty('rollbarContext')) {\n        custom = merge(custom, nonCircularClone(errors[i].rollbarContext));\n        contextAdded = true;\n      }\n    }\n\n    // Avoid adding an empty object to the data.\n    if (contextAdded) {\n      item.data.custom = custom;\n    }\n  } catch (e) {\n    item.diagnostic.error_context = 'Failed: ' + e.message;\n  }\n}\n\nvar TELEMETRY_TYPES = [\n  'log',\n  'network',\n  'dom',\n  'navigation',\n  'error',\n  'manual',\n];\nvar TELEMETRY_LEVELS = ['critical', 'error', 'warning', 'info', 'debug'];\n\nfunction arrayIncludes(arr, val) {\n  for (var k = 0; k < arr.length; ++k) {\n    if (arr[k] === val) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction createTelemetryEvent(args) {\n  var type, metadata, level;\n  var arg;\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    switch (typ) {\n      case 'string':\n        if (!type && arrayIncludes(TELEMETRY_TYPES, arg)) {\n          type = arg;\n        } else if (!level && arrayIncludes(TELEMETRY_LEVELS, arg)) {\n          level = arg;\n        }\n        break;\n      case 'object':\n        metadata = arg;\n        break;\n      default:\n        break;\n    }\n  }\n  var event = {\n    type: type || 'manual',\n    metadata: metadata || {},\n    level: level,\n  };\n\n  return event;\n}\n\nfunction addItemAttributes(itemData, attributes) {\n  itemData.attributes = itemData.attributes || [];\n  for (const a of attributes) {\n    if (a.value === undefined) {\n      continue;\n    }\n    itemData.attributes.push(a);\n  }\n}\n\n/*\n * get - given an obj/array and a keypath, return the value at that keypath or\n *       undefined if not possible.\n *\n * @param obj - an object or array\n * @param path - a string of keys separated by '.' such as 'plugin.jquery.0.message'\n *    which would correspond to 42 in `{plugin: {jquery: [{message: 42}]}}`\n */\nfunction get(obj, path) {\n  if (!obj) {\n    return undefined;\n  }\n  var keys = path.split('.');\n  var result = obj;\n  try {\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      result = result[keys[i]];\n    }\n  } catch (e) {\n    result = undefined;\n  }\n  return result;\n}\n\nfunction set(obj, path, value) {\n  if (!obj) {\n    return;\n  }\n\n  // Prevent prototype pollution by setting the prototype to null.\n  Object.setPrototypeOf(obj, null);\n\n  var keys = path.split('.');\n  var len = keys.length;\n  if (len < 1) {\n    return;\n  }\n  if (len === 1) {\n    obj[keys[0]] = value;\n    return;\n  }\n  try {\n    var temp = obj[keys[0]] || {};\n    var replacement = temp;\n    for (var i = 1; i < len - 1; ++i) {\n      temp[keys[i]] = temp[keys[i]] || {};\n      temp = temp[keys[i]];\n    }\n    temp[keys[len - 1]] = value;\n    obj[keys[0]] = replacement;\n  } catch (e) {\n    return;\n  }\n}\n\nfunction formatArgsAsString(args) {\n  var i, len, arg;\n  var result = [];\n  for (i = 0, len = args.length; i < len; ++i) {\n    arg = args[i];\n    switch (typeName(arg)) {\n      case 'object':\n        arg = stringify(arg);\n        arg = arg.error || arg.value;\n        if (arg.length > 500) {\n          arg = arg.substr(0, 497) + '...';\n        }\n        break;\n      case 'null':\n        arg = 'null';\n        break;\n      case 'undefined':\n        arg = 'undefined';\n        break;\n      case 'symbol':\n        arg = arg.toString();\n        break;\n    }\n    result.push(arg);\n  }\n  return result.join(' ');\n}\n\nfunction now() {\n  if (Date.now) {\n    return +Date.now();\n  }\n  return +new Date();\n}\n\nfunction filterIp(requestData, captureIp) {\n  if (!requestData || !requestData['user_ip'] || captureIp === true) {\n    return;\n  }\n  var newIp = requestData['user_ip'];\n  if (!captureIp) {\n    newIp = null;\n  } else {\n    try {\n      var parts;\n      if (newIp.indexOf('.') !== -1) {\n        parts = newIp.split('.');\n        parts.pop();\n        parts.push('0');\n        newIp = parts.join('.');\n      } else if (newIp.indexOf(':') !== -1) {\n        parts = newIp.split(':');\n        if (parts.length > 2) {\n          var beginning = parts.slice(0, 3);\n          var slashIdx = beginning[2].indexOf('/');\n          if (slashIdx !== -1) {\n            beginning[2] = beginning[2].substring(0, slashIdx);\n          }\n          var terminal = '0000:0000:0000:0000:0000';\n          newIp = beginning.concat(terminal).join(':');\n        }\n      } else {\n        newIp = null;\n      }\n    } catch (e) {\n      newIp = null;\n    }\n  }\n  requestData['user_ip'] = newIp;\n}\n\nfunction handleOptions(current, input, payload, logger) {\n  var result = merge(current, input, payload);\n  result = updateDeprecatedOptions(result, logger);\n  if (!input || input.overwriteScrubFields) {\n    return result;\n  }\n  if (input.scrubFields) {\n    result.scrubFields = (current.scrubFields || []).concat(input.scrubFields);\n  }\n  return result;\n}\n\nfunction updateDeprecatedOptions(options, logger) {\n  if (options.hostWhiteList && !options.hostSafeList) {\n    options.hostSafeList = options.hostWhiteList;\n    options.hostWhiteList = undefined;\n    logger && logger.log('hostWhiteList is deprecated. Use hostSafeList.');\n  }\n  if (options.hostBlackList && !options.hostBlockList) {\n    options.hostBlockList = options.hostBlackList;\n    options.hostBlackList = undefined;\n    logger && logger.log('hostBlackList is deprecated. Use hostBlockList.');\n  }\n  return options;\n}\n\nexport {\n  addParamsAndAccessTokenToPath,\n  createItem,\n  addErrorContext,\n  createTelemetryEvent,\n  addItemAttributes,\n  filterIp,\n  formatArgsAsString,\n  formatUrl,\n  get,\n  handleOptions,\n  isError,\n  isFiniteNumber,\n  isFunction,\n  isIterable,\n  isNativeFunction,\n  isObject,\n  isString,\n  isType,\n  isPromise,\n  isBrowser,\n  jsonParse,\n  LEVELS,\n  makeUnhandledStackInfo,\n  merge,\n  now,\n  redact,\n  sanitizeHref,\n  sanitizeUrl,\n  set,\n  stringify,\n  maxByteSize,\n  typeName,\n  uuid4,\n};\n","import * as _ from './utility.js';\n\n/*\n * RateLimiter - an object that encapsulates the logic for counting items sent to Rollbar\n *\n * @param options - the same options that are accepted by configureGlobal offered as a convenience\n */\nfunction RateLimiter(options) {\n  this.startTime = _.now();\n  this.counter = 0;\n  this.perMinCounter = 0;\n  this.platform = null;\n  this.platformOptions = {};\n  this.configureGlobal(options);\n}\n\nRateLimiter.globalSettings = {\n  startTime: _.now(),\n  maxItems: undefined,\n  itemsPerMinute: undefined,\n};\n\n/*\n * configureGlobal - set the global rate limiter options\n *\n * @param options - Only the following values are recognized:\n *    startTime: a timestamp of the form returned by (new Date()).getTime()\n *    maxItems: the maximum items\n *    itemsPerMinute: the max number of items to send in a given minute\n */\nRateLimiter.prototype.configureGlobal = function (options) {\n  if (options.startTime !== undefined) {\n    RateLimiter.globalSettings.startTime = options.startTime;\n  }\n  if (options.maxItems !== undefined) {\n    RateLimiter.globalSettings.maxItems = options.maxItems;\n  }\n  if (options.itemsPerMinute !== undefined) {\n    RateLimiter.globalSettings.itemsPerMinute = options.itemsPerMinute;\n  }\n};\n\n/*\n * shouldSend - determine if we should send a given item based on rate limit settings\n *\n * @param item - the item we are about to send\n * @returns An object with the following structure:\n *  error: (Error|null)\n *  shouldSend: bool\n *  payload: (Object|null)\n *  If shouldSend is false, the item passed as a parameter should not be sent to Rollbar, and\n *  exactly one of error or payload will be non-null. If error is non-null, the returned Error will\n *  describe the situation, but it means that we were already over a rate limit (either globally or\n *  per minute) when this item was checked. If error is null, and therefore payload is non-null, it\n *  means this item put us over the global rate limit and the payload should be sent to Rollbar in\n *  place of the passed in item.\n */\nRateLimiter.prototype.shouldSend = function (item, now) {\n  now = now || _.now();\n  var elapsedTime = now - this.startTime;\n  if (elapsedTime < 0 || elapsedTime >= 60000) {\n    this.startTime = now;\n    this.perMinCounter = 0;\n  }\n\n  var globalRateLimit = RateLimiter.globalSettings.maxItems;\n  var globalRateLimitPerMin = RateLimiter.globalSettings.itemsPerMinute;\n\n  if (checkRate(item, globalRateLimit, this.counter)) {\n    return shouldSendValue(\n      this.platform,\n      this.platformOptions,\n      globalRateLimit + ' max items reached',\n      false,\n    );\n  } else if (checkRate(item, globalRateLimitPerMin, this.perMinCounter)) {\n    return shouldSendValue(\n      this.platform,\n      this.platformOptions,\n      globalRateLimitPerMin + ' items per minute reached',\n      false,\n    );\n  }\n  this.counter++;\n  this.perMinCounter++;\n\n  var shouldSend = !checkRate(item, globalRateLimit, this.counter);\n  var perMinute = shouldSend;\n  shouldSend =\n    shouldSend && !checkRate(item, globalRateLimitPerMin, this.perMinCounter);\n  return shouldSendValue(\n    this.platform,\n    this.platformOptions,\n    null,\n    shouldSend,\n    globalRateLimit,\n    globalRateLimitPerMin,\n    perMinute,\n  );\n};\n\nRateLimiter.prototype.setPlatformOptions = function (platform, options) {\n  this.platform = platform;\n  this.platformOptions = options;\n};\n\n/* Helpers */\n\nfunction checkRate(item, limit, counter) {\n  return !item.ignoreRateLimit && limit >= 1 && counter > limit;\n}\n\nfunction shouldSendValue(\n  platform,\n  options,\n  error,\n  shouldSend,\n  globalRateLimit,\n  limitPerMin,\n  perMinute,\n) {\n  var payload = null;\n  if (error) {\n    error = new Error(error);\n  }\n  if (!error && !shouldSend) {\n    payload = rateLimitPayload(\n      platform,\n      options,\n      globalRateLimit,\n      limitPerMin,\n      perMinute,\n    );\n  }\n  return { error: error, shouldSend: shouldSend, payload: payload };\n}\n\nfunction rateLimitPayload(\n  platform,\n  options,\n  globalRateLimit,\n  limitPerMin,\n  perMinute,\n) {\n  var environment =\n    options.environment || (options.payload && options.payload.environment);\n  var msg;\n  if (perMinute) {\n    msg = 'item per minute limit reached, ignoring errors until timeout';\n  } else {\n    msg = 'maxItems has been hit, ignoring errors until reset.';\n  }\n  var item = {\n    body: {\n      message: {\n        body: msg,\n        extra: {\n          maxItems: globalRateLimit,\n          itemsPerMinute: limitPerMin,\n        },\n      },\n    },\n    language: 'javascript',\n    environment: environment,\n    notifier: {\n      version:\n        (options.notifier && options.notifier.version) || options.version,\n    },\n  };\n  if (platform === 'browser') {\n    item.platform = 'browser';\n    item.framework = 'browser-js';\n    item.notifier.name = 'rollbar-browser-js';\n  } else if (platform === 'server') {\n    item.framework = options.framework || 'node-js';\n    item.notifier.name = options.notifier.name;\n  } else if (platform === 'react-native') {\n    item.framework = options.framework || 'react-native';\n    item.notifier.name = options.notifier.name;\n  }\n  return item;\n}\n\nexport default RateLimiter;\n","import * as _ from './utility.js';\n\n/**\n * Queue - an object which handles which handles a queue of items to be sent to Rollbar.\n *   This object handles rate limiting via a passed in rate limiter, retries based on connection\n *   errors, and filtering of items based on a set of configurable predicates. The communication to\n *   the backend is performed via a given API object.\n */\nclass Queue {\n  /**\n   * @param rateLimiter - An object which conforms to the interface\n   *    `rateLimiter.shouldSend(item) -> bool`\n   * @param api - An object which conforms to the interface\n   *    `api.postItem(payload, function(err, response))`\n   * @param logger - An object used to log verbose messages if desired\n   * @param options - see `Queue.prototype.configure`\n   * @param replay - Optional `Replay` for coordinating session replay with error occurrences\n   */\n  constructor(rateLimiter, api, logger, options, replay) {\n    this.rateLimiter = rateLimiter;\n    this.api = api;\n    this.logger = logger;\n    this.options = options;\n    this.replay = replay;\n    this.predicates = [];\n    this.pendingItems = [];\n    this.pendingRequests = [];\n    this.retryQueue = [];\n    this.retryHandle = null;\n    this.waitCallback = null;\n    this.waitIntervalID = null;\n  }\n\n  /**\n   * configure - updates the options this queue uses\n   *\n   * @param options\n   */\n  configure(options) {\n    this.api?.configure(options);\n    const oldOptions = this.options;\n    this.options = _.merge(oldOptions, options);\n    return this;\n  }\n\n  /**\n   * addPredicate - adds a predicate to the end of the list of predicates for this queue\n   *\n   * @param predicate - function(item, options) -> (bool|{err: Error})\n   *  Returning true means that this predicate passes and the item is okay to go on the queue\n   *  Returning false means do not add the item to the queue, but it is not an error\n   *  Returning {err: Error} means do not add the item to the queue, and the given error explains why\n   *  Returning {err: undefined} is equivalent to returning true but don't do that\n   */\n  addPredicate(predicate) {\n    if (_.isFunction(predicate)) {\n      this.predicates.push(predicate);\n    }\n    return this;\n  }\n\n  addPendingItem(item) {\n    this.pendingItems.push(item);\n  }\n\n  removePendingItem(item) {\n    const idx = this.pendingItems.indexOf(item);\n    if (idx !== -1) {\n      this.pendingItems.splice(idx, 1);\n    }\n  }\n\n  /**\n   * addItem - Send an item to the Rollbar API if all of the predicates are satisfied\n   *\n   * @param item - Item instance with the payload to send to the backend\n   * @param callback - function(error, repsonse) which will be called with the response from the API\n   *  in the case of a success, otherwise response will be null and error will have a value. If both\n   *  error and response are null then the item was stopped by a predicate which did not consider this\n   *  to be an error condition, but nonetheless did not send the item to the API.\n   * @param originalError - The original error before any transformations that is to be logged if any\n   * @param originalItem - The original item before transforms, used in pendingItems queue\n   */\n  addItem(item, callback, originalError, originalItem) {\n    if (!callback || !_.isFunction(callback)) {\n      callback = function () {\n        return;\n      };\n    }\n    const data = item.data;\n    const predicateResult = this._applyPredicates(data);\n    if (predicateResult.stop) {\n      this.removePendingItem(originalItem);\n      callback(predicateResult.err);\n      return;\n    }\n    this._maybeLog(data, originalError);\n    this.removePendingItem(originalItem);\n    if (!this.options.transmit) {\n      callback(new Error('Transmit disabled'));\n      return;\n    }\n\n    if (this.replay && data.body) {\n      item.replayId = this.replay.capture(null, data.uuid, {\n        type: 'occurrence',\n        level: item.level,\n      });\n\n      if (item.replayId) {\n        _.addItemAttributes(item.data, [\n          { key: 'replay_id', value: item.replayId },\n        ]);\n      }\n    }\n\n    this.pendingRequests.push(data);\n    try {\n      this._makeApiRequest(data, (err, resp, headers) => {\n        this._dequeuePendingRequest(data);\n\n        if (item.replayId) {\n          this.replay.sendOrDiscardReplay(item.replayId, err, resp, headers);\n        }\n\n        callback(err, resp);\n      });\n    } catch (err) {\n      this._dequeuePendingRequest(data);\n\n      if (item.replayId) {\n        this.replay?.discard(item.replayId);\n      }\n\n      callback(err);\n    }\n  }\n\n  /**\n   * wait - Stop any further errors from being added to the queue, and get called back when all items\n   *   currently processing have finished sending to the backend.\n   *\n   * @param callback - function() called when all pending items have been sent\n   */\n  wait(callback) {\n    if (!_.isFunction(callback)) {\n      return;\n    }\n    this.waitCallback = callback;\n    if (this._maybeCallWait()) {\n      return;\n    }\n    if (this.waitIntervalID) {\n      this.waitIntervalID = clearInterval(this.waitIntervalID);\n    }\n    this.waitIntervalID = setInterval(() => {\n      this._maybeCallWait();\n    }, 500);\n  }\n\n  /**\n   * Sequentially applies the predicates that have been added to the queue to the\n   * given item with the currently configured options.\n   *\n   * @param item - An item in the queue\n   * @returns {stop: bool, err: (Error|null)} - stop being true means do not add item to the queue,\n   *   the error value should be passed up to a callbak if we are stopping.\n   */\n  _applyPredicates(item) {\n    let p = null;\n    for (let i = 0, len = this.predicates.length; i < len; i++) {\n      p = this.predicates[i](item, this.options);\n      if (!p || p.err !== undefined) {\n        return { stop: true, err: p.err };\n      }\n    }\n    return { stop: false, err: null };\n  }\n\n  /**\n   * Send an item to Rollbar, callback when done, if there is an error make an\n   * effort to retry if we are configured to do so.\n   *\n   * @param item - an item ready to send to the backend\n   * @param callback - function(err, response)\n   */\n  _makeApiRequest(item, callback) {\n    const rateLimitResponse = this.rateLimiter.shouldSend(item);\n    if (rateLimitResponse.shouldSend) {\n      this.api.postItem(item, (err, resp, headers) => {\n        if (err) {\n          this._maybeRetry(err, item, callback);\n        } else {\n          callback(err, resp, headers);\n        }\n      });\n    } else if (rateLimitResponse.error) {\n      callback(rateLimitResponse.error);\n    } else {\n      this.api.postItem(rateLimitResponse.payload, callback);\n    }\n  }\n\n  // These are errors basically mean there is no internet connection\n  static RETRIABLE_ERRORS = [\n    'ECONNRESET',\n    'ENOTFOUND',\n    'ESOCKETTIMEDOUT',\n    'ETIMEDOUT',\n    'ECONNREFUSED',\n    'EHOSTUNREACH',\n    'EPIPE',\n    'EAI_AGAIN',\n  ];\n\n  /**\n   * Given the error returned by the API, decide if we should retry or just callback\n   * with the error.\n   *\n   * @param err - an error returned by the API transport\n   * @param item - the item that was trying to be sent when this error occured\n   * @param callback - function(err, response)\n   */\n  _maybeRetry(err, item, callback) {\n    let shouldRetry = false;\n    if (this.options.retryInterval) {\n      for (let i = 0, len = Queue.RETRIABLE_ERRORS.length; i < len; i++) {\n        if (err.code === Queue.RETRIABLE_ERRORS[i]) {\n          shouldRetry = true;\n          break;\n        }\n      }\n      if (shouldRetry && _.isFiniteNumber(this.options.maxRetries)) {\n        item.retries = item.retries ? item.retries + 1 : 1;\n        if (item.retries > this.options.maxRetries) {\n          shouldRetry = false;\n        }\n      }\n    }\n    if (shouldRetry) {\n      this._retryApiRequest(item, callback);\n    } else {\n      callback(err);\n    }\n  }\n\n  /**\n   * Add an item and a callback to a queue and possibly start a timer to process\n   * that queue based on the retryInterval in the options for this queue.\n   *\n   * @param item - an item that failed to send due to an error we deem retriable\n   * @param callback - function(err, response)\n   */\n  _retryApiRequest(item, callback) {\n    this.retryQueue.push({ item, callback });\n\n    if (!this.retryHandle) {\n      this.retryHandle = setInterval(() => {\n        while (this.retryQueue.length) {\n          const retryObject = this.retryQueue.shift();\n          this._makeApiRequest(retryObject.item, retryObject.callback);\n        }\n      }, this.options.retryInterval);\n    }\n  }\n\n  /**\n   * Removes the item from the pending request queue, this queue is used to\n   * enable to functionality of providing a callback that clients can pass to `wait` to be notified\n   * when the pending request queue has been emptied. This must be called when the API finishes\n   * processing this item. If a `wait` callback is configured, it is called by this function.\n   *\n   * @param item - the item previously added to the pending request queue\n   */\n  _dequeuePendingRequest(item) {\n    const idx = this.pendingRequests.indexOf(item);\n    if (idx !== -1) {\n      this.pendingRequests.splice(idx, 1);\n      this._maybeCallWait();\n    }\n  }\n\n  _maybeLog(data, originalError) {\n    if (this.logger && this.options.verbose) {\n      let message =\n        originalError ||\n        _.get(data, 'body.trace.exception.message') ||\n        _.get(data, 'body.trace_chain.0.exception.message');\n      if (message) {\n        this.logger.error(message);\n        return;\n      }\n      message = _.get(data, 'body.message.body');\n      if (message) {\n        this.logger.log(message);\n      }\n    }\n  }\n\n  _maybeCallWait() {\n    if (\n      _.isFunction(this.waitCallback) &&\n      this.pendingItems.length === 0 &&\n      this.pendingRequests.length === 0\n    ) {\n      if (this.waitIntervalID) {\n        this.waitIntervalID = clearInterval(this.waitIntervalID);\n      }\n      this.waitCallback();\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default Queue;\n","import * as _ from './utility.js';\n\n/*\n * Notifier - the internal object responsible for delegating between the client exposed API, the\n * chain of transforms necessary to turn an item into something that can be sent to Rollbar, and the\n * queue which handles the communcation with the Rollbar API servers.\n *\n * @param queue - an object that conforms to the interface: addItem(item, callback)\n * @param options - an object representing the options to be set for this notifier, this should have\n * any defaults already set by the caller\n */\nfunction Notifier(queue, options) {\n  this.queue = queue;\n  this.options = options;\n  this.transforms = [];\n  this.diagnostic = {};\n}\n\n/*\n * configure - updates the options for this notifier with the passed in object\n *\n * @param options - an object which gets merged with the current options set on this notifier\n * @returns this\n */\nNotifier.prototype.configure = function (options) {\n  this.queue && this.queue.configure(options);\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  return this;\n};\n\n/*\n * addTransform - adds a transform onto the end of the queue of transforms for this notifier\n *\n * @param transform - a function which takes three arguments:\n *    * item: An Object representing the data to eventually be sent to Rollbar\n *    * options: The current value of the options for this notifier\n *    * callback: function(err: (Null|Error), item: (Null|Object)) the transform must call this\n *    callback with a null value for error if it wants the processing chain to continue, otherwise\n *    with an error to terminate the processing. The item should be the updated item after this\n *    transform is finished modifying it.\n */\nNotifier.prototype.addTransform = function (transform) {\n  if (_.isFunction(transform)) {\n    this.transforms.push(transform);\n  }\n  return this;\n};\n\n/*\n * log - the internal log function which applies the configured transforms and then pushes onto the\n * queue to be sent to the backend.\n *\n * @param item - An object with the following structure:\n *    message [String] - An optional string to be sent to rollbar\n *    error [Error] - An optional error\n *\n * @param callback - A function of type function(err, resp) which will be called with exactly one\n * null argument and one non-null argument. The callback will be called once, either during the\n * transform stage if an error occurs inside a transform, or in response to the communication with\n * the backend. The second argument will be the response from the backend in case of success.\n */\nNotifier.prototype.log = function (item, callback) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function () {};\n  }\n\n  if (!this.options.enabled) {\n    return callback(new Error('Rollbar is not enabled'));\n  }\n\n  this.queue.addPendingItem(item);\n  var originalError = item.err;\n  this._applyTransforms(\n    item,\n    function (err, i) {\n      if (err) {\n        this.queue.removePendingItem(item);\n        return callback(err, null);\n      }\n      this.queue.addItem(i, callback, originalError, item);\n    }.bind(this),\n  );\n};\n\n/* Internal */\n\n/*\n * _applyTransforms - Applies the transforms that have been added to this notifier sequentially. See\n * `addTransform` for more information.\n *\n * @param item - An item to be transformed\n * @param callback - A function of type function(err, item) which will be called with a non-null\n * error and a null item in the case of a transform failure, or a null error and non-null item after\n * all transforms have been applied.\n */\nNotifier.prototype._applyTransforms = function (item, callback) {\n  var transformIndex = -1;\n  var transformsLength = this.transforms.length;\n  var transforms = this.transforms;\n  var options = this.options;\n\n  var cb = function (err, i) {\n    if (err) {\n      callback(err, null);\n      return;\n    }\n\n    transformIndex++;\n\n    if (transformIndex === transformsLength) {\n      callback(null, i);\n      return;\n    }\n\n    transforms[transformIndex](i, options, cb);\n  };\n\n  cb(null, item);\n};\n\nexport default Notifier;\n","import RateLimiter from './rateLimiter.js';\nimport Queue from './queue.js';\nimport Notifier from './notifier.js';\nimport * as _ from './utility.js';\n\n/*\n * Rollbar - the interface to Rollbar\n *\n * @param options\n * @param api\n * @param logger\n */\nfunction Rollbar(options, api, logger, telemeter, tracing, replay, platform) {\n  this.options = _.merge(options);\n  this.logger = logger;\n  Rollbar.rateLimiter.configureGlobal(this.options);\n  Rollbar.rateLimiter.setPlatformOptions(platform, this.options);\n  this.api = api;\n  this.queue = new Queue(\n    Rollbar.rateLimiter,\n    api,\n    logger,\n    this.options,\n    replay,\n  );\n\n  this.tracing = tracing;\n\n  // Legacy OpenTracing support\n  // This must happen before the Notifier is created\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier = new Notifier(this.queue, this.options);\n  this.telemeter = telemeter;\n  setStackTraceLimit(options);\n  this.lastError = null;\n  this.lastErrorHash = 'none';\n}\n\nvar defaultOptions = {\n  maxItems: 0,\n  itemsPerMinute: 60,\n};\n\nRollbar.rateLimiter = new RateLimiter(defaultOptions);\n\nRollbar.prototype.global = function (options) {\n  Rollbar.rateLimiter.configureGlobal(options);\n  return this;\n};\n\nRollbar.prototype.configure = function (options, payloadData) {\n  var oldOptions = this.options;\n  var payload = {};\n  if (payloadData) {\n    payload = { payload: payloadData };\n  }\n\n  this.options = _.merge(oldOptions, options, payload);\n\n  // Legacy OpenTracing support\n  // This must happen before the Notifier is configured\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier && this.notifier.configure(this.options);\n  this.telemeter && this.telemeter.configure(this.options);\n  setStackTraceLimit(options);\n  this.global(this.options);\n\n  if (validateTracer(options.tracer)) {\n    this.tracer = options.tracer;\n  }\n\n  return this;\n};\n\nRollbar.prototype.log = function (item) {\n  var level = this._defaultLogLevel();\n  return this._log(level, item);\n};\n\nRollbar.prototype.debug = function (item) {\n  this._log('debug', item);\n};\n\nRollbar.prototype.info = function (item) {\n  this._log('info', item);\n};\n\nRollbar.prototype.warn = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.warning = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.error = function (item) {\n  this._log('error', item);\n};\n\nRollbar.prototype.critical = function (item) {\n  this._log('critical', item);\n};\n\nRollbar.prototype.wait = function (callback) {\n  this.queue.wait(callback);\n};\n\nRollbar.prototype.captureEvent = function (type, metadata, level) {\n  return this.telemeter && this.telemeter.captureEvent(type, metadata, level);\n};\n\nRollbar.prototype.captureDomContentLoaded = function (ts) {\n  return this.telemeter && this.telemeter.captureDomContentLoaded(ts);\n};\n\nRollbar.prototype.captureLoad = function (ts) {\n  return this.telemeter && this.telemeter.captureLoad(ts);\n};\n\nRollbar.prototype.buildJsonPayload = function (item) {\n  return this.api.buildJsonPayload(item);\n};\n\nRollbar.prototype.sendJsonPayload = function (jsonPayload) {\n  this.api.postJsonPayload(jsonPayload);\n};\n\n/* Internal */\n\nRollbar.prototype._log = function (defaultLevel, item) {\n  var callback;\n  if (item.callback) {\n    callback = item.callback;\n    delete item.callback;\n  }\n  if (this.options.ignoreDuplicateErrors && this._sameAsLastError(item)) {\n    if (callback) {\n      var error = new Error('ignored identical item');\n      error.item = item;\n      callback(error);\n    }\n    return;\n  }\n  try {\n    item.level = item.level || defaultLevel;\n\n    this._addTracingAttributes(item);\n\n    // Legacy OpenTracing support\n    this._addTracingInfo(item);\n\n    const telemeter = this.telemeter;\n    if (telemeter) {\n      telemeter._captureRollbarItem(item);\n      item.telemetryEvents = telemeter.copyEvents() || [];\n    }\n\n    this.notifier.log(item, callback);\n  } catch (e) {\n    if (callback) {\n      callback(e);\n    }\n    this.logger.error(e);\n  }\n};\n\nRollbar.prototype._addTracingAttributes = function (item) {\n  const span = this.tracing?.getSpan();\n\n  const attributes = [\n    { key: 'session_id', value: this.tracing?.sessionId },\n    { key: 'span_id', value: span?.spanId },\n    { key: 'trace_id', value: span?.traceId },\n  ];\n  _.addItemAttributes(item.data, attributes);\n\n  span?.addEvent('rollbar.occurrence', [\n    { key: 'rollbar.occurrence.uuid', value: item.uuid },\n  ]);\n};\n\nRollbar.prototype._defaultLogLevel = function () {\n  return this.options.logLevel || 'debug';\n};\n\nRollbar.prototype._sameAsLastError = function (item) {\n  if (!item._isUncaught) {\n    return false;\n  }\n  var itemHash = generateItemHash(item);\n  if (this.lastErrorHash === itemHash) {\n    return true;\n  }\n  this.lastError = item.err;\n  this.lastErrorHash = itemHash;\n  return false;\n};\n\nRollbar.prototype._addTracingInfo = function (item) {\n  // Tracer validation occurs in the constructor\n  // or in the Rollbar.prototype.configure methods\n  if (this.tracer) {\n    // add rollbar occurrence uuid to span\n    var span = this.tracer.scope().active();\n\n    if (validateSpan(span)) {\n      span.setTag('rollbar.error_uuid', item.uuid);\n      span.setTag('rollbar.has_error', true);\n      span.setTag('error', true);\n      span.setTag(\n        'rollbar.item_url',\n        `https://rollbar.com/item/uuid/?uuid=${item.uuid}`,\n      );\n      span.setTag(\n        'rollbar.occurrence_url',\n        `https://rollbar.com/occurrence/uuid/?uuid=${item.uuid}`,\n      );\n\n      // add span ID & trace ID to occurrence\n      var opentracingSpanId = span.context().toSpanId();\n      var opentracingTraceId = span.context().toTraceId();\n\n      if (item.custom) {\n        item.custom.opentracing_span_id = opentracingSpanId;\n        item.custom.opentracing_trace_id = opentracingTraceId;\n      } else {\n        item.custom = {\n          opentracing_span_id: opentracingSpanId,\n          opentracing_trace_id: opentracingTraceId,\n        };\n      }\n    }\n  }\n};\n\nfunction generateItemHash(item) {\n  var message = item.message || '';\n  var stack = (item.err || {}).stack || String(item.err);\n  return message + '::' + stack;\n}\n\n// Node.js, Chrome, Safari, and some other browsers support this property\n// which globally sets the number of stack frames returned in an Error object.\n// If a browser can't use it, no harm done.\nfunction setStackTraceLimit(options) {\n  if (options.stackTraceLimit) {\n    Error.stackTraceLimit = options.stackTraceLimit;\n  }\n}\n\n/**\n * Validate the Tracer object provided to the Client\n * is valid for our Opentracing use case.\n * @param {opentracer.Tracer} tracer\n */\nfunction validateTracer(tracer) {\n  if (!tracer) {\n    return false;\n  }\n\n  if (!tracer.scope || typeof tracer.scope !== 'function') {\n    return false;\n  }\n\n  var scope = tracer.scope();\n\n  if (!scope || !scope.active || typeof scope.active !== 'function') {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Validate the Span object provided\n * @param {opentracer.Span} span\n */\nfunction validateSpan(span) {\n  if (!span || !span.context || typeof span.context !== 'function') {\n    return false;\n  }\n\n  var spanContext = span.context();\n\n  if (\n    !spanContext ||\n    !spanContext.toSpanId ||\n    !spanContext.toTraceId ||\n    typeof spanContext.toSpanId !== 'function' ||\n    typeof spanContext.toTraceId !== 'function'\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\nexport default Rollbar;\n","import * as _ from './utility.js';\n\nfunction buildPayload(data) {\n  if (!_.isType(data.context, 'string')) {\n    var contextResult = _.stringify(data.context);\n    if (contextResult.error) {\n      data.context = \"Error: could not serialize 'context'\";\n    } else {\n      data.context = contextResult.value || '';\n    }\n    if (data.context.length > 255) {\n      data.context = data.context.substr(0, 255);\n    }\n  }\n  return {\n    data: data,\n  };\n}\n\nfunction getTransportFromOptions(options, defaults, url) {\n  var hostname = defaults.hostname;\n  var protocol = defaults.protocol;\n  var port = defaults.port;\n  var path = defaults.path;\n  var search = defaults.search;\n  var timeout = options.timeout;\n  var transport = detectTransport(options);\n\n  var proxy = options.proxy;\n  if (options.endpoint) {\n    var opts = url.parse(options.endpoint);\n    hostname = opts.hostname;\n    protocol = opts.protocol;\n    port = opts.port;\n    path = opts.pathname;\n    search = opts.search;\n  }\n  return {\n    timeout: timeout,\n    hostname: hostname,\n    protocol: protocol,\n    port: port,\n    path: path,\n    search: search,\n    proxy: proxy,\n    transport: transport,\n  };\n}\n\nfunction detectTransport(options) {\n  var gWindow =\n    (typeof window != 'undefined' && window) ||\n    (typeof self != 'undefined' && self);\n  var transport = options.defaultTransport || 'xhr';\n  if (typeof gWindow.fetch === 'undefined') transport = 'xhr';\n  if (typeof gWindow.XMLHttpRequest === 'undefined') transport = 'fetch';\n  return transport;\n}\n\nfunction transportOptions(transport, method) {\n  var protocol = transport.protocol || 'https:';\n  var port =\n    transport.port ||\n    (protocol === 'http:' ? 80 : protocol === 'https:' ? 443 : undefined);\n  var hostname = transport.hostname;\n  var path = transport.path;\n  var timeout = transport.timeout;\n  var transportAPI = transport.transport;\n  if (transport.search) {\n    path = path + transport.search;\n  }\n  if (transport.proxy) {\n    path = protocol + '//' + hostname + path;\n    hostname = transport.proxy.host || transport.proxy.hostname;\n    port = transport.proxy.port;\n    protocol = transport.proxy.protocol || protocol;\n  }\n  return {\n    timeout: timeout,\n    protocol: protocol,\n    hostname: hostname,\n    path: path,\n    port: port,\n    method: method,\n    transport: transportAPI,\n  };\n}\n\nfunction appendPathToPath(base, path) {\n  var baseTrailingSlash = /\\/$/.test(base);\n  var pathBeginningSlash = /^\\//.test(path);\n\n  if (baseTrailingSlash && pathBeginningSlash) {\n    path = path.substring(1);\n  } else if (!baseTrailingSlash && !pathBeginningSlash) {\n    path = '/' + path;\n  }\n\n  return base + path;\n}\n\nexport {\n  buildPayload,\n  getTransportFromOptions,\n  transportOptions,\n  appendPathToPath,\n};\n","import * as _ from './utility.js';\nimport * as helpers from './apiUtility.js';\n\nvar defaultOptions = {\n  hostname: 'api.rollbar.com',\n  path: '/api/1/item/',\n  search: null,\n  version: '1',\n  protocol: 'https:',\n  port: 443,\n};\n\nvar OTLPDefaultOptions = {\n  hostname: 'api.rollbar.com',\n  path: '/api/1/session/',\n  search: null,\n  version: '1',\n  protocol: 'https:',\n  port: 443,\n};\n\n/**\n * Api is an object that encapsulates methods of communicating with\n * the Rollbar API.  It is a standard interface with some parts implemented\n * differently for server or browser contexts.  It is an object that should\n * be instantiated when used so it can contain non-global options that may\n * be different for another instance of RollbarApi.\n *\n * @param options {\n *    accessToken: the accessToken to use for posting items to rollbar\n *    endpoint: an alternative endpoint to send errors to\n *        must be a valid, fully qualified URL.\n *        The default is: https://api.rollbar.com/api/1/item\n *    proxy: if you wish to proxy requests provide an object\n *        with the following keys:\n *          host or hostname (required): foo.example.com\n *          port (optional): 123\n *          protocol (optional): https\n * }\n */\nfunction Api(options, transport, urllib, truncation) {\n  this.options = options;\n  this.transport = transport;\n  this.url = urllib;\n  this.truncation = truncation;\n  this.accessToken = options.accessToken;\n  this.transportOptions = _getTransport(options, urllib);\n  this.OTLPTransportOptions = _getOTLPTransport(options, urllib);\n}\n\n/**\n * Wraps transport.post in a Promise to support async/await\n *\n * @param {Object} options - Options for the API request\n * @param {string} options.accessToken - The access token for authentication\n * @param {Object} options.transportOptions - Options for the transport\n * @param {Object} options.payload - The data payload to send\n * @returns {Promise} A promise that resolves with the response or rejects with an error\n * @private\n */\nApi.prototype._postPromise = function ({\n  accessToken,\n  options,\n  payload,\n  headers,\n}) {\n  const self = this;\n  return new Promise((resolve, reject) => {\n    self.transport.post({\n      accessToken,\n      options,\n      payload,\n      headers,\n      callback: (err, resp) => (err ? reject(err) : resolve(resp)),\n    });\n  });\n};\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.postItem = function (data, callback) {\n  const options = helpers.transportOptions(this.transportOptions, 'POST');\n  const payload = helpers.buildPayload(data);\n  const self = this;\n\n  // ensure the network request is scheduled after the current tick.\n  setTimeout(function () {\n    self.transport.post({\n      accessToken: self.accessToken,\n      options,\n      payload,\n      callback,\n    });\n  }, 0);\n};\n\n/**\n * Posts spans to the Rollbar API using the session endpoint\n *\n * @param {Array} payload - The spans to send\n * @returns {Promise<Object>} A promise that resolves with the API response\n */\nApi.prototype.postSpans = async function (payload, headers = {}) {\n  const options = helpers.transportOptions(this.OTLPTransportOptions, 'POST');\n\n  return await this._postPromise({\n    accessToken: this.accessToken,\n    options,\n    payload,\n    headers,\n  });\n};\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.buildJsonPayload = function (data, callback) {\n  var payload = helpers.buildPayload(data);\n\n  var stringifyResult;\n  if (this.truncation) {\n    stringifyResult = this.truncation.truncate(payload);\n  } else {\n    stringifyResult = _.stringify(payload);\n  }\n\n  if (stringifyResult.error) {\n    if (callback) {\n      callback(stringifyResult.error);\n    }\n    return null;\n  }\n\n  return stringifyResult.value;\n};\n\n/**\n *\n * @param jsonPayload\n * @param callback\n */\nApi.prototype.postJsonPayload = function (jsonPayload, callback) {\n  var transportOptions = helpers.transportOptions(\n    this.transportOptions,\n    'POST',\n  );\n  this.transport.postJsonPayload(\n    this.accessToken,\n    transportOptions,\n    jsonPayload,\n    callback,\n  );\n};\n\nApi.prototype.configure = function (options) {\n  var oldOptions = this.oldOptions;\n  this.options = _.merge(oldOptions, options);\n  this.transportOptions = _getTransport(this.options, this.url);\n  this.OTLPTransportOptions = _getOTLPTransport(this.options, this.url);\n  if (this.options.accessToken !== undefined) {\n    this.accessToken = this.options.accessToken;\n  }\n  return this;\n};\n\nfunction _getTransport(options, url) {\n  return helpers.getTransportFromOptions(options, defaultOptions, url);\n}\n\nfunction _getOTLPTransport(options, url) {\n  options = { ...options, endpoint: options.tracing?.endpoint };\n  return helpers.getTransportFromOptions(options, OTLPDefaultOptions, url);\n}\n\nexport default Api;\n","let log = () => {};\n\nconst levels = {\n  debug: 0,\n  info: 1,\n  warn: 2,\n  error: 3,\n  disable: 4,\n};\n\nconst logger = {\n  error: (...args) => log('error', args),\n  warn: (...args) => log('warn', args),\n  info: (...args) => log('info', args),\n  debug: (...args) => log('debug', args),\n  log: (...args) => log('info', args),\n  init: ({ logLevel }) => {\n    log = function (level, args) {\n      if (levels[level] < levels[logLevel]) return;\n\n      args.unshift('Rollbar:');\n\n      console[level].apply(console, args);\n    };\n  },\n};\n\nexport default logger;\n","function captureUncaughtExceptions(window, handler, shim) {\n  if (!window) {\n    return;\n  }\n  var oldOnError;\n\n  if (typeof handler._rollbarOldOnError === 'function') {\n    oldOnError = handler._rollbarOldOnError;\n  } else if (window.onerror) {\n    oldOnError = window.onerror;\n    while (oldOnError._rollbarOldOnError) {\n      oldOnError = oldOnError._rollbarOldOnError;\n    }\n    handler._rollbarOldOnError = oldOnError;\n  }\n\n  handler.handleAnonymousErrors();\n\n  var fn = function () {\n    var args = Array.prototype.slice.call(arguments, 0);\n    _rollbarWindowOnError(window, handler, oldOnError, args);\n  };\n  if (shim) {\n    fn._rollbarOldOnError = oldOnError;\n  }\n  window.onerror = fn;\n}\n\nfunction _rollbarWindowOnError(window, r, old, args) {\n  if (window._rollbarWrappedError) {\n    if (!args[4]) {\n      args[4] = window._rollbarWrappedError;\n    }\n    if (!args[5]) {\n      args[5] = window._rollbarWrappedError._rollbarContext;\n    }\n    window._rollbarWrappedError = null;\n  }\n\n  var ret = r.handleUncaughtException.apply(r, args);\n\n  if (old) {\n    old.apply(window, args);\n  }\n\n  // Let other chained onerror handlers above run before setting this.\n  // If an error is thrown and caught within a chained onerror handler,\n  // Error.prepareStackTrace() will see that one before the one we want.\n  if (ret === 'anonymous') {\n    r.anonymousErrorsPending += 1; // See Rollbar.prototype.handleAnonymousErrors()\n  }\n}\n\nfunction captureUnhandledRejections(window, handler, shim) {\n  if (!window) {\n    return;\n  }\n\n  if (\n    typeof window._rollbarURH === 'function' &&\n    window._rollbarURH.belongsToShim\n  ) {\n    window.removeEventListener('unhandledrejection', window._rollbarURH);\n  }\n\n  var rejectionHandler = function (evt) {\n    var reason, promise, detail;\n    try {\n      reason = evt.reason;\n    } catch (e) {\n      reason = undefined;\n    }\n    try {\n      promise = evt.promise;\n    } catch (e) {\n      promise = '[unhandledrejection] error getting `promise` from event';\n    }\n    try {\n      detail = evt.detail;\n      if (!reason && detail) {\n        reason = detail.reason;\n        promise = detail.promise;\n      }\n    } catch (e) {\n      // Ignore\n    }\n    if (!reason) {\n      reason = '[unhandledrejection] error getting `reason` from event';\n    }\n\n    if (handler && handler.handleUnhandledRejection) {\n      handler.handleUnhandledRejection(reason, promise);\n    }\n  };\n  rejectionHandler.belongsToShim = shim;\n  window._rollbarURH = rejectionHandler;\n  window.addEventListener('unhandledrejection', rejectionHandler);\n}\n\nexport { captureUncaughtExceptions, captureUnhandledRejections };\n","import logger from '../../logger.js';\nimport * as _ from '../../utility.js';\n\nfunction makeFetchRequest({\n  accessToken,\n  url,\n  method,\n  payload,\n  headers,\n  callback,\n  timeout,\n}) {\n  var controller;\n  var timeoutId;\n\n  if (_.isFiniteNumber(timeout)) {\n    controller = new AbortController();\n    timeoutId = setTimeout(function () {\n      controller.abort();\n    }, timeout);\n  }\n\n  headers = {\n    'Content-Type': 'application/json',\n    'X-Rollbar-Access-Token': accessToken,\n    signal: controller && controller.signal,\n    ...headers,\n  };\n\n  fetch(url, {\n    method,\n    headers,\n    body: payload,\n  })\n    .then(function (response) {\n      if (timeoutId) clearTimeout(timeoutId);\n      const respHeaders = response.headers;\n\n      const isItemRoute = url.endsWith('/api/1/item/');\n      const headers = isItemRoute\n        ? {\n            'Rollbar-Replay-Enabled': respHeaders.get('Rollbar-Replay-Enabled'),\n            'Rollbar-Replay-RateLimit-Remaining': respHeaders.get(\n              'Rollbar-Replay-RateLimit-Remaining',\n            ),\n            'Rollbar-Replay-RateLimit-Reset': respHeaders.get(\n              'Rollbar-Replay-RateLimit-Reset',\n            ),\n          }\n        : {};\n\n      const json = response.json();\n      callback(null, json, headers);\n    })\n    .catch(function (error) {\n      logger.error(error.message);\n      callback(error);\n    });\n}\n\nexport default makeFetchRequest;\n","/*global XDomainRequest*/\n\nimport * as _ from '../../utility.js';\nimport logger from '../../logger.js';\n\nfunction makeXhrRequest({\n  accessToken,\n  url,\n  method,\n  payload,\n  headers,\n  callback,\n  requestFactory,\n  timeout,\n}) {\n  var request;\n  if (requestFactory) {\n    request = requestFactory();\n  } else {\n    request = _createXMLHTTPObject();\n  }\n  if (!request) {\n    // Give up, no way to send requests\n    return callback(new Error('No way to send a request'));\n  }\n  try {\n    try {\n      var onreadystatechange = function () {\n        try {\n          if (onreadystatechange && request.readyState === 4) {\n            onreadystatechange = undefined;\n\n            var parseResponse = _.jsonParse(request.responseText);\n            if (_isSuccess(request)) {\n              const isItemRoute = url.endsWith('/api/1/item/');\n\n              const headers = isItemRoute\n                ? {\n                    'Rollbar-Replay-Enabled': request.getResponseHeader(\n                      'Rollbar-Replay-Enabled',\n                    ),\n                    'Rollbar-Replay-RateLimit-Remaining':\n                      request.getResponseHeader(\n                        'Rollbar-Replay-RateLimit-Remaining',\n                      ),\n                    'Rollbar-Replay-RateLimit-Reset': request.getResponseHeader(\n                      'Rollbar-Replay-RateLimit-Reset',\n                    ),\n                  }\n                : {};\n              callback(parseResponse.error, parseResponse.value, headers);\n              return;\n            } else if (_isNormalFailure(request)) {\n              if (request.status === 403) {\n                // likely caused by using a server access token\n                var message =\n                  parseResponse.value && parseResponse.value.message;\n                logger.error(message);\n              }\n              // return valid http status codes\n              callback(new Error(String(request.status)));\n            } else {\n              // IE will return a status 12000+ on some sort of connection failure,\n              // so we return a blank error\n              // http://msdn.microsoft.com/en-us/library/aa383770%28VS.85%29.aspx\n              var msg =\n                'XHR response had no status code (likely connection failure)';\n              callback(_newRetriableError(msg));\n            }\n          }\n        } catch (ex) {\n          //jquery source mentions firefox may error out while accessing the\n          //request members if there is a network error\n          //https://github.com/jquery/jquery/blob/a938d7b1282fc0e5c52502c225ae8f0cef219f0a/src/ajax/xhr.js#L111\n          var exc;\n          if (ex && ex.stack) {\n            exc = ex;\n          } else {\n            exc = new Error(ex);\n          }\n          callback(exc);\n        }\n      };\n\n      request.open(method, url, true);\n      if (request.setRequestHeader) {\n        request.setRequestHeader('Content-Type', 'application/json');\n        request.setRequestHeader('X-Rollbar-Access-Token', accessToken);\n        for (const [h, v] of Object.entries(headers ?? {})) {\n          request.setRequestHeader(h, v);\n        }\n      }\n\n      if (_.isFiniteNumber(timeout)) {\n        request.timeout = timeout;\n      }\n\n      request.onreadystatechange = onreadystatechange;\n      request.send(payload);\n    } catch (e1) {\n      // Sending using the normal xmlhttprequest object didn't work, try XDomainRequest\n      if (typeof XDomainRequest !== 'undefined') {\n        // Assume we are in a really old browser which has a bunch of limitations:\n        // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n\n        // Extreme paranoia: if we have XDomainRequest then we have a window, but just in case\n        if (!window || !window.location) {\n          return callback(\n            new Error(\n              'No window available during request, unknown environment',\n            ),\n          );\n        }\n\n        // If the current page is http, try and send over http\n        if (\n          window.location.href.substring(0, 5) === 'http:' &&\n          url.substring(0, 5) === 'https'\n        ) {\n          url = 'http' + url.substring(5);\n        }\n\n        var xdomainrequest = new XDomainRequest();\n        xdomainrequest.onprogress = function () {};\n        xdomainrequest.ontimeout = function () {\n          var msg = 'Request timed out';\n          var code = 'ETIMEDOUT';\n          callback(_newRetriableError(msg, code));\n        };\n        xdomainrequest.onerror = function () {\n          callback(new Error('Error during request'));\n        };\n        xdomainrequest.onload = function () {\n          var parseResponse = _.jsonParse(xdomainrequest.responseText);\n          callback(parseResponse.error, parseResponse.value);\n        };\n        xdomainrequest.open(method, url, true);\n        xdomainrequest.send(payload);\n      } else {\n        callback(new Error('Cannot find a method to transport a request'));\n      }\n    }\n  } catch (e2) {\n    callback(e2);\n  }\n}\n\nfunction _createXMLHTTPObject() {\n  /* global ActiveXObject:false */\n\n  var factories = [\n    function () {\n      return new XMLHttpRequest();\n    },\n    function () {\n      return new ActiveXObject('Msxml2.XMLHTTP');\n    },\n    function () {\n      return new ActiveXObject('Msxml3.XMLHTTP');\n    },\n    function () {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    },\n  ];\n  var xmlhttp;\n  var i;\n  var numFactories = factories.length;\n  for (i = 0; i < numFactories; i++) {\n    try {\n      xmlhttp = factories[i]();\n      break;\n    } catch (e) {\n      // pass\n    }\n  }\n  return xmlhttp;\n}\n\nfunction _isSuccess(r) {\n  return r && r.status && r.status === 200;\n}\n\nfunction _isNormalFailure(r) {\n  return r && _.isType(r.status, 'number') && r.status >= 400 && r.status < 600;\n}\n\nfunction _newRetriableError(message, code) {\n  var err = new Error(message);\n  err.code = code || 'ENOTFOUND';\n  return err;\n}\n\nexport default makeXhrRequest;\n","import * as _ from '../utility.js';\nimport makeFetchRequest from './transport/fetch.js';\nimport makeXhrRequest from './transport/xhr.js';\n\n/*\n * accessToken may be embedded in payload but that should not\n *   be assumed\n *\n * options: {\n *   hostname\n *   protocol\n *   path\n *   port\n *   method\n *   transport ('xhr' | 'fetch')\n * }\n *\n *  params is an object containing key/value pairs. These\n *    will be appended to the path as 'key=value&key=value'\n *\n * payload is an unserialized object\n */\nfunction Transport(truncation) {\n  this.truncation = truncation;\n}\n\nTransport.prototype.get = function (\n  accessToken,\n  options,\n  params,\n  callback,\n  requestFactory,\n) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function () {};\n  }\n  _.addParamsAndAccessTokenToPath(accessToken, options, params);\n\n  var method = 'GET';\n  var url = _.formatUrl(options);\n  this._makeZoneRequest({\n    accessToken,\n    url,\n    method,\n    callback,\n    requestFactory,\n    timeout: options.timeout,\n    transport: options.transport,\n  });\n};\n\nTransport.prototype.post = function ({\n  accessToken,\n  options,\n  payload,\n  headers,\n  callback,\n  requestFactory,\n}) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function () {};\n  }\n\n  if (!payload) {\n    return callback(new Error('Cannot send empty request'));\n  }\n\n  var stringifyResult;\n  // Check payload.body to ensure only items are truncated.\n  if (this.truncation && payload.body) {\n    stringifyResult = this.truncation.truncate(payload);\n  } else {\n    stringifyResult = _.stringify(payload);\n  }\n  if (stringifyResult.error) {\n    return callback(stringifyResult.error);\n  }\n\n  var payload = stringifyResult.value;\n  var method = 'POST';\n  var url = _.formatUrl(options);\n  this._makeZoneRequest({\n    accessToken,\n    url,\n    method,\n    payload,\n    headers,\n    callback,\n    requestFactory,\n    timeout: options.timeout,\n    transport: options.transport,\n  });\n};\n\nTransport.prototype.postJsonPayload = function (\n  accessToken,\n  options,\n  payload,\n  callback,\n  requestFactory,\n) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function () {};\n  }\n\n  var method = 'POST';\n  var url = _.formatUrl(options);\n  this._makeZoneRequest({\n    accessToken,\n    url,\n    method,\n    payload,\n    callback,\n    requestFactory,\n    timeout: options.timeout,\n    transport: options.transport,\n  });\n};\n\n// Wraps `_makeRequest` if zone.js is being used, ensuring that Rollbar\n// API calls are not intercepted by any child forked zones.\n// This is equivalent to `NgZone.runOutsideAngular` in Angular.\nTransport.prototype._makeZoneRequest = function () {\n  var gWindow =\n    (typeof window != 'undefined' && window) ||\n    (typeof self != 'undefined' && self);\n  // Whenever zone.js is loaded and `Zone` is exposed globally, access\n  // the root zone to ensure that requests are always made within it.\n  // This approach is framework-agnostic, regardless of which\n  // framework zone.js is used with.\n  var rootZone = gWindow && gWindow.Zone && gWindow.Zone.root;\n  var args = Array.prototype.slice.call(arguments);\n\n  if (rootZone) {\n    var self = this;\n    rootZone.run(function () {\n      self._makeRequest.apply(undefined, args);\n    });\n  } else {\n    this._makeRequest.apply(undefined, args);\n  }\n};\n\nTransport.prototype._makeRequest = function (params) {\n  const { payload, callback, transport } = params;\n  if (typeof RollbarProxy !== 'undefined') {\n    return _proxyRequest(payload, callback);\n  }\n\n  if (transport === 'fetch') {\n    makeFetchRequest(params);\n  } else {\n    makeXhrRequest(params);\n  }\n};\n\n/* global RollbarProxy */\nfunction _proxyRequest(json, callback) {\n  var rollbarProxy = new RollbarProxy();\n  rollbarProxy.sendJsonPayload(\n    json,\n    function (_msg) {\n      /* do nothing */\n    },\n    function (err) {\n      callback(new Error(err));\n    },\n  );\n}\n\nexport default Transport;\n","// See https://nodejs.org/docs/latest/api/url.html\nfunction parse(url) {\n  var result = {\n    protocol: null,\n    auth: null,\n    host: null,\n    path: null,\n    hash: null,\n    href: url,\n    hostname: null,\n    port: null,\n    pathname: null,\n    search: null,\n    query: null,\n  };\n\n  var i, last;\n  i = url.indexOf('//');\n  if (i !== -1) {\n    result.protocol = url.substring(0, i);\n    last = i + 2;\n  } else {\n    last = 0;\n  }\n\n  i = url.indexOf('@', last);\n  if (i !== -1) {\n    result.auth = url.substring(last, i);\n    last = i + 1;\n  }\n\n  i = url.indexOf('/', last);\n  if (i === -1) {\n    i = url.indexOf('?', last);\n    if (i === -1) {\n      i = url.indexOf('#', last);\n      if (i === -1) {\n        result.host = url.substring(last);\n      } else {\n        result.host = url.substring(last, i);\n        result.hash = url.substring(i);\n      }\n      result.hostname = result.host.split(':')[0];\n      result.port = result.host.split(':')[1];\n      if (result.port) {\n        result.port = parseInt(result.port, 10);\n      }\n      return result;\n    } else {\n      result.host = url.substring(last, i);\n      result.hostname = result.host.split(':')[0];\n      result.port = result.host.split(':')[1];\n      if (result.port) {\n        result.port = parseInt(result.port, 10);\n      }\n      last = i;\n    }\n  } else {\n    result.host = url.substring(last, i);\n    result.hostname = result.host.split(':')[0];\n    result.port = result.host.split(':')[1];\n    if (result.port) {\n      result.port = parseInt(result.port, 10);\n    }\n    last = i;\n  }\n\n  i = url.indexOf('#', last);\n  if (i === -1) {\n    result.path = url.substring(last);\n  } else {\n    result.path = url.substring(last, i);\n    result.hash = url.substring(i);\n  }\n\n  if (result.path) {\n    var pathParts = result.path.split('?');\n    result.pathname = pathParts[0];\n    result.query = pathParts[1];\n    result.search = result.query ? '?' + result.query : null;\n  }\n  return result;\n}\n\nexport { parse };\n","const FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\nconst CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nconst SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\nfunction parse(error, options) {\n  if (typeof error.stacktrace !== \"undefined\" || typeof error[\"opera#sourceloc\"] !== \"undefined\")\n    return parseOpera(error, options);\n  else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP))\n    return parseV8OrIE(error, options);\n  else if (error.stack)\n    return parseFFOrSafari(error, options);\n  else if (options?.allowEmpty)\n    return [];\n  else\n    throw new Error(\"Cannot parse given Error object\");\n}\nfunction parseStack(stackString, options) {\n  if (stackString.match(CHROME_IE_STACK_REGEXP))\n    return parseV8OrIeString(stackString, options);\n  else\n    return parseFFOrSafariString(stackString, options);\n}\nfunction extractLocation(urlLike) {\n  if (!urlLike.includes(\":\"))\n    return [urlLike, undefined, undefined];\n  const regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n  const parts = regExp.exec(urlLike.replace(/[()]/g, \"\"));\n  return [parts[1], parts[2] || undefined, parts[3] || undefined];\n}\nfunction applySlice(lines, options) {\n  if (options && options.slice != null) {\n    if (Array.isArray(options.slice))\n      return lines.slice(options.slice[0], options.slice[1]);\n    return lines.slice(0, options.slice);\n  }\n  return lines;\n}\nfunction parseV8OrIE(error, options) {\n  return parseV8OrIeString(error.stack, options);\n}\nfunction parseV8OrIeString(stack, options) {\n  const filtered = applySlice(\n    stack.split(\"\\n\").filter((line) => {\n      return !!line.match(CHROME_IE_STACK_REGEXP);\n    }),\n    options\n  );\n  return filtered.map((line) => {\n    if (line.includes(\"(eval \")) {\n      line = line.replace(/eval code/g, \"eval\").replace(/(\\(eval at [^()]*)|(,.*$)/g, \"\");\n    }\n    let sanitizedLine = line.replace(/^\\s+/, \"\").replace(/\\(eval code/g, \"(\").replace(/^.*?\\s+/, \"\");\n    const location = sanitizedLine.match(/ (\\(.+\\)$)/);\n    sanitizedLine = location ? sanitizedLine.replace(location[0], \"\") : sanitizedLine;\n    const locationParts = extractLocation(location ? location[1] : sanitizedLine);\n    const functionName = location && sanitizedLine || undefined;\n    const fileName = [\"eval\", \"<anonymous>\"].includes(locationParts[0]) ? undefined : locationParts[0];\n    return {\n      function: functionName,\n      file: fileName,\n      line: locationParts[1] ? +locationParts[1] : undefined,\n      col: locationParts[2] ? +locationParts[2] : undefined,\n      raw: line\n    };\n  });\n}\nfunction parseFFOrSafari(error, options) {\n  return parseFFOrSafariString(error.stack, options);\n}\nfunction parseFFOrSafariString(stack, options) {\n  const filtered = applySlice(\n    stack.split(\"\\n\").filter((line) => {\n      return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n    }),\n    options\n  );\n  return filtered.map((line) => {\n    if (line.includes(\" > eval\"))\n      line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, \":$1\");\n    if (!line.includes(\"@\") && !line.includes(\":\")) {\n      return {\n        function: line\n      };\n    } else {\n      const functionNameRegex = /(([^\\n\\r\"\\u2028\\u2029]*\".[^\\n\\r\"\\u2028\\u2029]*\"[^\\n\\r@\\u2028\\u2029]*(?:@[^\\n\\r\"\\u2028\\u2029]*\"[^\\n\\r@\\u2028\\u2029]*)*(?:[\\n\\r\\u2028\\u2029][^@]*)?)?[^@]*)@/;\n      const matches = line.match(functionNameRegex);\n      const functionName = matches && matches[1] ? matches[1] : undefined;\n      const locationParts = extractLocation(line.replace(functionNameRegex, \"\"));\n      return {\n        function: functionName,\n        file: locationParts[0],\n        line: locationParts[1] ? +locationParts[1] : undefined,\n        col: locationParts[2] ? +locationParts[2] : undefined,\n        raw: line\n      };\n    }\n  });\n}\nfunction parseOpera(e, options) {\n  if (!e.stacktrace || e.message.includes(\"\\n\") && e.message.split(\"\\n\").length > e.stacktrace.split(\"\\n\").length)\n    return parseOpera9(e);\n  else if (!e.stack)\n    return parseOpera10(e);\n  else\n    return parseOpera11(e, options);\n}\nfunction parseOpera9(e, options) {\n  const lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n  const lines = e.message.split(\"\\n\");\n  const result = [];\n  for (let i = 2, len = lines.length; i < len; i += 2) {\n    const match = lineRE.exec(lines[i]);\n    if (match) {\n      result.push({\n        file: match[2],\n        line: +match[1],\n        raw: lines[i]\n      });\n    }\n  }\n  return applySlice(result, options);\n}\nfunction parseOpera10(e, options) {\n  const lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n  const lines = e.stacktrace.split(\"\\n\");\n  const result = [];\n  for (let i = 0, len = lines.length; i < len; i += 2) {\n    const match = lineRE.exec(lines[i]);\n    if (match) {\n      result.push({\n        function: match[3] || undefined,\n        file: match[2],\n        line: match[1] ? +match[1] : undefined,\n        raw: lines[i]\n      });\n    }\n  }\n  return applySlice(result, options);\n}\nfunction parseOpera11(error, options) {\n  const filtered = applySlice(\n    // @ts-expect-error missing stack property\n    error.stack.split(\"\\n\").filter((line) => {\n      return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n    }),\n    options\n  );\n  return filtered.map((line) => {\n    const tokens = line.split(\"@\");\n    const locationParts = extractLocation(tokens.pop());\n    const functionCall = tokens.shift() || \"\";\n    const functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, \"$2\").replace(/\\([^)]*\\)/g, \"\") || undefined;\n    let argsRaw;\n    if (functionCall.match(/\\(([^)]*)\\)/))\n      argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, \"$1\");\n    const args = argsRaw === undefined || argsRaw === \"[arguments not available]\" ? undefined : argsRaw.split(\",\");\n    return {\n      function: functionName,\n      args,\n      file: locationParts[0],\n      line: locationParts[1] ? +locationParts[1] : undefined,\n      col: locationParts[2] ? +locationParts[2] : undefined,\n      raw: line\n    };\n  });\n}\n\nexport { extractLocation, parse, parseFFOrSafari, parseFFOrSafariString, parseOpera, parseOpera10, parseOpera11, parseOpera9, parseStack, parseV8OrIE, parseV8OrIeString };\n","import { parse as parse$1, parseV8OrIE as parseV8OrIE$1, parseFFOrSafari as parseFFOrSafari$1, parseOpera as parseOpera$1, parseOpera9 as parseOpera9$1, parseOpera10 as parseOpera10$1, parseOpera11 as parseOpera11$1 } from './lite.mjs';\nexport { extractLocation } from './lite.mjs';\n\nfunction stackframesLiteToStackframes(liteStackframes) {\n  return liteStackframes.map((liteStackframe) => {\n    return {\n      functionName: liteStackframe.function,\n      args: liteStackframe.args,\n      fileName: liteStackframe.file,\n      lineNumber: liteStackframe.line,\n      columnNumber: liteStackframe.col,\n      source: liteStackframe.raw\n    };\n  });\n}\nfunction parse(error, options) {\n  return stackframesLiteToStackframes(parse$1(error, options));\n}\nfunction parseV8OrIE(error) {\n  return stackframesLiteToStackframes(parseV8OrIE$1(error));\n}\nfunction parseFFOrSafari(error) {\n  return stackframesLiteToStackframes(parseFFOrSafari$1(error));\n}\nfunction parseOpera(e) {\n  return stackframesLiteToStackframes(parseOpera$1(e));\n}\nfunction parseOpera9(e) {\n  return stackframesLiteToStackframes(parseOpera9$1(e));\n}\nfunction parseOpera10(e) {\n  return stackframesLiteToStackframes(parseOpera10$1(e));\n}\nfunction parseOpera11(error) {\n  return stackframesLiteToStackframes(parseOpera11$1(error));\n}\n\nexport { parse, parseFFOrSafari, parseOpera, parseOpera10, parseOpera11, parseOpera9, parseV8OrIE };\n","import { parse as parseErrorStack } from 'error-stack-parser-es';\n\nvar UNKNOWN_FUNCTION = '?';\nvar ERR_CLASS_REGEXP = new RegExp(\n  '^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ',\n);\n\nfunction guessFunctionName() {\n  return UNKNOWN_FUNCTION;\n}\n\nfunction gatherContext() {\n  return null;\n}\n\nfunction Frame(stackFrame) {\n  var data = {};\n\n  data._stackFrame = stackFrame;\n\n  data.url = stackFrame.fileName;\n  data.line = stackFrame.lineNumber;\n  data.func = stackFrame.functionName;\n  data.column = stackFrame.columnNumber;\n  data.args = stackFrame.args;\n\n  data.context = gatherContext();\n\n  return data;\n}\n\nfunction Stack(exception, skip) {\n  function getStack() {\n    var parserStack = [];\n\n    skip = skip || 0;\n\n    try {\n      parserStack = parseErrorStack(exception);\n    } catch (e) {\n      parserStack = [];\n    }\n\n    var stack = [];\n\n    for (var i = skip; i < parserStack.length; i++) {\n      stack.push(new Frame(parserStack[i]));\n    }\n\n    return stack;\n  }\n\n  return {\n    stack: getStack(),\n    message: exception.message,\n    name: _mostSpecificErrorName(exception),\n    rawStack: exception.stack,\n    rawException: exception,\n  };\n}\n\nfunction parse(e, skip) {\n  var err = e;\n\n  if (err.nested || err.cause) {\n    var traceChain = [];\n    while (err) {\n      traceChain.push(new Stack(err, skip));\n      err = err.nested || err.cause;\n\n      skip = 0; // Only apply skip value to primary error\n    }\n\n    // Return primary error with full trace chain attached.\n    traceChain[0].traceChain = traceChain;\n    return traceChain[0];\n  } else {\n    return new Stack(err, skip);\n  }\n}\n\nfunction guessErrorClass(errMsg) {\n  if (!errMsg || !errMsg.match) {\n    return ['Unknown error. There was no error message to display.', ''];\n  }\n  var errClassMatch = errMsg.match(ERR_CLASS_REGEXP);\n  var errClass = '(unknown)';\n\n  if (errClassMatch) {\n    errClass = errClassMatch[errClassMatch.length - 1];\n    errMsg = errMsg.replace(\n      (errClassMatch[errClassMatch.length - 2] || '') + errClass + ':',\n      '',\n    );\n    errMsg = errMsg.replace(/(^[\\s]+|[\\s]+$)/g, '');\n  }\n  return [errClass, errMsg];\n}\n\n// * Prefers any value over an empty string\n// * Prefers any value over 'Error' where possible\n// * Prefers name over constructor.name when both are more specific than 'Error'\nfunction _mostSpecificErrorName(error) {\n  var name = error.name && error.name.length && error.name;\n  var constructorName =\n    error.constructor.name &&\n    error.constructor.name.length &&\n    error.constructor.name;\n\n  if (!name || !constructorName) {\n    return name || constructorName;\n  }\n\n  if (name === 'Error') {\n    return constructorName;\n  }\n  return name;\n}\n\nexport default {\n  guessFunctionName,\n  guessErrorClass,\n  gatherContext,\n  parse,\n  Stack,\n  Frame,\n};\n","import * as _ from '../utility.js';\nimport errorParser from '../errorParser.js';\nimport logger from '../logger.js';\n\nfunction handleDomException(item, options, callback) {\n  if (item.err && errorParser.Stack(item.err).name === 'DOMException') {\n    var originalError = new Error();\n    originalError.name = item.err.name;\n    originalError.message = item.err.message;\n    originalError.stack = item.err.stack;\n    originalError.nested = item.err;\n    item.err = originalError;\n  }\n  callback(null, item);\n}\n\nfunction handleItemWithError(item, options, callback) {\n  item.data = item.data || {};\n  if (item.err) {\n    try {\n      item.stackInfo =\n        item.err._savedStackTrace ||\n        errorParser.parse(item.err, item.skipFrames);\n\n      if (options.addErrorContext) {\n        addErrorContext(item);\n      }\n    } catch (e) {\n      logger.error('Error while parsing the error object.', e);\n      try {\n        item.message =\n          item.err.message ||\n          item.err.description ||\n          item.message ||\n          String(item.err);\n      } catch (e2) {\n        item.message = String(item.err) || String(e2);\n      }\n      delete item.err;\n    }\n  }\n  callback(null, item);\n}\n\nfunction addErrorContext(item) {\n  var chain = [];\n  var err = item.err;\n\n  chain.push(err);\n\n  while (err.nested || err.cause) {\n    err = err.nested || err.cause;\n    chain.push(err);\n  }\n\n  _.addErrorContext(item, chain);\n}\n\nfunction ensureItemHasSomethingToSay(item, options, callback) {\n  if (!item.message && !item.stackInfo && !item.custom) {\n    callback(new Error('No message, stack info, or custom data'), null);\n  }\n  callback(null, item);\n}\n\nfunction addBaseInfo(item, options, callback) {\n  var environment =\n    (options.payload && options.payload.environment) || options.environment;\n  item.data = _.merge(item.data, {\n    environment: environment,\n    level: item.level,\n    endpoint: options.endpoint,\n    platform: 'browser',\n    framework: 'browser-js',\n    language: 'javascript',\n    server: {},\n    uuid: item.uuid,\n    notifier: {\n      name: 'rollbar-browser-js',\n      version: options.version,\n    },\n    custom: item.custom,\n  });\n  callback(null, item);\n}\n\nfunction addRequestInfo(window) {\n  return function (item, options, callback) {\n    var requestInfo = {};\n\n    if (window && window.location) {\n      requestInfo.url = window.location.href;\n      requestInfo.query_string = window.location.search;\n    }\n\n    var remoteString = '$remote_ip';\n    if (!options.captureIp) {\n      remoteString = null;\n    } else if (options.captureIp !== true) {\n      remoteString += '_anonymize';\n    }\n    if (remoteString) requestInfo.user_ip = remoteString;\n\n    if (Object.keys(requestInfo).length > 0) {\n      _.set(item, 'data.request', requestInfo);\n    }\n\n    callback(null, item);\n  };\n}\n\nfunction addClientInfo(window) {\n  return function (item, options, callback) {\n    if (!window) {\n      return callback(null, item);\n    }\n    var nav = window.navigator || {};\n    var scr = window.screen || {};\n    _.set(item, 'data.client', {\n      runtime_ms: item.timestamp - window._rollbarStartTime,\n      timestamp: Math.round(item.timestamp / 1000),\n      javascript: {\n        browser: nav.userAgent,\n        language: nav.language,\n        cookie_enabled: nav.cookieEnabled,\n        screen: {\n          width: scr.width,\n          height: scr.height,\n        },\n      },\n    });\n    callback(null, item);\n  };\n}\n\nfunction addPluginInfo(window) {\n  return function (item, options, callback) {\n    if (!window || !window.navigator) {\n      return callback(null, item);\n    }\n    var plugins = [];\n    var navPlugins = window.navigator.plugins || [];\n    var cur;\n    for (var i = 0, l = navPlugins.length; i < l; ++i) {\n      cur = navPlugins[i];\n      plugins.push({ name: cur.name, description: cur.description });\n    }\n    _.set(item, 'data.client.javascript.plugins', plugins);\n    callback(null, item);\n  };\n}\n\nfunction addBody(item, options, callback) {\n  if (item.stackInfo) {\n    if (item.stackInfo.traceChain) {\n      addBodyTraceChain(item, options, callback);\n    } else {\n      addBodyTrace(item, options, callback);\n    }\n  } else {\n    addBodyMessage(item, options, callback);\n  }\n}\n\nfunction addBodyMessage(item, options, callback) {\n  var message = item.message;\n  var custom = item.custom;\n\n  if (!message) {\n    message = 'Item sent with null or missing arguments.';\n  }\n  var result = {\n    body: message,\n  };\n\n  if (custom) {\n    result.extra = _.merge(custom);\n  }\n\n  _.set(item, 'data.body', { message: result });\n  callback(null, item);\n}\n\nfunction stackFromItem(item) {\n  // Transform a TraceKit stackInfo object into a Rollbar trace\n  var stack = item.stackInfo.stack;\n  if (\n    stack &&\n    stack.length === 0 &&\n    item._unhandledStackInfo &&\n    item._unhandledStackInfo.stack\n  ) {\n    stack = item._unhandledStackInfo.stack;\n  }\n  return stack;\n}\n\nfunction addBodyTraceChain(item, options, callback) {\n  var traceChain = item.stackInfo.traceChain;\n  var traces = [];\n\n  var traceChainLength = traceChain.length;\n  for (var i = 0; i < traceChainLength; i++) {\n    var trace = buildTrace(item, traceChain[i], options);\n    traces.push(trace);\n  }\n\n  _.set(item, 'data.body', { trace_chain: traces });\n  callback(null, item);\n}\n\nfunction addBodyTrace(item, options, callback) {\n  var stack = stackFromItem(item);\n\n  if (stack) {\n    var trace = buildTrace(item, item.stackInfo, options);\n    _.set(item, 'data.body', { trace: trace });\n    callback(null, item);\n  } else {\n    var stackInfo = item.stackInfo;\n    var guess = errorParser.guessErrorClass(stackInfo.message);\n    var className = errorClass(stackInfo, guess[0], options);\n    var message = guess[1];\n\n    item.message = className + ': ' + message;\n    addBodyMessage(item, options, callback);\n  }\n}\n\nfunction buildTrace(item, stackInfo, options) {\n  var description = item && item.data.description;\n  var custom = item && item.custom;\n  var stack = stackFromItem(item);\n\n  var guess = errorParser.guessErrorClass(stackInfo.message);\n  var className = errorClass(stackInfo, guess[0], options);\n  var message = guess[1];\n  var trace = {\n    exception: {\n      class: className,\n      message: message,\n    },\n  };\n\n  if (description) {\n    trace.exception.description = description;\n  }\n\n  if (stack) {\n    if (stack.length === 0) {\n      trace.exception.stack = stackInfo.rawStack;\n      trace.exception.raw = String(stackInfo.rawException);\n    }\n    var stackFrame;\n    var frame;\n    var code;\n    var pre;\n    var post;\n    var contextLength;\n    var i, mid;\n\n    trace.frames = [];\n    for (i = 0; i < stack.length; ++i) {\n      stackFrame = stack[i];\n      frame = {\n        filename: stackFrame.url ? _.sanitizeUrl(stackFrame.url) : '(unknown)',\n        lineno: stackFrame.line || null,\n        method:\n          !stackFrame.func || stackFrame.func === '?'\n            ? '[anonymous]'\n            : stackFrame.func,\n        colno: stackFrame.column,\n      };\n      if (options.sendFrameUrl) {\n        frame.url = stackFrame.url;\n      }\n      if (\n        frame.method &&\n        frame.method.endsWith &&\n        frame.method.endsWith('_rollbar_wrapped')\n      ) {\n        continue;\n      }\n\n      code = pre = post = null;\n      contextLength = stackFrame.context ? stackFrame.context.length : 0;\n      if (contextLength) {\n        mid = Math.floor(contextLength / 2);\n        pre = stackFrame.context.slice(0, mid);\n        code = stackFrame.context[mid];\n        post = stackFrame.context.slice(mid);\n      }\n\n      if (code) {\n        frame.code = code;\n      }\n\n      if (pre || post) {\n        frame.context = {};\n        if (pre && pre.length) {\n          frame.context.pre = pre;\n        }\n        if (post && post.length) {\n          frame.context.post = post;\n        }\n      }\n\n      if (stackFrame.args) {\n        frame.args = stackFrame.args;\n      }\n\n      trace.frames.push(frame);\n    }\n\n    // NOTE(cory): reverse the frames since rollbar.com expects the most recent call last\n    trace.frames.reverse();\n\n    if (custom) {\n      trace.extra = _.merge(custom);\n    }\n  }\n\n  return trace;\n}\n\nfunction errorClass(stackInfo, guess, options) {\n  if (stackInfo.name) {\n    return stackInfo.name;\n  } else if (options.guessErrorClass) {\n    return guess;\n  } else {\n    return '(unknown)';\n  }\n}\n\nfunction addScrubber(scrubFn) {\n  return function (item, options, callback) {\n    if (scrubFn) {\n      var scrubFields = options.scrubFields || [];\n      var scrubPaths = options.scrubPaths || [];\n      item.data = scrubFn(item.data, scrubFields, scrubPaths);\n    }\n    callback(null, item);\n  };\n}\n\nexport {\n  handleDomException,\n  handleItemWithError,\n  ensureItemHasSomethingToSay,\n  addBaseInfo,\n  addRequestInfo,\n  addClientInfo,\n  addPluginInfo,\n  addBody,\n  addScrubber,\n};\n","import * as _ from './utility.js';\n\nfunction itemToPayload(item, options, callback) {\n  if (item._isUncaught) {\n    item.data._isUncaught = true;\n  }\n  if (item._originalArgs) {\n    item.data._originalArgs = item._originalArgs;\n  }\n  callback(null, item);\n}\n\nfunction addPayloadOptions(item, options, callback) {\n  var payloadOptions = options.payload || {};\n  if (payloadOptions.body) {\n    delete payloadOptions.body;\n  }\n\n  item.data = _.merge(item.data, payloadOptions);\n  callback(null, item);\n}\n\nfunction addTelemetryData(item, options, callback) {\n  if (item.telemetryEvents) {\n    _.set(item, 'data.body.telemetry', item.telemetryEvents);\n  }\n  callback(null, item);\n}\n\nfunction addMessageWithError(item, options, callback) {\n  if (!item.message) {\n    callback(null, item);\n    return;\n  }\n  var tracePath = 'data.body.trace_chain.0';\n  var trace = _.get(item, tracePath);\n  if (!trace) {\n    tracePath = 'data.body.trace';\n    trace = _.get(item, tracePath);\n  }\n  if (trace) {\n    if (!(trace.exception && trace.exception.description)) {\n      _.set(item, tracePath + '.exception.description', item.message);\n      callback(null, item);\n      return;\n    }\n    var extra = _.get(item, tracePath + '.extra') || {};\n    var newExtra = _.merge(extra, { message: item.message });\n    _.set(item, tracePath + '.extra', newExtra);\n  }\n  callback(null, item);\n}\n\nfunction userTransform(logger) {\n  return function (item, options, callback) {\n    var newItem = _.merge(item);\n    var response = null;\n    try {\n      if (_.isFunction(options.transform)) {\n        response = options.transform(newItem.data, item);\n      }\n    } catch (e) {\n      options.transform = null;\n      logger.error(\n        'Error while calling custom transform() function. Removing custom transform().',\n        e,\n      );\n      callback(null, item);\n      return;\n    }\n    if (_.isPromise(response)) {\n      response.then(\n        function (promisedItem) {\n          if (promisedItem) {\n            newItem.data = promisedItem;\n          }\n          callback(null, newItem);\n        },\n        function (error) {\n          callback(error, item);\n        },\n      );\n    } else {\n      callback(null, newItem);\n    }\n  };\n}\n\nfunction addConfigToPayload(item, options, callback) {\n  if (!options.sendConfig) {\n    return callback(null, item);\n  }\n  var configKey = '_rollbarConfig';\n  var custom = _.get(item, 'data.custom') || {};\n  custom[configKey] = options;\n  item.data.custom = custom;\n  callback(null, item);\n}\n\nfunction addFunctionOption(options, name) {\n  if (_.isFunction(options[name])) {\n    options[name] = options[name].toString();\n  }\n}\n\nfunction addConfiguredOptions(item, options, callback) {\n  var configuredOptions = options._configuredOptions;\n\n  // These must be stringified or they'll get dropped during serialization.\n  addFunctionOption(configuredOptions, 'transform');\n  addFunctionOption(configuredOptions, 'checkIgnore');\n  addFunctionOption(configuredOptions, 'onSendCallback');\n\n  delete configuredOptions.accessToken;\n  item.data.notifier.configured_options = configuredOptions;\n  callback(null, item);\n}\n\nfunction addDiagnosticKeys(item, options, callback) {\n  var diagnostic = _.merge(\n    item.notifier.client.notifier.diagnostic,\n    item.diagnostic,\n  );\n\n  if (_.get(item, 'err._isAnonymous')) {\n    diagnostic.is_anonymous = true;\n  }\n\n  if (item._isUncaught) {\n    diagnostic.is_uncaught = item._isUncaught;\n  }\n\n  if (item.err) {\n    try {\n      diagnostic.raw_error = {\n        message: item.err.message,\n        name: item.err.name,\n        constructor_name: item.err.constructor && item.err.constructor.name,\n        filename: item.err.fileName,\n        line: item.err.lineNumber,\n        column: item.err.columnNumber,\n        stack: item.err.stack,\n      };\n    } catch (e) {\n      diagnostic.raw_error = { failed: String(e) };\n    }\n  }\n\n  item.data.notifier.diagnostic = _.merge(\n    item.data.notifier.diagnostic,\n    diagnostic,\n  );\n  callback(null, item);\n}\n\nexport {\n  itemToPayload,\n  addPayloadOptions,\n  addTelemetryData,\n  addMessageWithError,\n  userTransform,\n  addConfigToPayload,\n  addConfiguredOptions,\n  addDiagnosticKeys,\n};\n","import * as _ from '../utility.js';\n\nfunction checkIgnore(item, settings) {\n  if (_.get(settings, 'plugins.jquery.ignoreAjaxErrors')) {\n    return !_.get(item, 'body.message.extra.isAjax');\n  }\n  return true;\n}\n\nexport { checkIgnore };\n","import * as _ from './utility.js';\n\nfunction checkLevel(item, settings) {\n  var level = item.level;\n  var levelVal = _.LEVELS[level] || 0;\n  var reportLevel = settings.reportLevel;\n  var reportLevelVal = _.LEVELS[reportLevel] || 0;\n\n  if (levelVal < reportLevelVal) {\n    return false;\n  }\n  return true;\n}\n\nfunction userCheckIgnore(logger) {\n  return function (item, settings) {\n    var isUncaught = !!item._isUncaught;\n    delete item._isUncaught;\n    var args = item._originalArgs;\n    delete item._originalArgs;\n    try {\n      if (_.isFunction(settings.onSendCallback)) {\n        settings.onSendCallback(isUncaught, args, item);\n      }\n    } catch (e) {\n      settings.onSendCallback = null;\n      logger.error('Error while calling onSendCallback, removing', e);\n    }\n    try {\n      if (\n        _.isFunction(settings.checkIgnore) &&\n        settings.checkIgnore(isUncaught, args, item)\n      ) {\n        return false;\n      }\n    } catch (e) {\n      settings.checkIgnore = null;\n      logger.error('Error while calling custom checkIgnore(), removing', e);\n    }\n    return true;\n  };\n}\n\nfunction urlIsNotBlockListed(logger) {\n  return function (item, settings) {\n    return !urlIsOnAList(item, settings, 'blocklist', logger);\n  };\n}\n\nfunction urlIsSafeListed(logger) {\n  return function (item, settings) {\n    return urlIsOnAList(item, settings, 'safelist', logger);\n  };\n}\n\nfunction matchFrames(trace, list, block) {\n  if (!trace) {\n    return !block;\n  }\n\n  var frames = trace.frames;\n\n  if (!frames || frames.length === 0) {\n    return !block;\n  }\n\n  var frame, filename, url, urlRegex;\n  var listLength = list.length;\n  var frameLength = frames.length;\n  for (var i = 0; i < frameLength; i++) {\n    frame = frames[i];\n    filename = frame.filename;\n\n    if (!_.isType(filename, 'string')) {\n      return !block;\n    }\n\n    for (var j = 0; j < listLength; j++) {\n      url = list[j];\n      urlRegex = new RegExp(url);\n\n      if (urlRegex.test(filename)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction urlIsOnAList(item, settings, safeOrBlock, logger) {\n  // safelist is the default\n  var block = false;\n  if (safeOrBlock === 'blocklist') {\n    block = true;\n  }\n\n  var list, traces;\n  try {\n    list = block ? settings.hostBlockList : settings.hostSafeList;\n    traces = _.get(item, 'body.trace_chain') || [_.get(item, 'body.trace')];\n\n    // These two checks are important to come first as they are defaults\n    // in case the list is missing or the trace is missing or not well-formed\n    if (!list || list.length === 0) {\n      return !block;\n    }\n    if (traces.length === 0 || !traces[0]) {\n      return !block;\n    }\n\n    var tracesLength = traces.length;\n    for (var i = 0; i < tracesLength; i++) {\n      if (matchFrames(traces[i], list, block)) {\n        return true;\n      }\n    }\n  } catch (\n    e\n    /* istanbul ignore next */\n  ) {\n    if (block) {\n      settings.hostBlockList = null;\n    } else {\n      settings.hostSafeList = null;\n    }\n    var listName = block ? 'hostBlockList' : 'hostSafeList';\n    logger.error(\n      \"Error while reading your configuration's \" +\n        listName +\n        ' option. Removing custom ' +\n        listName +\n        '.',\n      e,\n    );\n    return !block;\n  }\n  return false;\n}\n\nfunction messageIsIgnored(logger) {\n  return function (item, settings) {\n    var i, j, ignoredMessages, len, messageIsIgnored, rIgnoredMessage, messages;\n\n    try {\n      messageIsIgnored = false;\n      ignoredMessages = settings.ignoredMessages;\n\n      if (!ignoredMessages || ignoredMessages.length === 0) {\n        return true;\n      }\n\n      messages = messagesFromItem(item);\n\n      if (messages.length === 0) {\n        return true;\n      }\n\n      len = ignoredMessages.length;\n      for (i = 0; i < len; i++) {\n        rIgnoredMessage = new RegExp(ignoredMessages[i], 'gi');\n\n        for (j = 0; j < messages.length; j++) {\n          messageIsIgnored = rIgnoredMessage.test(messages[j]);\n\n          if (messageIsIgnored) {\n            return false;\n          }\n        }\n      }\n    } catch (\n      e\n      /* istanbul ignore next */\n    ) {\n      settings.ignoredMessages = null;\n      logger.error(\n        \"Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.\",\n      );\n    }\n\n    return true;\n  };\n}\n\nfunction messagesFromItem(item) {\n  var body = item.body;\n  var messages = [];\n\n  // The payload schema only allows one of trace_chain, message, or trace.\n  // However, existing test cases are based on having both trace and message present.\n  // So here we preserve the ability to collect strings from any combination of these keys.\n  if (body.trace_chain) {\n    var traceChain = body.trace_chain;\n    for (var i = 0; i < traceChain.length; i++) {\n      var trace = traceChain[i];\n      messages.push(_.get(trace, 'exception.message'));\n    }\n  }\n  if (body.trace) {\n    messages.push(_.get(body, 'trace.exception.message'));\n  }\n  if (body.message) {\n    messages.push(_.get(body, 'message.body'));\n  }\n  return messages;\n}\n\nexport {\n  checkLevel,\n  userCheckIgnore,\n  urlIsNotBlockListed,\n  urlIsSafeListed,\n  messageIsIgnored,\n};\n","/**\n * Default session replay recording options\n * See https://github.com/rrweb-io/rrweb/blob/master/guide.md#options for details\n */\nexport default {\n  enabled: false, // Whether recording is enabled\n  autoStart: true, // Start recording automatically when Rollbar initializes\n\n  // defaults used by triggers that don't specify them\n  triggerDefaults: {\n    samplingRatio: 1.0,\n    preDuration: 300,\n    postDuration: 5,\n  },\n  triggers: [\n    {\n      type: 'occurrence',\n      level: ['error', 'critical'],\n    },\n  ],\n\n  debug: {\n    logErrors: true, // Whether to log errors emitted by rrweb.\n    logEmits: false, // Whether to log emitted events\n  },\n\n  // Recording options\n  inlineStylesheet: true, // Whether to inline stylesheets to improve replay accuracy\n  inlineImages: false, // Whether to record the image content\n  collectFonts: true, // Whether to collect fonts in the website\n\n  // Privacy options\n  // Fine-grained control over which input types to mask\n  // By default only password inputs are masked if maskInputs is true\n  maskInputOptions: {\n    password: true,\n    email: false,\n    tel: false,\n    text: false,\n    color: false,\n    date: false,\n    'datetime-local': false,\n    month: false,\n    number: false,\n    range: false,\n    search: false,\n    time: false,\n    url: false,\n    week: false,\n  },\n\n  // Mask all input values\n  maskAllInputs: false,\n\n  // Class names to block, mask, or ignore the content of elements.\n  blockClass: 'rb-block',\n  maskTextClass: 'rb-mask',\n  ignoreClass: 'rb-ignore',\n\n  // Remove unnecessary parts of the DOM\n  // By default all removable elements are removed\n  slimDOMOptions: {\n    script: true, // Remove script elements\n    comment: true, // Remove comments\n    headFavicon: true, // Remove favicons in the head\n    headWhitespace: true, // Remove whitespace in head\n    headMetaDescKeywords: true, // Remove meta description and keywords\n    headMetaSocial: true, // Remove social media meta tags\n    headMetaRobots: true, // Remove robots meta directives\n    headMetaHttpEquiv: true, // Remove http-equiv meta directives\n    headMetaAuthorship: true, // Remove authorship meta directives\n    headMetaVerification: true, // Remove verification meta directives\n  },\n\n  // Custom callbacks for advanced use cases\n  // These are undefined by default and can be set programmatically\n  // maskInputFn: undefined,      // Custom function to mask input values\n  // maskTextFn: undefined,       // Custom function to mask text content\n  // errorHandler: undefined,     // Custom error handler for recording errors\n\n  // Plugin system\n  // plugins: []                  // List of plugins to use (must be set programmatically)\n};\n","/**\n * Default tracing options\n */\nexport default {\n  enabled: false,\n  endpoint: 'api.rollbar.com/api/1/session/',\n};\n","/**\n * Default options shared across platforms\n */\nexport const version = '3.0.0-rc.1';\nexport const endpoint = 'api.rollbar.com/api/1/item/';\nexport const logLevel = 'debug';\nexport const reportLevel = 'debug';\nexport const uncaughtErrorLevel = 'error';\nexport const maxItems = 0;\nexport const itemsPerMin = 60;\n\nexport const commonScrubFields = [\n  'pw',\n  'pass',\n  'passwd',\n  'password',\n  'secret',\n  'confirm_password',\n  'confirmPassword',\n  'password_confirmation',\n  'passwordConfirmation',\n  'access_token',\n  'accessToken',\n  'X-Rollbar-Access-Token',\n  'secret_key',\n  'secretKey',\n  'secretToken',\n];\n\nexport const apiScrubFields = [\n  'api_key',\n  'authenticity_token',\n  'oauth_token',\n  'token',\n  'user_session_secret',\n];\n\nexport const requestScrubFields = [\n  'request.session.csrf',\n  'request.session._csrf',\n  'request.params._csrf',\n  'request.cookie',\n  'request.cookies',\n];\n\nexport const commonScrubHeaders = [\n  'authorization',\n  'www-authorization',\n  'http_authorization',\n  'omniauth.auth',\n  'cookie',\n  'oauth-access-token',\n  'x-access-token',\n  'x_csrf_token',\n  'http_x_csrf_token',\n  'x-csrf-token',\n];\n\n// For backward compatibility with default export\nexport default {\n  version,\n  endpoint,\n  logLevel,\n  reportLevel,\n  uncaughtErrorLevel,\n  maxItems,\n  itemsPerMin,\n};\n","/**\n * Default browser options\n */\nimport { commonScrubFields } from '../defaults.js';\n\nexport const scrubFields = [\n  ...commonScrubFields,\n  'cc-number',\n  'card number',\n  'cardnumber',\n  'cardnum',\n  'ccnum',\n  'ccnumber',\n  'cc num',\n  'creditcardnumber',\n  'credit card number',\n  'newcreditcardnumber',\n  'new credit card',\n  'creditcardno',\n  'credit card no',\n  'card#',\n  'card #',\n  'cc-csc',\n  'cvc',\n  'cvc2',\n  'cvv2',\n  'ccv2',\n  'security code',\n  'card verification',\n  'name on credit card',\n  'name on card',\n  'nameoncard',\n  'cardholder',\n  'card holder',\n  'name des karteninhabers',\n  'ccname',\n  'card type',\n  'cardtype',\n  'cc type',\n  'cctype',\n  'payment type',\n  'expiration date',\n  'expirationdate',\n  'expdate',\n  'cc-exp',\n  'ccmonth',\n  'ccyear',\n];\n\n// For compatibility with existing code that expects default export with scrubFields property\nexport default { scrubFields };\n","import Client from '../rollbar.js';\nimport * as _ from '../utility.js';\nimport API from '../api.js';\nimport logger from '../logger.js';\nimport * as globals from './globalSetup.js';\n\nimport Transport from './transport.js';\nimport * as urllib from './url.js';\n\nimport * as transforms from './transforms.js';\nimport * as sharedTransforms from '../transforms.js';\nimport * as predicates from './predicates.js';\nimport * as sharedPredicates from '../predicates.js';\nimport errorParser from '../errorParser.js';\nimport replayDefaults from './replay/defaults.js';\nimport tracingDefaults from '../tracing/defaults.js';\n\n// Used to support global `Rollbar` instance.\nlet _instance = null;\n\nclass Rollbar {\n  constructor(options, client) {\n    logger.init({ logLevel: options.logLevel || 'error' });\n    this.options = _.handleOptions(defaultOptions, options, null, logger);\n    this.options._configuredOptions = options;\n    this.components = this.components || {};\n    const Telemeter = this.components.telemeter;\n    const Instrumenter = this.components.instrumenter;\n    this.wrapGlobals = this.components.wrapGlobals;\n    this.scrub = this.components.scrub;\n    const truncation = this.components.truncation;\n    const Tracing = this.components.tracing;\n    const Replay = this.components.replay;\n\n    const transport = new Transport(truncation);\n    const api = new API(this.options, transport, urllib, truncation);\n    if (Tracing) {\n      this.tracing = new Tracing(_gWindow(), api, this.options);\n      this.tracing.initSession();\n    }\n    if (Telemeter) {\n      this.telemeter = new Telemeter(this.options, this.tracing);\n    }\n\n    if (Replay && _.isBrowser()) {\n      const replayOptions = this.options.replay;\n      this.replay = new Replay({\n        tracing: this.tracing,\n        telemeter: this.telemeter,\n        options: replayOptions,\n      });\n\n      if (replayOptions.enabled && replayOptions.autoStart) {\n        this.replay.recorder.start();\n      }\n    }\n\n    this.client =\n      client ||\n      new Client(\n        this.options,\n        api,\n        logger,\n        this.telemeter,\n        this.tracing,\n        this.replay,\n        'browser',\n      );\n    var gWindow = _gWindow();\n    var gDocument = typeof document != 'undefined' && document;\n    this.isChrome = gWindow.chrome && gWindow.chrome.runtime; // check .runtime to avoid Edge browsers\n    this.anonymousErrorsPending = 0;\n    addTransformsToNotifier(this.client.notifier, this, gWindow);\n    addPredicatesToQueue(this.client.queue);\n    this.setupUnhandledCapture();\n    if (Instrumenter) {\n      this.instrumenter = new Instrumenter(\n        this.options,\n        this.client.telemeter,\n        this,\n        gWindow,\n        gDocument,\n      );\n      this.instrumenter.instrument();\n    }\n\n    this.setSessionAttributesFromOptions(options);\n\n    // Used with rollbar-react for rollbar-react-native compatibility.\n    this.rollbar = this;\n  }\n\n  static init(options, client) {\n    if (_instance) {\n      return _instance.global(options).configure(options);\n    }\n    _instance = new Rollbar(options, client);\n    return _instance;\n  }\n\n  static setComponents(components) {\n    Rollbar.prototype.components = components;\n  }\n\n  global(options) {\n    this.client.global(options);\n    return this;\n  }\n\n  configure(options, payloadData) {\n    if (options.logLevel) {\n      logger.init({ logLevel: options.logLevel });\n    }\n    this.setSessionAttributesFromOptions(options);\n    var oldOptions = this.options;\n    var payload = {};\n    if (payloadData) {\n      payload = { payload: payloadData };\n    }\n\n    this.options = _.handleOptions(oldOptions, options, payload, logger);\n    this.options._configuredOptions = _.handleOptions(\n      oldOptions._configuredOptions,\n      options,\n      payload,\n    );\n\n    this.tracing?.configure(this.options);\n    this.replay?.configure(this.options.replay);\n    this.client.configure(this.options, payloadData);\n    this.instrumenter?.configure(this.options);\n    this.setupUnhandledCapture();\n    return this;\n  }\n\n  lastError() {\n    return this.client.lastError;\n  }\n\n  log() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.log(item);\n    return { uuid: uuid };\n  }\n\n  debug() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.debug(item);\n    return { uuid: uuid };\n  }\n\n  info() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.info(item);\n    return { uuid: uuid };\n  }\n\n  warn() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.warn(item);\n    return { uuid: uuid };\n  }\n\n  warning() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.warning(item);\n    return { uuid: uuid };\n  }\n\n  error() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.error(item);\n    return { uuid: uuid };\n  }\n\n  critical() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.critical(item);\n    return { uuid: uuid };\n  }\n\n  buildJsonPayload(item) {\n    return this.client.buildJsonPayload(item);\n  }\n\n  sendJsonPayload(jsonPayload) {\n    return this.client.sendJsonPayload(jsonPayload);\n  }\n\n  triggerDirectReplay(context) {\n    return this.triggerReplay({ type: 'direct', ...context });\n  }\n\n  triggerReplay(context) {\n    if (!this.replay) return null;\n\n    return this.replay.triggerReplay(context);\n  }\n\n  setupUnhandledCapture() {\n    var gWindow = _gWindow();\n\n    if (!this.unhandledExceptionsInitialized) {\n      if (\n        this.options.captureUncaught ||\n        this.options.handleUncaughtExceptions\n      ) {\n        globals.captureUncaughtExceptions(gWindow, this);\n        if (this.wrapGlobals && this.options.wrapGlobalEventHandlers) {\n          this.wrapGlobals(gWindow, this);\n        }\n        this.unhandledExceptionsInitialized = true;\n      }\n    }\n    if (!this.unhandledRejectionsInitialized) {\n      if (\n        this.options.captureUnhandledRejections ||\n        this.options.handleUnhandledRejections\n      ) {\n        globals.captureUnhandledRejections(gWindow, this);\n        this.unhandledRejectionsInitialized = true;\n      }\n    }\n  }\n\n  handleUncaughtException(message, url, lineno, colno, error, context) {\n    if (\n      !this.options.captureUncaught &&\n      !this.options.handleUncaughtExceptions\n    ) {\n      return;\n    }\n\n    // Chrome will always send 5+ arguments and error will be valid or null, not undefined.\n    // If error is undefined, we have a different caller.\n    // Chrome also sends errors from web workers with null error, but does not invoke\n    // prepareStackTrace() for these. Test for empty url to skip them.\n    if (\n      this.options.inspectAnonymousErrors &&\n      this.isChrome &&\n      error === null &&\n      url === ''\n    ) {\n      return 'anonymous';\n    }\n\n    var item;\n    var stackInfo = _.makeUnhandledStackInfo(\n      message,\n      url,\n      lineno,\n      colno,\n      error,\n      'onerror',\n      'uncaught exception',\n      errorParser,\n    );\n    if (_.isError(error)) {\n      item = this._createItem([message, error, context]);\n      item._unhandledStackInfo = stackInfo;\n    } else if (_.isError(url)) {\n      item = this._createItem([message, url, context]);\n      item._unhandledStackInfo = stackInfo;\n    } else {\n      item = this._createItem([message, context]);\n      item.stackInfo = stackInfo;\n    }\n    item.level = this.options.uncaughtErrorLevel;\n    item._isUncaught = true;\n    this.client.log(item);\n  }\n\n  /**\n   * Chrome only. Other browsers will ignore.\n   *\n   * Use Error.prepareStackTrace to extract information about errors that\n   * do not have a valid error object in onerror().\n   *\n   * In tested version of Chrome, onerror is called first but has no way\n   * to communicate with prepareStackTrace. Use a counter to let this\n   * handler know which errors to send to Rollbar.\n   *\n   * In config options, set inspectAnonymousErrors to enable.\n   */\n  handleAnonymousErrors() {\n    if (!this.options.inspectAnonymousErrors || !this.isChrome) {\n      return;\n    }\n\n    var r = this;\n    function prepareStackTrace(error, _stack) {\n      if (r.options.inspectAnonymousErrors) {\n        if (r.anonymousErrorsPending) {\n          // This is the only known way to detect that onerror saw an anonymous error.\n          // It depends on onerror reliably being called before Error.prepareStackTrace,\n          // which so far holds true on tested versions of Chrome. If versions of Chrome\n          // are tested that behave differently, this logic will need to be updated\n          // accordingly.\n          r.anonymousErrorsPending -= 1;\n\n          if (!error) {\n            // Not likely to get here, but calling handleUncaughtException from here\n            // without an error object would throw off the anonymousErrorsPending counter,\n            // so return now.\n            return;\n          }\n\n          // Allow this to be tracked later.\n          error._isAnonymous = true;\n\n          // url, lineno, colno shouldn't be needed for these errors.\n          // If that changes, update this accordingly, using the unused\n          // _stack param as needed (rather than parse error.toString()).\n          r.handleUncaughtException(error.message, null, null, null, error);\n        }\n      }\n\n      // Workaround to ensure stack is preserved for normal errors.\n      return error.stack;\n    }\n\n    // https://v8.dev/docs/stack-trace-api\n    try {\n      Error.prepareStackTrace = prepareStackTrace;\n    } catch (e) {\n      this.options.inspectAnonymousErrors = false;\n      this.error('anonymous error handler failed', e);\n    }\n  }\n\n  handleUnhandledRejection(reason, promise) {\n    if (\n      !this.options.captureUnhandledRejections &&\n      !this.options.handleUnhandledRejections\n    ) {\n      return;\n    }\n\n    var message = 'unhandled rejection was null or undefined!';\n    if (reason) {\n      if (reason.message) {\n        message = reason.message;\n      } else {\n        var reasonResult = _.stringify(reason);\n        if (reasonResult.value) {\n          message = reasonResult.value;\n        }\n      }\n    }\n    var context =\n      (reason && reason._rollbarContext) ||\n      (promise && promise._rollbarContext);\n\n    var item;\n    if (_.isError(reason)) {\n      item = this._createItem([message, reason, context]);\n    } else {\n      item = this._createItem([message, reason, context]);\n      item.stackInfo = _.makeUnhandledStackInfo(\n        message,\n        '',\n        0,\n        0,\n        null,\n        'unhandledrejection',\n        '',\n        errorParser,\n      );\n    }\n    item.level = this.options.uncaughtErrorLevel;\n    item._isUncaught = true;\n    item._originalArgs = item._originalArgs || [];\n    item._originalArgs.push(promise);\n    this.client.log(item);\n  }\n\n  wrap(f, context, _before) {\n    try {\n      var ctxFn;\n      if (_.isFunction(context)) {\n        ctxFn = context;\n      } else {\n        ctxFn = function () {\n          return context || {};\n        };\n      }\n\n      if (!_.isFunction(f)) {\n        return f;\n      }\n\n      if (f._isWrap) {\n        return f;\n      }\n\n      if (!f._rollbar_wrapped) {\n        f._rollbar_wrapped = function () {\n          if (_before && _.isFunction(_before)) {\n            _before.apply(this, arguments);\n          }\n          try {\n            return f.apply(this, arguments);\n          } catch (exc) {\n            var e = exc;\n            if (e && window._rollbarWrappedError !== e) {\n              if (_.isType(e, 'string')) {\n                e = new String(e);\n              }\n              e._rollbarContext = ctxFn() || {};\n              e._rollbarContext._wrappedSource = f.toString();\n\n              window._rollbarWrappedError = e;\n            }\n            throw e;\n          }\n        };\n\n        f._rollbar_wrapped._isWrap = true;\n\n        if (f.hasOwnProperty) {\n          for (var prop in f) {\n            if (f.hasOwnProperty(prop) && prop !== '_rollbar_wrapped') {\n              f._rollbar_wrapped[prop] = f[prop];\n            }\n          }\n        }\n      }\n\n      return f._rollbar_wrapped;\n    } catch (e) {\n      // Return the original function if the wrap fails.\n      return f;\n    }\n  }\n\n  captureEvent() {\n    var event = _.createTelemetryEvent(arguments);\n    return this.client.captureEvent(event.type, event.metadata, event.level);\n  }\n\n  setSessionUser(user) {\n    if (!this.tracing?.session) return;\n\n    this.tracing.session.setUser(user);\n  }\n\n  setSessionAttributes(attrs) {\n    if (!this.tracing?.session) return;\n\n    attrs = { ...attrs };\n\n    this.tracing.session.setAttributes(attrs);\n  }\n\n  setSessionAttributesFromOptions(options) {\n    const person = options.person || options.payload?.person;\n    if (person) {\n      this.setSessionUser(person);\n    }\n    const code_version =\n      options.client?.javascript?.code_version ||\n      options.codeVersion ||\n      options.code_version ||\n      options.payload?.client?.javascript?.code_version ||\n      options.payload?.code_version ||\n      options.payload?.codeVersion;\n    this.setSessionAttributes({\n      'rollbar.codeVersion': code_version,\n      'rollbar.notifier.name': 'rollbar-browser-js',\n      'rollbar.notifier.version': options.version,\n    });\n  }\n\n  // The following two methods are used internally and are not meant for public use\n  captureDomContentLoaded(e, ts) {\n    if (!ts) {\n      ts = new Date();\n    }\n    return this.client.captureDomContentLoaded(ts);\n  }\n\n  captureLoad(e, ts) {\n    if (!ts) {\n      ts = new Date();\n    }\n    return this.client.captureLoad(ts);\n  }\n\n  loadFull() {\n    logger.info(\n      'Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.',\n    );\n  }\n\n  _createItem(args) {\n    return _.createItem(args, logger, this);\n  }\n\n  // Static version of instance methods support the legacy pattern of a\n  // global `Rollbar` instance, where after calling `Rollbar.init()`,\n  // `Rollbar` can be used as if it were an instance.\n  // If support for this pattern is dropped, these static methods can be removed.\n  static callInstance(method, args) {\n    if (!_instance) {\n      const message = 'Rollbar is not initialized';\n      logger.error(message);\n      const maybeCallback = _getFirstFunction(args);\n      if (maybeCallback) {\n        maybeCallback(new Error(message));\n      }\n      return;\n    }\n    return _instance[method].apply(_instance, args);\n  }\n\n  static global = (...args) => Rollbar.callInstance('global', args);\n  static configure = (...args) => Rollbar.callInstance('configure', args);\n  static lastError = (...args) => Rollbar.callInstance('lastError', args);\n  static log = (...args) => Rollbar.callInstance('log', args);\n  static debug = (...args) => Rollbar.callInstance('debug', args);\n  static info = (...args) => Rollbar.callInstance('info', args);\n  static warn = (...args) => Rollbar.callInstance('warn', args);\n  static warning = (...args) => Rollbar.callInstance('warning', args);\n  static error = (...args) => Rollbar.callInstance('error', args);\n  static critical = (...args) => Rollbar.callInstance('critical', args);\n  static buildJsonPayload = (...args) =>\n    Rollbar.callInstance('buildJsonPayload', args);\n  static sendJsonPayload = (...args) =>\n    Rollbar.callInstance('sendJsonPayload', args);\n  static wrap = (...args) => Rollbar.callInstance('wrap', args);\n  static captureEvent = (...args) => Rollbar.callInstance('captureEvent', args);\n}\n\n/* Internal */\n\nfunction addTransformsToNotifier(notifier, rollbar, gWindow) {\n  notifier\n    .addTransform(transforms.handleDomException)\n    .addTransform(transforms.handleItemWithError)\n    .addTransform(transforms.ensureItemHasSomethingToSay)\n    .addTransform(transforms.addBaseInfo)\n    .addTransform(transforms.addRequestInfo(gWindow))\n    .addTransform(transforms.addClientInfo(gWindow))\n    .addTransform(transforms.addPluginInfo(gWindow))\n    .addTransform(transforms.addBody)\n    .addTransform(sharedTransforms.addMessageWithError)\n    .addTransform(sharedTransforms.addTelemetryData)\n    .addTransform(sharedTransforms.addConfigToPayload)\n    .addTransform(transforms.addScrubber(rollbar.scrub))\n    .addTransform(sharedTransforms.addPayloadOptions)\n    .addTransform(sharedTransforms.userTransform(logger))\n    .addTransform(sharedTransforms.addConfiguredOptions)\n    .addTransform(sharedTransforms.addDiagnosticKeys)\n    .addTransform(sharedTransforms.itemToPayload);\n}\n\nfunction addPredicatesToQueue(queue) {\n  queue\n    .addPredicate(sharedPredicates.checkLevel)\n    .addPredicate(predicates.checkIgnore)\n    .addPredicate(sharedPredicates.userCheckIgnore(logger))\n    .addPredicate(sharedPredicates.urlIsNotBlockListed(logger))\n    .addPredicate(sharedPredicates.urlIsSafeListed(logger))\n    .addPredicate(sharedPredicates.messageIsIgnored(logger));\n}\n\nfunction _getFirstFunction(args) {\n  for (var i = 0, len = args.length; i < len; ++i) {\n    if (_.isFunction(args[i])) {\n      return args[i];\n    }\n  }\n  return undefined;\n}\n\nfunction _gWindow() {\n  return (\n    (typeof window != 'undefined' && window) ||\n    (typeof self != 'undefined' && self)\n  );\n}\n\nimport {\n  version,\n  logLevel,\n  reportLevel,\n  uncaughtErrorLevel,\n  endpoint,\n} from '../defaults.js';\nimport browserDefaults from './defaults.js';\n\nconst defaultOptions = {\n  environment: 'unknown',\n  version: version,\n  scrubFields: browserDefaults.scrubFields,\n  logLevel: logLevel,\n  reportLevel: reportLevel,\n  uncaughtErrorLevel: uncaughtErrorLevel,\n  endpoint: endpoint,\n  verbose: false,\n  enabled: true,\n  transmit: true,\n  sendConfig: false,\n  includeItemsInTelemetry: true,\n  captureIp: true,\n  inspectAnonymousErrors: true,\n  ignoreDuplicateErrors: true,\n  wrapGlobalEventHandlers: false,\n  replay: replayDefaults,\n  tracing: tracingDefaults,\n};\n\nexport default Rollbar;\n","import * as _ from './utility.js';\n\nconst MAX_EVENTS = 100;\n\n// Temporary workaround while solving commonjs -> esm issues in Node 18 - 20.\nfunction fromMillis(millis) {\n  return [Math.trunc(millis / 1000), Math.round((millis % 1000) * 1e6)];\n}\n\nclass Telemeter {\n  constructor(options, tracing) {\n    this.queue = [];\n    this.options = _.merge(options);\n    var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n    this.maxQueueSize = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n    this.tracing = tracing;\n    this.telemetrySpan = this.tracing?.startSpan('rollbar-telemetry', {});\n  }\n\n  configure(options) {\n    var oldOptions = this.options;\n    this.options = _.merge(oldOptions, options);\n    var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n    var newMaxEvents = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n    var deleteCount = 0;\n    if (this.queue.length > newMaxEvents) {\n      deleteCount = this.queue.length - newMaxEvents;\n    }\n    this.maxQueueSize = newMaxEvents;\n    this.queue.splice(0, deleteCount);\n  }\n\n  copyEvents() {\n    var events = Array.prototype.slice.call(this.queue, 0);\n    if (_.isFunction(this.options.filterTelemetry)) {\n      try {\n        var i = events.length;\n        while (i--) {\n          if (this.options.filterTelemetry(events[i])) {\n            events.splice(i, 1);\n          }\n        }\n      } catch (e) {\n        this.options.filterTelemetry = null;\n      }\n    }\n\n    // Filter until supported in legacy telemetry\n    events = events.filter((e) => e.type !== 'connectivity');\n\n    // Remove internal keys from output\n    events = events.map(({ otelAttributes, ...event }) => event);\n\n    return events;\n  }\n\n  exportTelemetrySpan(attributes = {}) {\n    if (this.telemetrySpan) {\n      this.telemetrySpan.end(attributes);\n      this.telemetrySpan = this.tracing.startSpan('rollbar-telemetry', {});\n    }\n  }\n\n  capture(\n    type,\n    metadata,\n    level,\n    rollbarUUID,\n    timestamp = null,\n    otelAttributes = null,\n  ) {\n    var e = {\n      level: getLevel(type, level),\n      type: type,\n      timestamp_ms: timestamp || _.now(),\n      body: metadata,\n      source: 'client',\n    };\n    if (rollbarUUID) {\n      e.uuid = rollbarUUID;\n    }\n    if (otelAttributes) {\n      e.otelAttributes = otelAttributes;\n    }\n\n    try {\n      if (\n        _.isFunction(this.options.filterTelemetry) &&\n        this.options.filterTelemetry(e)\n      ) {\n        return false;\n      }\n    } catch (exc) {\n      this.options.filterTelemetry = null;\n    }\n\n    this.push(e);\n    return e;\n  }\n\n  captureEvent(type, metadata, level, rollbarUUID) {\n    return this.capture(type, metadata, level, rollbarUUID);\n  }\n\n  captureError(err, level, rollbarUUID, timestamp) {\n    const message = err.message || String(err);\n    var metadata = { message };\n    if (err.stack) {\n      metadata.stack = err.stack;\n    }\n    const otelAttributes = {\n      message,\n      level,\n      type: 'error',\n      uuid: rollbarUUID,\n    };\n\n    this.telemetrySpan?.addEvent(\n      'rollbar-occurrence-event',\n      otelAttributes,\n      fromMillis(timestamp),\n    );\n\n    return this.capture(\n      'error',\n      metadata,\n      level,\n      rollbarUUID,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureLog(message, level, rollbarUUID, timestamp) {\n    let otelAttributes = null;\n\n    // If the uuid is present, this is a message occurrence.\n    if (rollbarUUID) {\n      ((otelAttributes = {\n        message,\n        level,\n        type: 'message',\n        uuid: rollbarUUID,\n      }),\n        this.telemetrySpan?.addEvent(\n          'rollbar-occurrence-event',\n          otelAttributes,\n          fromMillis(timestamp),\n        ));\n    } else {\n      otelAttributes = { message, level };\n      this.telemetrySpan?.addEvent(\n        'rollbar-log-event',\n        otelAttributes,\n        fromMillis(timestamp),\n      );\n    }\n\n    return this.capture(\n      'log',\n      { message },\n      level,\n      rollbarUUID,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureNetwork(metadata, subtype, rollbarUUID, requestData) {\n    subtype = subtype || 'xhr';\n    metadata.subtype = metadata.subtype || subtype;\n    if (requestData) {\n      metadata.request = requestData;\n    }\n    const level = this.levelFromStatus(metadata.status_code);\n    const endTimeNano = (metadata.end_time_ms || 0) * 1e6;\n    const otelAttributes = {\n      type: metadata.subtype,\n      method: metadata.method,\n      url: metadata.url,\n      statusCode: metadata.status_code,\n      'request.headers': JSON.stringify(metadata.request_headers || {}),\n      'response.headers': JSON.stringify(metadata.response?.headers || {}),\n      'response.timeUnixNano': endTimeNano.toString(),\n    };\n\n    this.telemetrySpan?.addEvent(\n      'rollbar-network-event',\n      otelAttributes,\n      fromMillis(metadata.start_time_ms),\n    );\n\n    return this.capture(\n      'network',\n      metadata,\n      level,\n      rollbarUUID,\n      metadata.start_time_ms,\n      otelAttributes,\n    );\n  }\n\n  levelFromStatus(statusCode) {\n    if (statusCode >= 200 && statusCode < 400) {\n      return 'info';\n    }\n    if (statusCode === 0 || statusCode >= 400) {\n      return 'error';\n    }\n    return 'info';\n  }\n\n  captureDom(subtype, element, value, checked, rollbarUUID) {\n    var metadata = {\n      subtype: subtype,\n      element: element,\n    };\n    if (value !== undefined) {\n      metadata.value = value;\n    }\n    if (checked !== undefined) {\n      metadata.checked = checked;\n    }\n    return this.capture('dom', metadata, 'info', rollbarUUID);\n  }\n\n  captureInput({ type, isSynthetic, element, value, timestamp }) {\n    const name = 'rollbar-input-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      element,\n      value,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      element,\n      value,\n      endTimeUnixNano: fromMillis(timestamp),\n    };\n    const event = this._getRepeatedEvent(name, otelAttributes);\n    if (event) {\n      return this._updateRepeatedEvent(event, otelAttributes, timestamp);\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureClick({ type, isSynthetic, element, timestamp }) {\n    const name = 'rollbar-click-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      element,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      element,\n      endTimeUnixNano: fromMillis(timestamp),\n    };\n    const event = this._getRepeatedEvent(name, otelAttributes);\n    if (event) {\n      return this._updateRepeatedEvent(event, otelAttributes, timestamp);\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  _getRepeatedEvent(name, attributes) {\n    const lastEvent = this._lastEvent(this.queue);\n\n    if (\n      lastEvent &&\n      lastEvent.body.type === name &&\n      lastEvent.otelAttributes.target === attributes.target\n    ) {\n      return lastEvent;\n    }\n  }\n\n  _updateRepeatedEvent(event, attributes, timestamp) {\n    const duration = Math.max(timestamp - event.timestamp_ms, 1);\n    event.body.value = attributes.value;\n    event.otelAttributes.value = attributes.value;\n    event.otelAttributes.height = attributes.height;\n    event.otelAttributes.width = attributes.width;\n    event.otelAttributes.textZoomRatio = attributes.textZoomRatio;\n    event.otelAttributes['endTimeUnixNano'] = fromMillis(timestamp);\n    event.otelAttributes['durationUnixNano'] = fromMillis(duration);\n    event.otelAttributes.count = (event.otelAttributes.count || 1) + 1;\n    event.otelAttributes.rate = event.otelAttributes.count / (duration / 1000);\n  }\n\n  _lastEvent(list) {\n    return list.length > 0 ? list[list.length - 1] : null;\n  }\n\n  captureFocus({ type, isSynthetic, element, timestamp }) {\n    const name = 'rollbar-focus-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      element,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      element,\n    };\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureResize({\n    type,\n    isSynthetic,\n    width,\n    height,\n    textZoomRatio,\n    timestamp,\n  }) {\n    const name = 'rollbar-resize-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      width,\n      height,\n      textZoomRatio,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      width,\n      height,\n      textZoomRatio,\n    };\n\n    const event = this._getRepeatedEvent(name, otelAttributes);\n    if (event) {\n      return this._updateRepeatedEvent(event, otelAttributes, timestamp);\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureDragDrop({\n    type,\n    isSynthetic,\n    element,\n    dropEffect,\n    effectAllowed,\n    kinds,\n    mediaTypes,\n    timestamp,\n  }) {\n    const name = 'rollbar-dragdrop-event';\n    let metadata = {\n      type: name,\n      subtype: type,\n      isSynthetic,\n    };\n\n    let otelAttributes = {\n      type,\n      isSynthetic,\n    };\n\n    if (type === 'dragstart') {\n      metadata = { ...metadata, element, dropEffect, effectAllowed };\n      otelAttributes = {\n        ...otelAttributes,\n        element,\n        dropEffect,\n        effectAllowed,\n      };\n    }\n\n    if (type === 'drop') {\n      metadata = {\n        ...metadata,\n        element,\n        dropEffect,\n        effectAllowed,\n        kinds,\n        mediaTypes,\n      };\n      otelAttributes = {\n        ...otelAttributes,\n        element,\n        dropEffect,\n        effectAllowed,\n        kinds,\n        mediaTypes,\n      };\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureNavigation(from, to, rollbarUUID, timestamp) {\n    this.telemetrySpan?.addEvent(\n      'rollbar-navigation-event',\n      { 'previous.url.full': from, 'url.full': to },\n      fromMillis(timestamp),\n    );\n\n    return this.capture(\n      'navigation',\n      { from, to },\n      'info',\n      rollbarUUID,\n      timestamp,\n    );\n  }\n\n  captureDomContentLoaded(ts) {\n    return this.capture(\n      'navigation',\n      { subtype: 'DOMContentLoaded' },\n      'info',\n      undefined,\n      ts && ts.getTime(),\n    );\n    /**\n     * If we decide to make this a dom event instead, then use the line below:\n    return this.capture('dom', {subtype: 'DOMContentLoaded'}, 'info', undefined, ts && ts.getTime());\n    */\n  }\n\n  captureLoad(ts) {\n    return this.capture(\n      'navigation',\n      { subtype: 'load' },\n      'info',\n      undefined,\n      ts && ts.getTime(),\n    );\n    /**\n     * If we decide to make this a dom event instead, then use the line below:\n    return this.capture('dom', {subtype: 'load'}, 'info', undefined, ts && ts.getTime());\n    */\n  }\n\n  captureConnectivityChange({ type, isSynthetic, timestamp }) {\n    const name = 'rollbar-connectivity-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n    };\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'connectivity',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  // Only intended to be used internally by the notifier\n  _captureRollbarItem(item) {\n    if (!this.options.includeItemsInTelemetry) {\n      return;\n    }\n    if (item.err) {\n      return this.captureError(item.err, item.level, item.uuid, item.timestamp);\n    }\n    if (item.message) {\n      return this.captureLog(\n        item.message,\n        item.level,\n        item.uuid,\n        item.timestamp,\n      );\n    }\n    if (item.custom) {\n      return this.capture(\n        'log',\n        item.custom,\n        item.level,\n        item.uuid,\n        item.timestamp,\n      );\n    }\n  }\n\n  push(e) {\n    this.queue.push(e);\n    if (this.queue.length > this.maxQueueSize) {\n      this.queue.shift();\n    }\n  }\n}\n\nfunction getLevel(type, level) {\n  if (level) {\n    return level;\n  }\n  var defaultLevel = {\n    error: 'error',\n    manual: 'info',\n  };\n  return defaultLevel[type] || 'info';\n}\n\nexport default Telemeter;\n","/*\n * headers - Detect when fetch Headers are undefined and use a partial polyfill.\n *\n * A full polyfill is not used in order to keep package size as small as possible.\n * Since this is only used internally and is not added to the window object,\n * the full interface doesn't need to be supported.\n *\n * This implementation is modified from whatwg-fetch:\n * https://github.com/github/fetch\n */\nfunction headers(headers) {\n  if (typeof Headers === 'undefined') {\n    return new FetchHeaders(headers);\n  }\n\n  return new Headers(headers);\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name);\n  }\n  return name.toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value);\n  }\n  return value;\n}\n\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function () {\n      var value = items.shift();\n      return { done: value === undefined, value: value };\n    },\n  };\n\n  return iterator;\n}\n\nfunction FetchHeaders(headers) {\n  this.map = {};\n\n  if (headers instanceof FetchHeaders) {\n    headers.forEach(function (value, name) {\n      this.append(name, value);\n    }, this);\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function (header) {\n      this.append(header[0], header[1]);\n    }, this);\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function (name) {\n      this.append(name, headers[name]);\n    }, this);\n  }\n}\n\nFetchHeaders.prototype.append = function (name, value) {\n  name = normalizeName(name);\n  value = normalizeValue(value);\n  var oldValue = this.map[name];\n  this.map[name] = oldValue ? oldValue + ', ' + value : value;\n};\n\nFetchHeaders.prototype.get = function (name) {\n  name = normalizeName(name);\n  return this.has(name) ? this.map[name] : null;\n};\n\nFetchHeaders.prototype.has = function (name) {\n  return this.map.hasOwnProperty(normalizeName(name));\n};\n\nFetchHeaders.prototype.forEach = function (callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this);\n    }\n  }\n};\n\nFetchHeaders.prototype.entries = function () {\n  var items = [];\n  this.forEach(function (value, name) {\n    items.push([name, value]);\n  });\n  return iteratorFor(items);\n};\n\nexport default headers;\n","function replace(obj, name, replacement, replacements, type) {\n  var orig = obj[name];\n  obj[name] = replacement(orig);\n  if (replacements) {\n    replacements[type].push([obj, name, orig]);\n  }\n}\n\nexport default replace;\n","import * as _ from '../utility.js';\n\nfunction traverse(obj, func, seen) {\n  var k, v, i;\n  var isObj = _.isType(obj, 'object');\n  var isArray = _.isType(obj, 'array');\n  var keys = [];\n  var seenIndex;\n\n  // Best might be to use Map here with `obj` as the keys, but we want to support IE < 11.\n  seen = seen || { obj: [], mapped: [] };\n\n  if (isObj) {\n    seenIndex = seen.obj.indexOf(obj);\n\n    if (isObj && seenIndex !== -1) {\n      // Prefer the mapped object if there is one.\n      return seen.mapped[seenIndex] || seen.obj[seenIndex];\n    }\n\n    seen.obj.push(obj);\n    seenIndex = seen.obj.length - 1;\n  }\n\n  if (isObj) {\n    for (k in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, k)) {\n        keys.push(k);\n      }\n    }\n  } else if (isArray) {\n    for (i = 0; i < obj.length; ++i) {\n      keys.push(i);\n    }\n  }\n\n  var result = isObj ? {} : [];\n  var same = true;\n  for (i = 0; i < keys.length; ++i) {\n    k = keys[i];\n    v = obj[k];\n    result[k] = func(k, v, seen);\n    same = same && result[k] === obj[k];\n  }\n\n  if (isObj && !same) {\n    seen.mapped[seenIndex] = result;\n  }\n\n  return !same ? result : obj;\n}\n\nexport default traverse;\n","import * as _ from './utility.js';\nimport traverse from './utility/traverse.js';\n\nfunction scrub(data, scrubFields, scrubPaths) {\n  scrubFields = scrubFields || [];\n\n  if (scrubPaths) {\n    for (var i = 0; i < scrubPaths.length; ++i) {\n      scrubPath(data, scrubPaths[i]);\n    }\n  }\n\n  var paramRes = _getScrubFieldRegexs(scrubFields);\n  var queryRes = _getScrubQueryParamRegexs(scrubFields);\n\n  function redactQueryParam(dummy0, paramPart) {\n    return paramPart + _.redact();\n  }\n\n  function paramScrubber(v) {\n    var i;\n    if (_.isType(v, 'string')) {\n      for (i = 0; i < queryRes.length; ++i) {\n        v = v.replace(queryRes[i], redactQueryParam);\n      }\n    }\n    return v;\n  }\n\n  function valScrubber(k, v) {\n    var i;\n    for (i = 0; i < paramRes.length; ++i) {\n      if (paramRes[i].test(k)) {\n        v = _.redact();\n        break;\n      }\n    }\n    return v;\n  }\n\n  function scrubber(k, v, seen) {\n    var tmpV = valScrubber(k, v);\n    if (tmpV === v) {\n      if (_.isType(v, 'object') || _.isType(v, 'array')) {\n        return traverse(v, scrubber, seen);\n      }\n      return paramScrubber(tmpV);\n    } else {\n      return tmpV;\n    }\n  }\n\n  return traverse(data, scrubber);\n}\n\nfunction scrubPath(obj, path) {\n  var keys = path.split('.');\n  var last = keys.length - 1;\n  try {\n    for (var i = 0; i <= last; ++i) {\n      if (i < last) {\n        obj = obj[keys[i]];\n      } else {\n        obj[keys[i]] = _.redact();\n      }\n    }\n  } catch (e) {\n    // Missing key is OK;\n  }\n}\n\nfunction _getScrubFieldRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '^\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?$';\n    ret.push(new RegExp(pat, 'i'));\n  }\n  return ret;\n}\n\nfunction _getScrubQueryParamRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?';\n    ret.push(new RegExp('(' + pat + '=)([^&\\\\n]+)', 'igm'));\n  }\n  return ret;\n}\n\nexport default scrub;\n","function getElementType(e) {\n  return (e.getAttribute('type') || '').toLowerCase();\n}\n\nfunction isDescribedElement(element, type, subtypes) {\n  if (element.tagName.toLowerCase() !== type.toLowerCase()) {\n    return false;\n  }\n  if (!subtypes) {\n    return true;\n  }\n  element = getElementType(element);\n  for (var i = 0; i < subtypes.length; i++) {\n    if (subtypes[i] === element) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getElementFromEvent(evt, doc) {\n  if (evt.target) {\n    return evt.target;\n  }\n  if (doc && doc.elementFromPoint) {\n    return doc.elementFromPoint(evt.clientX, evt.clientY);\n  }\n  return undefined;\n}\n\nfunction treeToArray(elem) {\n  var MAX_HEIGHT = 5;\n  var out = [];\n  var nextDescription;\n  for (var height = 0; elem && height < MAX_HEIGHT; height++) {\n    nextDescription = describeElement(elem);\n    if (nextDescription.tagName === 'html') {\n      break;\n    }\n    out.unshift(nextDescription);\n    elem = elem.parentNode;\n  }\n  return out;\n}\n\nfunction elementArrayToString(a) {\n  var MAX_LENGTH = 80;\n  var separator = ' > ',\n    separatorLength = separator.length;\n  var out = [],\n    len = 0,\n    nextStr,\n    totalLength;\n\n  for (var i = a.length - 1; i >= 0; i--) {\n    nextStr = descriptionToString(a[i]);\n    totalLength = len + out.length * separatorLength + nextStr.length;\n    if (i < a.length - 1 && totalLength >= MAX_LENGTH + 3) {\n      out.unshift('...');\n      break;\n    }\n    out.unshift(nextStr);\n    len += nextStr.length;\n  }\n  return out.join(separator);\n}\n\nfunction elementString(elem) {\n  return elementArrayToString(treeToArray(elem));\n}\n\nfunction descriptionToString(desc) {\n  if (!desc || !desc.tagName) {\n    return '';\n  }\n  var out = [desc.tagName];\n  if (desc.id) {\n    out.push('#' + desc.id);\n  }\n  if (desc.classes) {\n    out.push('.' + desc.classes.join('.'));\n  }\n  for (var i = 0; i < desc.attributes.length; i++) {\n    out.push(\n      '[' + desc.attributes[i].key + '=\"' + desc.attributes[i].value + '\"]',\n    );\n  }\n\n  return out.join('');\n}\n\n/**\n * Input: a dom element\n * Output: null if tagName is falsey or input is falsey, else\n *  {\n *    tagName: String,\n *    id: String | undefined,\n *    classes: [String] | undefined,\n *    attributes: [\n *      {\n *        key: OneOf(type, name, title, alt),\n *        value: String\n *      }\n *    ]\n *  }\n */\nfunction describeElement(elem) {\n  if (!elem || !elem.tagName) {\n    return null;\n  }\n  var out = {},\n    className,\n    key,\n    attr,\n    i;\n  out.tagName = elem.tagName.toLowerCase();\n  if (elem.id) {\n    out.id = elem.id;\n  }\n  className = elem.className;\n  if (className && typeof className === 'string') {\n    out.classes = className.split(/\\s+/);\n  }\n  var attributes = ['type', 'name', 'title', 'alt'];\n  out.attributes = [];\n  for (i = 0; i < attributes.length; i++) {\n    key = attributes[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.attributes.push({ key: key, value: attr });\n    }\n  }\n  return out;\n}\n\n/*\n * Detects if the given element matches any of the given class names (string or regex),\n * or CSS selectors.\n * @param {HTMLElement} element - The DOM element to check.\n * @param {Array<string|RegExp>} classes - An array of class names (string or regex) to match against.\n * @param {Array<string>} selectors - An array of CSS selectors to match against.\n * @return {boolean} - True if the element matches any of the classes or selectors, false otherwise.\n */\nfunction isMatchingElement(element, classes, selectors) {\n  try {\n    for (const cls of classes) {\n      if (typeof cls === 'string') {\n        if (element.classList.contains(cls)) {\n          return true;\n        }\n      } else {\n        for (const c of element.classList) {\n          if (cls.test(c)) {\n            return true;\n          }\n        }\n      }\n    }\n    for (const sel of selectors) {\n      if (element.matches(sel)) {\n        return true;\n      }\n    }\n  } catch (e) {\n    // ignore errors from invalid arguments\n  }\n  return false;\n}\n\nexport {\n  describeElement,\n  descriptionToString,\n  elementArrayToString,\n  elementString,\n  treeToArray,\n  getElementFromEvent,\n  isDescribedElement,\n  getElementType,\n  isMatchingElement,\n};\n","import * as _ from '../utility.js';\nimport headers from '../utility/headers.js';\nimport replace from '../utility/replace.js';\nimport scrub from '../scrub.js';\nimport * as urlparser from './url.js';\nimport * as domUtil from './domUtility.js';\n\nconst defaults = {\n  network: true,\n  networkResponseHeaders: false,\n  networkResponseBody: false,\n  networkRequestHeaders: false,\n  networkRequestBody: false,\n  networkErrorOnHttp5xx: false,\n  networkErrorOnHttp4xx: false,\n  networkErrorOnHttp0: false,\n  log: true,\n  dom: true,\n  navigation: true,\n  connectivity: true,\n  contentSecurityPolicy: true,\n  errorOnContentSecurityPolicy: false,\n};\n\nfunction restore(replacements, type) {\n  let b;\n  while (replacements[type].length) {\n    b = replacements[type].shift();\n    b[0][b[1]] = b[2];\n  }\n}\n\nfunction nameFromDescription(description) {\n  if (!description || !description.attributes) {\n    return null;\n  }\n  const attrs = description.attributes;\n  for (const a of attrs) {\n    if (a.key === 'name') {\n      return a.value;\n    }\n  }\n  return null;\n}\n\nfunction defaultValueScrubber(scrubFields) {\n  const patterns = [];\n  for (const field of scrubFields) {\n    patterns.push(new RegExp(field, 'i'));\n  }\n  return function (description) {\n    const name = nameFromDescription(description);\n    if (!name) {\n      return false;\n    }\n    for (const p of patterns) {\n      if (p.test(name)) {\n        return true;\n      }\n    }\n    return false;\n  };\n}\n\nclass Instrumenter {\n  constructor(options, telemeter, rollbar, _window, _document) {\n    this.options = options;\n    let autoInstrument = options.autoInstrument;\n    if (options.enabled === false || autoInstrument === false) {\n      this.autoInstrument = {};\n    } else {\n      if (!_.isType(autoInstrument, 'object')) {\n        autoInstrument = defaults;\n      }\n      this.autoInstrument = _.merge(defaults, autoInstrument);\n    }\n    this.configureScrubbing();\n    this.telemeter = telemeter;\n    this.rollbar = rollbar;\n    this.diagnostic = rollbar.client.notifier.diagnostic;\n    this._window = _window || {};\n    this._document = _document || {};\n    this.replacements = {\n      network: [],\n      log: [],\n      navigation: [],\n      connectivity: [],\n    };\n    this.eventRemovers = {\n      dom: [],\n      connectivity: [],\n      contentsecuritypolicy: [],\n    };\n\n    this._location = this._window.location;\n    this._lastHref = this._location && this._location.href;\n  }\n\n  configureScrubbing() {\n    const options = this.options;\n    this.scrubTelemetryInputs = !!(\n      options.scrubTelemetryInputs ?? options.replay?.maskAllInputs\n    );\n    this.telemetryScrubber = options.telemetryScrubber;\n    this.defaultValueScrubber = defaultValueScrubber(options.scrubFields);\n    this.maskInputFn = options.replay?.maskInputFn;\n    this.maskInputOptions = options.replay?.maskInputOptions || {};\n    this.scrubClasses = [\n      options.replay?.blockClass,\n      options.replay?.ignoreClass,\n      options.replay?.maskTextClass,\n    ].filter(Boolean);\n    this.scrubSelectors = [\n      options.replay?.blockSelector,\n      options.replay?.ignoreSelector,\n      options.replay?.maskTextSelector,\n    ].filter(Boolean);\n  }\n\n  configure(options) {\n    this.options = _.merge(this.options, options);\n    let autoInstrument = options.autoInstrument;\n    const oldSettings = _.merge(this.autoInstrument);\n    if (options.enabled === false || autoInstrument === false) {\n      this.autoInstrument = {};\n    } else {\n      if (!_.isType(autoInstrument, 'object')) {\n        autoInstrument = defaults;\n      }\n      this.autoInstrument = _.merge(defaults, autoInstrument);\n    }\n    this.configureScrubbing();\n    this.instrument(oldSettings);\n  }\n\n  // eslint-disable-next-line complexity\n  instrument(oldSettings) {\n    if (this.autoInstrument.network && !(oldSettings && oldSettings.network)) {\n      this.instrumentNetwork();\n    } else if (\n      !this.autoInstrument.network &&\n      oldSettings &&\n      oldSettings.network\n    ) {\n      this.deinstrumentNetwork();\n    }\n\n    if (this.autoInstrument.log && !(oldSettings && oldSettings.log)) {\n      this.instrumentConsole();\n    } else if (!this.autoInstrument.log && oldSettings && oldSettings.log) {\n      this.deinstrumentConsole();\n    }\n\n    if (this.autoInstrument.dom && !(oldSettings && oldSettings.dom)) {\n      this.instrumentDom();\n    } else if (!this.autoInstrument.dom && oldSettings && oldSettings.dom) {\n      this.deinstrumentDom();\n    }\n\n    if (\n      this.autoInstrument.navigation &&\n      !(oldSettings && oldSettings.navigation)\n    ) {\n      this.instrumentNavigation();\n    } else if (\n      !this.autoInstrument.navigation &&\n      oldSettings &&\n      oldSettings.navigation\n    ) {\n      this.deinstrumentNavigation();\n    }\n\n    if (\n      this.autoInstrument.connectivity &&\n      !(oldSettings && oldSettings.connectivity)\n    ) {\n      this.instrumentConnectivity();\n    } else if (\n      !this.autoInstrument.connectivity &&\n      oldSettings &&\n      oldSettings.connectivity\n    ) {\n      this.deinstrumentConnectivity();\n    }\n\n    if (\n      this.autoInstrument.contentSecurityPolicy &&\n      !(oldSettings && oldSettings.contentSecurityPolicy)\n    ) {\n      this.instrumentContentSecurityPolicy();\n    } else if (\n      !this.autoInstrument.contentSecurityPolicy &&\n      oldSettings &&\n      oldSettings.contentSecurityPolicy\n    ) {\n      this.deinstrumentContentSecurityPolicy();\n    }\n  }\n\n  deinstrumentNetwork() {\n    restore(this.replacements, 'network');\n  }\n\n  instrumentNetwork() {\n    const self = this;\n\n    function wrapProp(prop, xhr) {\n      if (prop in xhr && _.isFunction(xhr[prop])) {\n        replace(xhr, prop, function (orig) {\n          return self.rollbar.wrap(orig);\n        });\n      }\n    }\n\n    if ('XMLHttpRequest' in this._window) {\n      const xhrp = this._window.XMLHttpRequest.prototype;\n      replace(\n        xhrp,\n        'open',\n        function (orig) {\n          return function (method, url) {\n            const isUrlObject = _isUrlObject(url);\n            if (_.isType(url, 'string') || isUrlObject) {\n              url = isUrlObject ? url.toString() : url;\n              if (this.__rollbar_xhr) {\n                this.__rollbar_xhr.method = method;\n                this.__rollbar_xhr.url = url;\n                this.__rollbar_xhr.status_code = null;\n                this.__rollbar_xhr.start_time_ms = _.now();\n                this.__rollbar_xhr.end_time_ms = null;\n              } else {\n                this.__rollbar_xhr = {\n                  method: method,\n                  url: url,\n                  status_code: null,\n                  start_time_ms: _.now(),\n                  end_time_ms: null,\n                };\n              }\n            }\n            return orig.apply(this, arguments);\n          };\n        },\n        this.replacements,\n        'network',\n      );\n\n      replace(\n        xhrp,\n        'setRequestHeader',\n        function (orig) {\n          return function (header, value) {\n            // If xhr.open is async, __rollbar_xhr may not be initialized yet.\n            if (!this.__rollbar_xhr) {\n              this.__rollbar_xhr = {};\n            }\n            if (_.isType(header, 'string') && _.isType(value, 'string')) {\n              if (self.autoInstrument.networkRequestHeaders) {\n                if (!this.__rollbar_xhr.request_headers) {\n                  this.__rollbar_xhr.request_headers = {};\n                }\n                this.__rollbar_xhr.request_headers[header] = value;\n              }\n              // We want the content type even if request header telemetry is off.\n              if (header.toLowerCase() === 'content-type') {\n                this.__rollbar_xhr.request_content_type = value;\n              }\n            }\n            return orig.apply(this, arguments);\n          };\n        },\n        this.replacements,\n        'network',\n      );\n\n      replace(\n        xhrp,\n        'send',\n        function (orig) {\n          return function (data) {\n            const xhr = this;\n\n            function onreadystatechangeHandler() {\n              if (xhr.__rollbar_xhr) {\n                if (xhr.__rollbar_xhr.status_code === null) {\n                  xhr.__rollbar_xhr.status_code = 0;\n                  if (self.autoInstrument.networkRequestBody) {\n                    xhr.__rollbar_xhr.request = data;\n                  }\n                  xhr.__rollbar_event = self.captureNetwork(\n                    xhr.__rollbar_xhr,\n                    'xhr',\n                    undefined,\n                  );\n                }\n                if (xhr.readyState < 2) {\n                  xhr.__rollbar_xhr.start_time_ms = _.now();\n                }\n                if (xhr.readyState > 3) {\n                  const end_time_ms = _.now();\n                  xhr.__rollbar_xhr.end_time_ms = end_time_ms;\n\n                  let headers = null;\n                  xhr.__rollbar_xhr.response_content_type =\n                    xhr.getResponseHeader('Content-Type');\n                  if (self.autoInstrument.networkResponseHeaders) {\n                    const headersConfig =\n                      self.autoInstrument.networkResponseHeaders;\n                    headers = {};\n                    try {\n                      let header;\n                      if (headersConfig === true) {\n                        const allHeaders = xhr.getAllResponseHeaders();\n                        if (allHeaders) {\n                          const arr = allHeaders.trim().split(/[\\r\\n]+/);\n                          let parts, value;\n                          for (const h of arr) {\n                            parts = h.split(': ');\n                            header = parts.shift();\n                            value = parts.join(': ');\n                            headers[header] = value;\n                          }\n                        }\n                      } else {\n                        for (const h of headersConfig) {\n                          headers[h] = xhr.getResponseHeader(h);\n                        }\n                      }\n                    } catch (e) {\n                      /* we ignore the errors here that could come from different\n                       * browser issues with the xhr methods */\n                    }\n                  }\n                  let body = null;\n                  if (self.autoInstrument.networkResponseBody) {\n                    try {\n                      body = xhr.responseText;\n                    } catch (e) {\n                      /* ignore errors from reading responseText */\n                    }\n                  }\n                  let response = null;\n                  if (body || headers) {\n                    response = {};\n                    if (body) {\n                      if (\n                        self.isJsonContentType(\n                          xhr.__rollbar_xhr.response_content_type,\n                        )\n                      ) {\n                        response.body = self.scrubJson(body);\n                      } else {\n                        response.body = body;\n                      }\n                    }\n                    if (headers) {\n                      response.headers = headers;\n                    }\n                  }\n                  if (response) {\n                    xhr.__rollbar_xhr.response = response;\n                  }\n                  try {\n                    let code = xhr.status;\n                    code = code === 1223 ? 204 : code;\n                    xhr.__rollbar_xhr.status_code = code;\n                    self.addOtelNetworkResponse(\n                      xhr.__rollbar_event,\n                      end_time_ms,\n                      code,\n                    );\n                    xhr.__rollbar_event.level =\n                      self.telemeter.levelFromStatus(code);\n                    self.errorOnHttpStatus(xhr.__rollbar_xhr);\n                  } catch (e) {\n                    /* ignore possible exception from xhr.status */\n                  }\n                }\n              }\n            }\n\n            wrapProp('onload', xhr);\n            wrapProp('onerror', xhr);\n            wrapProp('onprogress', xhr);\n\n            if (\n              'onreadystatechange' in xhr &&\n              _.isFunction(xhr.onreadystatechange)\n            ) {\n              replace(xhr, 'onreadystatechange', function (orig) {\n                return self.rollbar.wrap(\n                  orig,\n                  undefined,\n                  onreadystatechangeHandler,\n                );\n              });\n            } else {\n              xhr.onreadystatechange = onreadystatechangeHandler;\n            }\n            if (xhr.__rollbar_xhr && self.trackHttpErrors()) {\n              xhr.__rollbar_xhr.stack = new Error().stack;\n            }\n            return orig.apply(this, arguments);\n          };\n        },\n        this.replacements,\n        'network',\n      );\n    }\n\n    if ('fetch' in this._window) {\n      replace(\n        this._window,\n        'fetch',\n        function (orig) {\n          return function (fn, t) {\n            const args = [...arguments];\n            const input = args[0];\n            let method = 'GET';\n            let url;\n            const isUrlObject = _isUrlObject(input);\n            if (_.isType(input, 'string') || isUrlObject) {\n              url = isUrlObject ? input.toString() : input;\n            } else if (input) {\n              url = input.url;\n              if (input.method) {\n                method = input.method;\n              }\n            }\n            if (args[1] && args[1].method) {\n              method = args[1].method;\n            }\n            const metadata = {\n              method: method,\n              url: url,\n              status_code: null,\n              start_time_ms: _.now(),\n              end_time_ms: null,\n            };\n            if (args[1] && args[1].headers) {\n              // Argument may be a Headers object, or plain object. Ensure here that\n              // we are working with a Headers object with case-insensitive keys.\n              const reqHeaders = headers(args[1].headers);\n\n              metadata.request_content_type = reqHeaders.get('Content-Type');\n\n              if (self.autoInstrument.networkRequestHeaders) {\n                metadata.request_headers = self.fetchHeaders(\n                  reqHeaders,\n                  self.autoInstrument.networkRequestHeaders,\n                );\n              }\n            }\n\n            if (self.autoInstrument.networkRequestBody) {\n              if (args[1] && args[1].body) {\n                metadata.request = args[1].body;\n              } else if (\n                args[0] &&\n                !_.isType(args[0], 'string') &&\n                args[0].body\n              ) {\n                metadata.request = args[0].body;\n              }\n            }\n            const telemetryEvent = self.captureNetwork(\n              metadata,\n              'fetch',\n              undefined,\n            );\n            if (self.trackHttpErrors()) {\n              metadata.stack = new Error().stack;\n            }\n\n            // Start our handler before returning the promise. This allows resp.clone()\n            // to execute before other handlers touch the response.\n            return orig.apply(this, args).then(function (resp) {\n              const end_time_ms = _.now();\n              metadata.end_time_ms = end_time_ms;\n              metadata.status_code = resp.status;\n              self.addOtelNetworkResponse(\n                telemetryEvent,\n                end_time_ms,\n                resp.status,\n              );\n\n              metadata.response_content_type = resp.headers.get('Content-Type');\n              let headers = null;\n              if (self.autoInstrument.networkResponseHeaders) {\n                headers = self.fetchHeaders(\n                  resp.headers,\n                  self.autoInstrument.networkResponseHeaders,\n                );\n              }\n              let body = null;\n              if (self.autoInstrument.networkResponseBody) {\n                if (typeof resp.text === 'function') {\n                  // Response.text() is not implemented on some platforms\n                  // The response must be cloned to prevent reading (and locking) the original stream.\n                  // This must be done before other handlers touch the response.\n                  body = resp.clone().text(); //returns a Promise\n                }\n              }\n              if (headers || body) {\n                metadata.response = {};\n                if (body) {\n                  // Test to ensure body is a Promise, which it should always be.\n                  if (typeof body.then === 'function') {\n                    body.then(function (text) {\n                      if (\n                        text &&\n                        self.isJsonContentType(metadata.response_content_type)\n                      ) {\n                        metadata.response.body = self.scrubJson(text);\n                      } else {\n                        metadata.response.body = text;\n                      }\n                    });\n                  } else {\n                    metadata.response.body = body;\n                  }\n                }\n                if (headers) {\n                  metadata.response.headers = headers;\n                }\n              }\n              self.errorOnHttpStatus(metadata);\n              return resp;\n            });\n          };\n        },\n        this.replacements,\n        'network',\n      );\n    }\n  }\n\n  captureNetwork(metadata, subtype, rollbarUUID) {\n    if (\n      metadata.request &&\n      this.isJsonContentType(metadata.request_content_type)\n    ) {\n      metadata.request = this.scrubJson(metadata.request);\n    }\n    return this.telemeter.captureNetwork(metadata, subtype, rollbarUUID);\n  }\n\n  isJsonContentType(contentType) {\n    return contentType &&\n      _.isType(contentType, 'string') &&\n      contentType.toLowerCase().includes('json')\n      ? true\n      : false;\n  }\n\n  addOtelNetworkResponse(event, endTimeMs, statusCode) {\n    if (event.otelAttributes) {\n      event.otelAttributes['response.timeUnixNano'] = (\n        endTimeMs * 1e6\n      ).toString();\n      event.otelAttributes.statusCode = statusCode;\n    }\n  }\n\n  scrubJson(json) {\n    return JSON.stringify(scrub(JSON.parse(json), this.options.scrubFields));\n  }\n\n  fetchHeaders(inHeaders, headersConfig) {\n    const outHeaders = {};\n    try {\n      if (headersConfig === true) {\n        if (typeof inHeaders.entries === 'function') {\n          // Headers.entries() is not implemented in IE\n          const allHeaders = inHeaders.entries();\n          let currentHeader = allHeaders.next();\n          while (!currentHeader.done) {\n            outHeaders[currentHeader.value[0]] = currentHeader.value[1];\n            currentHeader = allHeaders.next();\n          }\n        }\n      } else {\n        for (const h of headersConfig) {\n          outHeaders[h] = inHeaders.get(h);\n        }\n      }\n    } catch (e) {\n      /* ignore probable IE errors */\n    }\n    return outHeaders;\n  }\n\n  trackHttpErrors() {\n    return (\n      this.autoInstrument.networkErrorOnHttp5xx ||\n      this.autoInstrument.networkErrorOnHttp4xx ||\n      this.autoInstrument.networkErrorOnHttp0\n    );\n  }\n\n  errorOnHttpStatus(metadata) {\n    const status = metadata.status_code;\n\n    if (\n      (status >= 500 && this.autoInstrument.networkErrorOnHttp5xx) ||\n      (status >= 400 && this.autoInstrument.networkErrorOnHttp4xx) ||\n      (status === 0 && this.autoInstrument.networkErrorOnHttp0)\n    ) {\n      const error = new Error('HTTP request failed with Status ' + status);\n      error.stack = metadata.stack;\n      this.rollbar.error(error, { skipFrames: 1 });\n    }\n  }\n\n  deinstrumentConsole() {\n    let b;\n    while (this.replacements['log'].length) {\n      b = this.replacements['log'].shift();\n      this._window.console[b[0]] = b[1];\n    }\n  }\n\n  instrumentConsole() {\n    if (!this._window?.console?.log) {\n      return;\n    }\n\n    const self = this;\n    const c = this._window.console;\n\n    function wrapConsole(method) {\n      'use strict'; // See https://github.com/rollbar/rollbar.js/pull/778\n\n      const orig = c[method];\n      const origConsole = c;\n      const level = method === 'warn' ? 'warning' : method;\n      c[method] = function () {\n        const args = Array.prototype.slice.call(arguments);\n        const message = _.formatArgsAsString(args);\n        self.telemeter.captureLog(message, level, null, _.now());\n        if (orig) {\n          Function.prototype.apply.call(orig, origConsole, args);\n        }\n      };\n      self.replacements['log'].push([method, orig]);\n    }\n    const methods = ['debug', 'info', 'warn', 'error', 'log'];\n    try {\n      for (const m of methods) {\n        wrapConsole(m);\n      }\n    } catch (e) {\n      this.diagnostic.instrumentConsole = { error: e.message };\n    }\n  }\n\n  deinstrumentDom() {\n    this.removeListeners('dom');\n  }\n\n  instrumentDom() {\n    const self = this;\n    this.addListener(\n      'dom',\n      this._window,\n      ['click', 'dblclick', 'contextmenu'],\n      (e) => this.handleEvent('click', e),\n    );\n    this.addListener(\n      'dom',\n      this._window,\n      ['dragstart', 'dragend', 'dragenter', 'dragleave', 'drop'],\n      (e) => this.handleEvent('dragdrop', e),\n    );\n    this.addListener('dom', this._window, ['blur', 'focus'], (e) =>\n      this.handleEvent('focus', e),\n    );\n    this.addListener('dom', this._window, ['submit', 'invalid'], (e) =>\n      this.handleEvent('form', e),\n    );\n    this.addListener('dom', this._window, ['input', 'change'], (e) =>\n      this.handleEvent('input', e),\n    );\n    this.addListener('dom', this._window, ['resize'], (e) =>\n      this.handleEvent('resize', e),\n    );\n    this.addListener('dom', this._document, ['DOMContentLoaded'], (e) =>\n      this.handleEvent('contentLoaded', e),\n    );\n  }\n\n  handleEvent(name, evt) {\n    try {\n      return {\n        click: this.handleClick,\n        dragdrop: this.handleDrag,\n        focus: this.handleFocus,\n        form: this.handleForm,\n        input: this.handleInput,\n        resize: this.handleResize,\n        contentLoaded: this.handleContentLoaded,\n      }[name].call(this, evt);\n    } catch (exc) {\n      console.log(`${name} handler error`, evt, exc, exc.stack);\n    }\n  }\n\n  handleContentLoaded(evt) {\n    const replayId = this.rollbar.triggerReplay({\n      type: 'navigation',\n      path: new URL(this._location.href).pathname,\n    });\n  }\n\n  handleClick(evt) {\n    const tagName = evt.target?.tagName.toLowerCase();\n    if (['input', 'select', 'textarea'].includes(tagName)) return;\n\n    this.telemeter.captureClick({\n      type: evt.type,\n      isSynthetic: !evt.isTrusted,\n      element: domUtil.elementString(evt.target),\n      timestamp: _.now(),\n    });\n  }\n\n  handleFocus(evt) {\n    const type = evt.type;\n    const element = evt.target?.window\n      ? 'window'\n      : domUtil.elementString(evt.target);\n\n    this.telemeter.captureFocus({\n      type: type,\n      isSynthetic: !evt.isTrusted,\n      element,\n      timestamp: _.now(),\n    });\n  }\n\n  handleForm(evt) {\n    // TODO: implement form event handling\n    const type = evt.type;\n    const elementString = evt.target?.window\n      ? 'window'\n      : domUtil.elementString(evt.target);\n  }\n\n  handleResize(evt) {\n    const textZoomRatio = window.screen.width / window.innerWidth;\n\n    this.telemeter.captureResize({\n      type: evt.type,\n      isSynthetic: !evt.isTrusted,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      textZoomRatio: textZoomRatio,\n      timestamp: _.now(),\n    });\n  }\n\n  handleDrag(evt) {\n    const type = evt.type;\n    let kinds, mediaTypes, dropEffect, effectAllowed;\n\n    if (type === 'drop') {\n      kinds = [];\n      mediaTypes = [];\n      const objs = [...evt.dataTransfer.files, ...evt.dataTransfer.items];\n      for (const o of objs) {\n        if (o.kind && o.type) {\n          kinds.push(o.kind);\n          mediaTypes.push(o.type);\n        }\n      }\n    }\n    if (['drop', 'dragstart'].includes(type)) {\n      dropEffect = evt.dataTransfer?.dropEffect;\n      effectAllowed = evt.dataTransfer?.effectAllowed;\n    }\n\n    this.telemeter.captureDragDrop({\n      type,\n      isSynthetic: !evt.isTrusted,\n      element: domUtil.elementString(evt.target),\n      dropEffect: dropEffect,\n      effectAllowed: effectAllowed,\n      kinds: JSON.stringify(kinds),\n      mediaTypes: JSON.stringify(mediaTypes),\n      timestamp: _.now(),\n    });\n  }\n\n  /*\n   * Applies Rollbar telemetry scrubbing options to the dom input value.\n   * When replay options are present, applies those as well.\n   */\n  scrubInputValue(value, element, tagName, inputType) {\n    const mask = '******';\n\n    if (inputType === 'password') {\n      return mask;\n    }\n\n    if (this.scrubTelemetryInputs) {\n      return mask;\n    } else {\n      const description = domUtil.describeElement(element);\n      if (this.telemetryScrubber) {\n        if (this.telemetryScrubber(description)) {\n          return mask;\n        }\n      } else if (this.defaultValueScrubber(description)) {\n        return mask;\n      }\n    }\n\n    // Apply replay options regardless of other scrubbing\n    if (\n      domUtil.isMatchingElement(element, this.scrubClasses, this.scrubSelectors)\n    ) {\n      return mask;\n    }\n\n    // This check is last since maskInputFn returns a modified value rather\n    // than a boolean, which would cause an early return even if the value\n    // was not scrubbed.\n    if (\n      this.maskInputOptions[tagName.toLowerCase()] ||\n      this.maskInputOptions[inputType]\n    ) {\n      if (this.maskInputFn) {\n        return this.maskInputFn(value, element);\n      } else {\n        return mask;\n      }\n    }\n\n    return value;\n  }\n\n  /*\n   * Uses the `input` event for everything except radio and checkbox inputs.\n   * For those, it uses the `change` event.\n   */\n  handleInput(evt) {\n    const type = evt.type;\n    const tagName = evt.target?.tagName.toLowerCase();\n    let value = evt.target?.value;\n    let inputType = evt.target?.attributes?.type?.value || evt.target?.type;\n\n    if (value !== undefined) {\n      value = this.scrubInputValue(value, evt.target, tagName, inputType);\n    }\n\n    switch (type) {\n      case 'input':\n        if (['radio', 'checkbox'].includes(inputType)) return;\n        if (['select', 'textarea'].includes(tagName)) {\n          inputType = tagName;\n        }\n        break;\n\n      case 'change':\n        if (!['radio', 'checkbox'].includes(inputType)) return;\n        if (inputType === 'checkbox') {\n          value = evt.target?.checked;\n        }\n        break;\n    }\n\n    this.telemeter.captureInput({\n      type: inputType,\n      isSynthetic: !evt.isTrusted,\n      element: domUtil.elementString(evt.target),\n      value,\n      timestamp: _.now(),\n    });\n  }\n\n  deinstrumentNavigation() {\n    const chrome = this._window.chrome;\n    const chromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n    // See https://github.com/angular/angular.js/pull/13945/files\n    const hasPushState =\n      !chromePackagedApp &&\n      this._window.history &&\n      this._window.history.pushState;\n    if (!hasPushState) {\n      return;\n    }\n    restore(this.replacements, 'navigation');\n  }\n\n  instrumentNavigation() {\n    const chrome = this._window.chrome;\n    const chromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n    // See https://github.com/angular/angular.js/pull/13945/files\n    const hasPushState =\n      !chromePackagedApp &&\n      this._window.history &&\n      this._window.history.pushState;\n    if (!hasPushState) {\n      return;\n    }\n    const self = this;\n    replace(\n      this._window,\n      'onpopstate',\n      function (orig) {\n        return function () {\n          const current = self._location.href;\n          self.handleUrlChange(self._lastHref, current);\n          if (orig) {\n            orig.apply(this, arguments);\n          }\n        };\n      },\n      this.replacements,\n      'navigation',\n    );\n\n    replace(\n      this._window.history,\n      'pushState',\n      function (orig) {\n        return function () {\n          const url = arguments.length > 2 ? arguments[2] : undefined;\n          if (url) {\n            self.handleUrlChange(self._lastHref, url + '');\n          }\n          return orig.apply(this, arguments);\n        };\n      },\n      this.replacements,\n      'navigation',\n    );\n  }\n\n  handleUrlChange(from, to) {\n    const parsedHref = urlparser.parse(this._location.href);\n    const parsedTo = urlparser.parse(to);\n    const parsedFrom = urlparser.parse(from);\n    this._lastHref = to;\n    if (\n      parsedHref.protocol === parsedTo.protocol &&\n      parsedHref.host === parsedTo.host\n    ) {\n      to = parsedTo.path + (parsedTo.hash || '');\n    }\n    if (\n      parsedHref.protocol === parsedFrom.protocol &&\n      parsedHref.host === parsedFrom.host\n    ) {\n      from = parsedFrom.path + (parsedFrom.hash || '');\n    }\n    this.telemeter.captureNavigation(from, to, null, _.now());\n    const replayId = this.rollbar.triggerReplay({\n      type: 'navigation',\n      path: to,\n    });\n  }\n\n  deinstrumentConnectivity = function () {\n    this.removeListeners('connectivity');\n  };\n\n  instrumentConnectivity() {\n    const self = this;\n    this.addListener(\n      'connectivity',\n      this._window,\n      ['online', 'offline'],\n      (evt) => self.handleConnectivity(evt),\n    );\n  }\n\n  handleConnectivity(evt) {\n    const type = evt.type;\n\n    this.telemeter.captureConnectivityChange({\n      type,\n      isSynthetic: !evt.isTrusted,\n      timestamp: _.now(),\n    });\n  }\n\n  handleCspEvent(cspEvent) {\n    let message =\n      'Security Policy Violation: ' +\n      'blockedURI: ' +\n      cspEvent.blockedURI +\n      ', ' +\n      'violatedDirective: ' +\n      cspEvent.violatedDirective +\n      ', ' +\n      'effectiveDirective: ' +\n      cspEvent.effectiveDirective +\n      ', ';\n\n    if (cspEvent.sourceFile) {\n      message +=\n        'location: ' +\n        cspEvent.sourceFile +\n        ', ' +\n        'line: ' +\n        cspEvent.lineNumber +\n        ', ' +\n        'col: ' +\n        cspEvent.columnNumber +\n        ', ';\n    }\n\n    message += 'originalPolicy: ' + cspEvent.originalPolicy;\n\n    this.telemeter.captureLog(message, 'error', null, _.now());\n    this.handleCspError(message);\n  }\n\n  handleCspError(message) {\n    if (this.autoInstrument.errorOnContentSecurityPolicy) {\n      this.rollbar.error(message);\n    }\n  }\n\n  deinstrumentContentSecurityPolicy() {\n    this.removeListeners('contentsecuritypolicy');\n  }\n\n  instrumentContentSecurityPolicy() {\n    if (!('addEventListener' in this._document)) {\n      return;\n    }\n\n    const cspHandler = this.handleCspEvent.bind(this);\n    this.addListener(\n      'contentsecuritypolicy',\n      this._document,\n      ['securitypolicyviolation'],\n      cspHandler,\n    );\n  }\n\n  addListener(section, obj, types, handler) {\n    if (obj.addEventListener) {\n      for (const t of types) {\n        const options = { capture: true, passive: true };\n        obj.addEventListener(t, handler, options, true);\n        this.eventRemovers[section].push(function () {\n          obj.removeEventListener(t, handler, options);\n        });\n      }\n    }\n  }\n\n  removeListeners(section) {\n    let r;\n    while (this.eventRemovers[section].length) {\n      r = this.eventRemovers[section].shift();\n      r();\n    }\n  }\n}\n\nfunction _isUrlObject(input) {\n  return typeof URL !== 'undefined' && input instanceof URL;\n}\n\nexport default Instrumenter;\n","function wrapGlobals(window, handler, shim) {\n  if (!window) {\n    return;\n  }\n  // Adapted from https://github.com/bugsnag/bugsnag-js\n  var globals =\n    'EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload'.split(\n      ',',\n    );\n  var i, global;\n  for (i = 0; i < globals.length; ++i) {\n    global = globals[i];\n\n    if (window[global] && window[global].prototype) {\n      _extendListenerPrototype(handler, window[global].prototype, shim);\n    }\n  }\n}\n\nfunction _extendListenerPrototype(handler, prototype, shim) {\n  if (\n    prototype.hasOwnProperty &&\n    prototype.hasOwnProperty('addEventListener')\n  ) {\n    var oldAddEventListener = prototype.addEventListener;\n    while (\n      oldAddEventListener._rollbarOldAdd &&\n      oldAddEventListener.belongsToShim\n    ) {\n      oldAddEventListener = oldAddEventListener._rollbarOldAdd;\n    }\n    var addFn = function (event, callback, bubble) {\n      oldAddEventListener.call(this, event, handler.wrap(callback), bubble);\n    };\n    addFn._rollbarOldAdd = oldAddEventListener;\n    addFn.belongsToShim = shim;\n    prototype.addEventListener = addFn;\n\n    var oldRemoveEventListener = prototype.removeEventListener;\n    while (\n      oldRemoveEventListener._rollbarOldRemove &&\n      oldRemoveEventListener.belongsToShim\n    ) {\n      oldRemoveEventListener = oldRemoveEventListener._rollbarOldRemove;\n    }\n    var removeFn = function (event, callback, bubble) {\n      oldRemoveEventListener.call(\n        this,\n        event,\n        (callback && callback._rollbar_wrapped) || callback,\n        bubble,\n      );\n    };\n    removeFn._rollbarOldRemove = oldRemoveEventListener;\n    removeFn.belongsToShim = shim;\n    prototype.removeEventListener = removeFn;\n  }\n}\n\nexport default wrapGlobals;\n","import * as _ from './utility.js';\nimport traverse from './utility/traverse.js';\n\nfunction raw(payload, jsonBackup) {\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction selectFrames(frames, range) {\n  var len = frames.length;\n  if (len > range * 2) {\n    return frames.slice(0, range).concat(frames.slice(len - range));\n  }\n  return frames;\n}\n\nfunction truncateFrames(payload, jsonBackup, range) {\n  range = typeof range === 'undefined' ? 30 : range;\n  var body = payload.data.body;\n  var frames;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      frames = chain[i].frames;\n      frames = selectFrames(frames, range);\n      chain[i].frames = frames;\n    }\n  } else if (body.trace) {\n    frames = body.trace.frames;\n    frames = selectFrames(frames, range);\n    body.trace.frames = frames;\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction maybeTruncateValue(len, val) {\n  if (!val) {\n    return val;\n  }\n  if (val.length > len) {\n    return val.slice(0, len - 3).concat('...');\n  }\n  return val;\n}\n\nfunction truncateStrings(len, payload, jsonBackup) {\n  function truncator(k, v, seen) {\n    switch (_.typeName(v)) {\n      case 'string':\n        return maybeTruncateValue(len, v);\n      case 'object':\n      case 'array':\n        return traverse(v, truncator, seen);\n      default:\n        return v;\n    }\n  }\n  payload = traverse(payload, truncator);\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction truncateTraceData(traceData) {\n  if (traceData.exception) {\n    delete traceData.exception.description;\n    traceData.exception.message = maybeTruncateValue(\n      255,\n      traceData.exception.message,\n    );\n  }\n  traceData.frames = selectFrames(traceData.frames, 1);\n  return traceData;\n}\n\nfunction minBody(payload, jsonBackup) {\n  var body = payload.data.body;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      chain[i] = truncateTraceData(chain[i]);\n    }\n  } else if (body.trace) {\n    body.trace = truncateTraceData(body.trace);\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction needsTruncation(payload, maxSize) {\n  return _.maxByteSize(payload) > maxSize;\n}\n\nfunction truncate(payload, jsonBackup, maxSize) {\n  maxSize = typeof maxSize === 'undefined' ? 512 * 1024 : maxSize;\n  var strategies = [\n    raw,\n    truncateFrames,\n    truncateStrings.bind(null, 1024),\n    truncateStrings.bind(null, 512),\n    truncateStrings.bind(null, 256),\n    minBody,\n  ];\n  var strategy, results, result;\n\n  while ((strategy = strategies.shift())) {\n    results = strategy(payload, jsonBackup);\n    payload = results[0];\n    result = results[1];\n    if (result.error || !needsTruncation(result.value, maxSize)) {\n      return result;\n    }\n  }\n  return result;\n}\n\nexport default {\n  truncate,\n\n  /* for testing */\n  raw,\n  truncateFrames,\n  truncateStrings,\n  maybeTruncateValue,\n};\n","export class Context {\n  constructor(parentContext) {\n    this._currentContext = parentContext ? new Map(parentContext) : new Map();\n  }\n\n  getValue(key) {\n    return this._currentContext.get(key);\n  }\n\n  setValue(key, value) {\n    const context = new Context(this._currentContext);\n    context._currentContext.set(key, value);\n    return context;\n  }\n\n  deleteValue(key) {\n    const context = new Context(self._currentContext);\n    context._currentContext.delete(key);\n    return context;\n  }\n}\n\nexport const ROOT_CONTEXT = new Context();\n","import { ROOT_CONTEXT } from './context.js';\n\nexport class ContextManager {\n  constructor() {\n    this.currentContext = ROOT_CONTEXT;\n  }\n\n  active() {\n    return this.currentContext;\n  }\n\n  enterContext(context) {\n    const previousContext = this.currentContext;\n    this.currentContext = context || ROOT_CONTEXT;\n    return previousContext;\n  }\n\n  exitContext(context) {\n    this.currentContext = context;\n    return this.currentContext;\n  }\n\n  with(context, fn, thisArg, ...args) {\n    const previousContext = this.enterContext(context);\n    try {\n      return fn.call(thisArg, ...args);\n    } finally {\n      this.exitContext(previousContext);\n    }\n  }\n}\n\nexport function createContextKey(key) {\n  // Use Symbol for OpenTelemetry compatibility.\n  return Symbol.for(key);\n}\n","/**\n * Generate a random hexadecimal ID of specified byte length\n *\n * @param {number} bytes - Number of bytes for the ID (default: 16)\n * @returns {string} - Hexadecimal string representation\n */\nfunction gen(bytes = 16) {\n  let randomBytes = new Uint8Array(bytes);\n  crypto.getRandomValues(randomBytes);\n  let randHex = Array.from(randomBytes, (byte) =>\n    byte.toString(16).padStart(2, '0'),\n  ).join('');\n  return randHex;\n}\n\n/**\n * Tracing id generation utils\n *\n * @example\n * import id from './id.js';\n *\n * const spanId = id.gen(8); // => \"a1b2c3d4e5f6...\"\n */\nexport default { gen };\n","import id from './id.js';\n\nconst SESSION_KEY = 'RollbarSession';\n\nexport class Session {\n  _attributes;\n\n  constructor(tracing, options) {\n    this.options = options;\n    this.tracing = tracing;\n    this.window = tracing.window;\n    this.session = null;\n    this._attributes = {};\n  }\n\n  init(attrs = {}) {\n    if (this.session) {\n      return this;\n    }\n    this.getSession() || this.createSession();\n\n    this.initSessionAttributes(attrs);\n\n    return this;\n  }\n\n  getSession() {\n    try {\n      const serializedSession = this.window.sessionStorage.getItem(SESSION_KEY);\n\n      if (!serializedSession) {\n        return null;\n      }\n\n      this.session = JSON.parse(serializedSession);\n    } catch {\n      return null;\n    }\n    return this;\n  }\n\n  createSession() {\n    this.session = {\n      id: id.gen(),\n      createdAt: Date.now(),\n    };\n\n    return this.setSession(this.session);\n  }\n\n  setSession(session) {\n    const sessionString = JSON.stringify(session);\n\n    try {\n      this.window.sessionStorage.setItem(SESSION_KEY, sessionString);\n    } catch {\n      return null;\n    }\n    return this;\n  }\n\n  get attributes() {\n    return this._attributes;\n  }\n\n  setAttributes(attributes) {\n    this._attributes = { ...this._attributes, ...attributes };\n    return this;\n  }\n\n  setUser(user) {\n    this.setAttributes({\n      'user.id': user?.id,\n      'user.email': user?.email,\n      'user.name': user?.name || user?.username,\n    });\n    return this;\n  }\n\n  initSessionAttributes(attrs) {\n    this.setAttributes({\n      'session.id': this.session.id,\n      'browser.brands': navigator.userAgentData?.brands,\n      'browser.language': navigator.language,\n      'browser.mobile': navigator.userAgentData?.mobile,\n      'browser.platform': navigator.userAgentData?.platform,\n      'client.address': '$remote_ip', // updated at the API\n      'rollbar.notifier.framework': 'browser-js',\n      'user_agent.original': navigator.userAgent,\n      ...attrs,\n    });\n    return this;\n  }\n}\n","/**\n * @module hrtime\n *\n * @description Methods for handling OpenTelemetry hrtime.\n */\n\n/**\n * Convert a duration in milliseconds to an OpenTelemetry hrtime tuple.\n *\n * @param {number} millis - The duration in milliseconds.\n * @returns {[number, number]} An array where the first element is seconds\n *   and the second is nanoseconds.\n */\nfunction fromMillis(millis) {\n  return [Math.trunc(millis / 1000), Math.round((millis % 1000) * 1e6)];\n}\n\n/**\n * Convert an OpenTelemetry hrtime tuple back to a duration in milliseconds.\n *\n * @param {[number, number]} hrtime - The hrtime tuple [seconds, nanoseconds].\n * @returns {number} The total duration in milliseconds.\n */\nfunction toMillis(hrtime) {\n  return hrtime[0] * 1e3 + Math.round(hrtime[1] / 1e6);\n}\n\n/**\n * Convert an OpenTelemetry hrtime tuple back to a duration in nanoseconds.\n *\n * @param {[number, number]} hrtime - The hrtime tuple [seconds, nanoseconds].\n * @returns {number} The total duration in nanoseconds.\n */\nfunction toNanos(hrtime) {\n  return hrtime[0] * 1e9 + hrtime[1];\n}\n\n/**\n * Adds two OpenTelemetry hrtime tuples.\n *\n * @param {[number, number]} a - The first hrtime tuple [s, ns].\n * @param {[number, number]} b - The second hrtime tuple [s, ns].\n * @returns {[number, number]} Summed hrtime tuple, normalized.\n *\n */\nfunction add(a, b) {\n  return [a[0] + b[0] + Math.trunc((a[1] + b[1]) / 1e9), (a[1] + b[1]) % 1e9];\n}\n\n/**\n * Get the current high-resolution time as an OpenTelemetry hrtime tuple.\n *\n * @param {boolean} usePerformance=false - If true, uses the Performance API (timeOrigin + now()).\n *\n * @returns {[number, number]} The current hrtime tuple [s, ns].\n */\nfunction now(usePerformance = false) {\n  if (usePerformance) {\n    return add(\n      fromMillis(performance.timeOrigin),\n      fromMillis(performance.now()),\n    );\n  }\n  return fromMillis(Date.now());\n}\n\n/**\n * Check if a value is a valid OpenTelemetry hrtime tuple.\n *\n * An hrtime tuple is an Array of exactly two numbers:\n *   [seconds, nanoseconds]\n *\n * @param {*} value  anything to test\n * @returns {boolean} true if `value` is a [number, number] array of length 2\n *\n * @example\n * isHrTime([ 1, 500 ]);         // true\n * isHrTime([ 0, 1e9 ]);         // true\n * isHrTime([ '1', 500 ]);       // false\n * isHrTime({ 0: 1, 1: 500 });   // false\n */\nfunction isHrTime(value) {\n  return (\n    Array.isArray(value) &&\n    value.length === 2 &&\n    typeof value[0] === 'number' &&\n    typeof value[1] === 'number'\n  );\n}\n\n/**\n * Methods for handling hrtime. OpenTelemetry uses the [seconds, nanoseconds]\n * format for hrtime in the `ReadableSpan` interface.\n *\n * @example\n * import hrtime from '@tracing/hrtime.js';\n *\n * hrtime.fromMillis(1000);\n * hrtime.toMillis([0, 1000]);\n * hrtime.add([0, 0], [0, 1000]);\n * hrtime.now();\n * hrtime.isHrTime([0, 1000]);\n */\nexport default { fromMillis, toMillis, toNanos, add, now, isHrTime };\n","import hrtime from './hrtime.js';\n\n/**\n * SpanExporter is responsible for exporting ReadableSpan objects\n * and transforming them into the OTLP-compatible format.\n */\nexport class SpanExporter {\n  constructor(api, options = {}) {\n    this.api = api;\n    this.options = options;\n  }\n\n  /**\n   * Export spans to the span export queue\n   *\n   * @param {Array} spans - Array of ReadableSpan objects to export\n   * @param {Function} _resultCallback - Optional callback (not used)\n   */\n  export(spans, _resultCallback) {\n    spanExportQueue.push(...spans);\n  }\n\n  /**\n   * Transforms an array of ReadableSpan objects into the OTLP format payload\n   * compatible with the Rollbar API. This follows the OpenTelemetry protocol\n   * specification for traces.\n   *\n   * @returns {Object} OTLP format payload for API transmission\n   */\n  toPayload() {\n    const spans = spanExportQueue.slice();\n    spanExportQueue.length = 0;\n\n    if (!spans || !spans.length) {\n      return { resourceSpans: [] };\n    }\n\n    const resource = (spans[0] && spans[0].resource) || {};\n\n    const scopeMap = new Map();\n\n    for (const span of spans) {\n      const scopeKey = span.instrumentationScope\n        ? `${span.instrumentationScope.name}:${span.instrumentationScope.version}`\n        : 'default:1.0.0';\n\n      if (!scopeMap.has(scopeKey)) {\n        scopeMap.set(scopeKey, {\n          scope: span.instrumentationScope || {\n            name: 'default',\n            version: '1.0.0',\n            attributes: [],\n          },\n          spans: [],\n        });\n      }\n\n      scopeMap.get(scopeKey).spans.push(this._transformSpan(span));\n    }\n\n    return {\n      resourceSpans: [\n        {\n          resource: this._transformResource(resource),\n          scopeSpans: Array.from(scopeMap.values()).map((scopeData) => ({\n            scope: this._transformInstrumentationScope(scopeData.scope),\n            spans: scopeData.spans,\n          })),\n        },\n      ],\n    };\n  }\n\n  /**\n   * Sends the given payload to the Rollbar API.\n   *\n   * @param {String} payload - Serialized OTLP format payload\n   * @param {Object} headers - Optional request headers\n   * @returns {Promise} Promise that resolves when the request completes\n   */\n  post(payload, headers = {}) {\n    return this.api.postSpans(payload, headers);\n  }\n\n  /**\n   * Transforms a ReadableSpan into the OTLP Span format\n   *\n   * @private\n   * @param {Object} span - ReadableSpan object to transform\n   * @returns {Object} OTLP Span format\n   */\n  _transformSpan(span) {\n    const transformAttributes = (attributes) => {\n      return Object.entries(attributes || {}).map(([key, value]) => ({\n        key,\n        value: this._transformAnyValue(value),\n      }));\n    };\n\n    const transformEvents = (events) => {\n      return (events || []).map((event) => ({\n        timeUnixNano: hrtime.toNanos(event.time),\n        name: event.name,\n        attributes: transformAttributes(event.attributes),\n      }));\n    };\n\n    return {\n      traceId: span.spanContext.traceId,\n      spanId: span.spanContext.spanId,\n      parentSpanId: span.parentSpanId || '',\n      name: span.name,\n      kind: span.kind || 1, // INTERNAL by default\n      startTimeUnixNano: hrtime.toNanos(span.startTime),\n      endTimeUnixNano: hrtime.toNanos(span.endTime),\n      attributes: transformAttributes(span.attributes),\n      events: transformEvents(span.events),\n    };\n  }\n\n  /**\n   * Transforms a resource object into OTLP Resource format\n   *\n   * @private\n   * @param {Object} resource - Resource information\n   * @returns {Object} OTLP Resource format\n   */\n  _transformResource(resource) {\n    const attributes = resource.attributes || {};\n    const keyValues = Object.entries(attributes).map(([key, value]) => ({\n      key,\n      value: this._transformAnyValue(value),\n    }));\n\n    return {\n      attributes: keyValues,\n    };\n  }\n\n  /**\n   * Transforms an instrumentation scope into OTLP InstrumentationScope format\n   *\n   * @private\n   * @param {Object} scope - Instrumentation scope information\n   * @returns {Object} OTLP InstrumentationScope format\n   */\n  _transformInstrumentationScope(scope) {\n    return {\n      name: scope.name || '',\n      version: scope.version || '',\n      attributes: (scope.attributes || []).map((attr) => ({\n        key: attr.key,\n        value: this._transformAnyValue(attr.value),\n      })),\n    };\n  }\n\n  /**\n   * Transforms a JavaScript value into an OTLP AnyValue\n   *\n   * @private\n   * @param {any} value - Value to transform\n   * @returns {Object} OTLP AnyValue format\n   */\n  _transformAnyValue(value) {\n    if (value === null || value === undefined) {\n      return { stringValue: '' };\n    }\n\n    const type = typeof value;\n\n    if (type === 'string') {\n      return { stringValue: value };\n    } else if (type === 'number') {\n      if (Number.isInteger(value)) {\n        return { intValue: value.toString() };\n      } else {\n        return { doubleValue: value };\n      }\n    } else if (type === 'boolean') {\n      return { boolValue: value };\n    } else if (Array.isArray(value)) {\n      return {\n        arrayValue: {\n          values: value.map((v) => this._transformAnyValue(v)),\n        },\n      };\n    } else if (type === 'object') {\n      return {\n        kvlistValue: {\n          values: Object.entries(value).map(([k, v]) => ({\n            key: k,\n            value: this._transformAnyValue(v),\n          })),\n        },\n      };\n    }\n\n    return { stringValue: String(value) };\n  }\n}\n\nexport const spanExportQueue = [];\n","import logger from '../logger.js';\n\nexport class SpanProcessor {\n  constructor(exporter, options = {}) {\n    this.exporter = exporter;\n    this.options = options;\n    this.pendingSpans = new Map();\n    this.transforms = [this.userTransform.bind(this)];\n  }\n\n  addTransform(transformFn) {\n    this.transforms.unshift(transformFn);\n  }\n\n  userTransform(span) {\n    if (this.options.transformSpan) {\n      this.options.transformSpan({ span: span });\n    }\n  }\n\n  applyTransforms(span) {\n    for (const transform of this.transforms) {\n      try {\n        transform(span);\n      } catch (e) {\n        logger.error('Error running span transform callback', e);\n      }\n    }\n  }\n\n  onStart(span, _parentContext) {\n    this.pendingSpans.set(span.span.spanContext.spanId, span);\n  }\n\n  onEnd(span) {\n    this.applyTransforms(span.span);\n    this.exporter.export([span.export()]);\n    this.pendingSpans.delete(span.span.spanContext.spanId);\n  }\n}\n","import hrtime from './hrtime.js';\n\nexport class Span {\n  constructor(options) {\n    this.usePerformance = options.usePerformance;\n    this.initReadableSpan(options);\n\n    this.spanProcessor = options.spanProcessor;\n    this.spanProcessor.onStart(this, options.context);\n\n    if (options.attributes) {\n      this.setAttributes(options.attributes);\n    }\n    return this;\n  }\n\n  initReadableSpan(options) {\n    this.span = {\n      name: options.name,\n      kind: options.kind,\n      spanContext: options.spanContext,\n      parentSpanId: options.parentSpanId,\n      startTime: options.startTime || hrtime.now(options.usePerformance),\n      endTime: [0, 0],\n      status: { code: 0, message: '' },\n      attributes: { 'session.id': options.session?.id },\n      links: [],\n      events: [],\n      duration: 0,\n      ended: false,\n      resource: options.resource,\n      instrumentationScope: options.scope,\n      droppedAttributesCount: 0,\n      droppedEventsCount: 0,\n      droppedLinksCount: 0,\n    };\n  }\n\n  spanContext() {\n    return this.span.spanContext;\n  }\n\n  get spanId() {\n    return this.span.spanContext.spanId;\n  }\n\n  get traceId() {\n    return this.span.spanContext.traceId;\n  }\n\n  setAttribute(key, value) {\n    if (value == null || this.span.ended) return this;\n    if (key.length === 0) return this;\n\n    this.span.attributes[key] = value;\n    return this;\n  }\n\n  setAttributes(attributes) {\n    for (const [k, v] of Object.entries(attributes)) {\n      this.setAttribute(k, v);\n    }\n    return this;\n  }\n\n  addEvent(name, attributes = {}, time) {\n    if (this.span.ended) return this;\n\n    this.span.events.push({\n      name,\n      attributes,\n      time: time || hrtime.now(),\n      droppedAttributesCount: 0,\n    });\n\n    return this;\n  }\n\n  isRecording() {\n    return this.span.ended === false;\n  }\n\n  end(attributes, time) {\n    if (attributes) this.setAttributes(attributes);\n    this.span.endTime = time || hrtime.now(this.usePerformance);\n    this.span.ended = true;\n    this.spanProcessor.onEnd(this);\n  }\n\n  export() {\n    return this.span;\n  }\n}\n","import { Span } from './span.js';\nimport id from './id.js';\n\nexport class Tracer {\n  constructor(tracing, spanProcessor) {\n    this.spanProcessor = spanProcessor;\n    this.tracing = tracing;\n  }\n\n  startSpan(\n    name,\n    options = {},\n    context = this.tracing.contextManager.active(),\n  ) {\n    const parentSpan = this.tracing.getSpan(context);\n    const parentSpanContext = parentSpan?.spanContext();\n    const spanId = id.gen(8);\n    let traceId;\n    let traceFlags = 0;\n    let traceState = null;\n    let parentSpanId;\n    if (parentSpanContext) {\n      traceId = parentSpanContext.traceId;\n      traceState = parentSpanContext.traceState;\n      parentSpanId = parentSpanContext.spanId;\n    } else {\n      traceId = id.gen(16);\n    }\n\n    const kind = 0;\n    const spanContext = { traceId, spanId, traceFlags, traceState };\n    const resource = {\n      attributes: {\n        ...(this.tracing.resource?.attributes || {}),\n        ...(options.resource?.attributes || {}),\n      },\n    };\n\n    const span = new Span({\n      resource: resource,\n      scope: this.tracing.scope,\n      session: this.tracing.session?.session,\n      context,\n      spanContext,\n      name,\n      kind,\n      parentSpanId,\n      spanProcessor: this.spanProcessor,\n      startTime: options.startTime,\n      usePerformance: options.usePerformance,\n    });\n    return span;\n  }\n}\n","import { ContextManager, createContextKey } from './contextManager.js';\nimport { Session } from './session.js';\nimport { SpanExporter } from './exporter.js';\nimport { SpanProcessor } from './spanProcessor.js';\nimport { Tracer } from './tracer.js';\nimport id from './id.js';\n\nconst SPAN_KEY = createContextKey('Rollbar Context Key SPAN');\n\nexport default class Tracing {\n  constructor(gWindow, api, options) {\n    this.api = api;\n    this.options = options;\n    this.window = gWindow;\n\n    if (this.window.sessionStorage) {\n      this.session = new Session(this, options);\n    }\n    this.createTracer();\n  }\n\n  configure(options) {\n    // Options merge happens before configure is called, so we can just replace.\n    this.options = options;\n  }\n\n  initSession() {\n    if (this.session) {\n      this.session.init();\n    }\n  }\n\n  get sessionId() {\n    if (this.session) {\n      return this.session.session.id;\n    }\n    return null;\n  }\n\n  get resource() {\n    return {\n      attributes: {\n        ...(this.options.resource || {}),\n        'rollbar.environment':\n          this.options.payload?.environment ?? this.options.environment,\n      },\n    };\n  }\n\n  get scope() {\n    return {\n      name: 'rollbar-browser-js',\n      version: this.options.version,\n    };\n  }\n\n  idGen(bytes = 16) {\n    return id.gen(bytes);\n  }\n\n  createTracer() {\n    this.contextManager = new ContextManager();\n    this.exporter = new SpanExporter(this.api, this.options);\n    this.spanProcessor = new SpanProcessor(this.exporter, this.options.tracing);\n    this.tracer = new Tracer(this, this.spanProcessor);\n  }\n\n  getTracer() {\n    return this.tracer;\n  }\n\n  addSpanTransform(transformFn) {\n    this.spanProcessor.addTransform(transformFn);\n  }\n\n  getSpan(context = this.contextManager.active()) {\n    return context.getValue(SPAN_KEY);\n  }\n\n  setSpan(context = this.contextManager.active(), span) {\n    return context.setValue(SPAN_KEY, span);\n  }\n\n  startSpan(name, options = {}, context = this.contextManager.active()) {\n    return this.tracer.startSpan(name, options, context);\n  }\n\n  with(context, fn, thisArg, ...args) {\n    return this.contextManager.with(context, fn, thisArg, ...args);\n  }\n\n  withSpan(name, options, fn, thisArg) {\n    const span = this.startSpan(name, options);\n    return this.with(\n      this.setSpan(this.contextManager.active(), span),\n      fn,\n      thisArg,\n      span,\n    );\n  }\n}\n","import Rollbar from './core.js';\nimport Telemeter from '../telemetry.js';\nimport Instrumenter from './telemetry.js';\nimport wrapGlobals from './wrapGlobals.js';\nimport scrub from '../scrub.js';\nimport truncation from '../truncation.js';\nimport Tracing from '../tracing/tracing.js';\n\nRollbar.setComponents({\n  telemeter: Telemeter,\n  instrumenter: Instrumenter,\n  wrapGlobals: wrapGlobals,\n  scrub: scrub,\n  truncation: truncation,\n  tracing: Tracing,\n});\n\nexport default Rollbar;\n","import rollbar from '../rollbar.js';\n\nvar options = (typeof window !== 'undefined') && window._rollbarConfig;\nvar alias = options && options.globalAlias || 'Rollbar';\nvar shimRunning = (typeof window !== 'undefined') && window[alias] && typeof window[alias].shimId === 'function' && window[alias].shimId() !== undefined;\n\nif ((typeof window !== 'undefined') && !window._rollbarStartTime) {\n  window._rollbarStartTime = (new Date()).getTime();\n}\n\nif (!shimRunning && options) {\n  var Rollbar = new rollbar(options);\n  window[alias] = Rollbar;\n} else if (typeof window !== 'undefined') {\n  window.rollbar = rollbar;\n  window._rollbarDidLoad = true;\n} else if (typeof self !== 'undefined') {\n  self.rollbar = rollbar;\n  self._rollbarDidLoad = true;\n}\n\nexport default rollbar;\n"],"names":["hasOwn","Object","prototype","hasOwnProperty","toStr","toString","isPlainObject","obj","call","hasOwnConstructor","hasIsPrototypeOf","constructor","key","merge","i","src","copy","clone","name","result","create","current","length","arguments","isType","x","t","typeName","_typeof","Error","match","toLowerCase","isFunction","f","isNativeFunction","reRegExpChar","funcMatchString","Function","replace","reIsNative","RegExp","isObject","test","value","type","isString","String","isFiniteNumber","n","Number","isFinite","isDefined","u","isIterable","isError","e","isPromise","p","then","isBrowser","window","redact","uuid4","d","now","uuid","c","r","Math","random","floor","LEVELS","debug","info","warning","error","critical","sanitizeHref","url","urlObject","URL","password","search","_","sanitizeUrl","baseUrlParts","parseUri","anchor","source","query","parseUriOptions","strictMode","q","parser","strict","loose","str","undefined","o","m","exec","uri","l","$0","$1","$2","addParamsAndAccessTokenToPath","accessToken","options","params","access_token","paramsArray","k","push","join","sort","path","qs","indexOf","h","substring","formatUrl","protocol","port","hostname","stringify","backup","JSON","jsonError","backupError","maxByteSize","string","count","code","charCodeAt","jsonParse","s","parse","makeUnhandledStackInfo","message","lineno","colno","mode","backupMessage","errorParser","location","line","column","func","guessFunctionName","context","gatherContext","href","document","useragent","navigator","userAgent","stack","wrapCallback","logger","err","resp","nonCircularClone","seen","newSeen","includes","slice","createItem","args","notifier","requestKeys","lambdaContext","custom","callback","request","arg","extraArgs","diagnostic","argTypes","typ","DOMException","j","len","item","timestamp","data","setCustomItemKeys","_originalArgs","original_arg_types","level","skipFrames","addErrorContext","errors","contextAdded","rollbarContext","error_context","TELEMETRY_TYPES","TELEMETRY_LEVELS","arrayIncludes","arr","val","createTelemetryEvent","metadata","event","addItemAttributes","itemData","attributes","_iterator","_createForOfIteratorHelper","_step","done","a","get","keys","split","set","setPrototypeOf","temp","replacement","formatArgsAsString","substr","Date","filterIp","requestData","captureIp","newIp","parts","pop","beginning","slashIdx","terminal","concat","handleOptions","input","payload","updateDeprecatedOptions","overwriteScrubFields","scrubFields","hostWhiteList","hostSafeList","log","hostBlackList","hostBlockList","RateLimiter","startTime","counter","perMinCounter","platform","platformOptions","configureGlobal","globalSettings","maxItems","itemsPerMinute","shouldSend","elapsedTime","globalRateLimit","globalRateLimitPerMin","checkRate","shouldSendValue","perMinute","setPlatformOptions","limit","ignoreRateLimit","limitPerMin","rateLimitPayload","environment","msg","body","extra","language","version","framework","Queue","rateLimiter","api","replay","_classCallCheck","predicates","pendingItems","pendingRequests","retryQueue","retryHandle","waitCallback","waitIntervalID","_createClass","configure","_this$api","oldOptions","addPredicate","predicate","addPendingItem","removePendingItem","idx","splice","addItem","originalError","originalItem","_this","predicateResult","_applyPredicates","stop","_maybeLog","transmit","replayId","capture","_makeApiRequest","headers","_dequeuePendingRequest","sendOrDiscardReplay","_this$replay","discard","wait","_this2","_maybeCallWait","clearInterval","setInterval","_this3","rateLimitResponse","postItem","_maybeRetry","shouldRetry","retryInterval","RETRIABLE_ERRORS","maxRetries","retries","_retryApiRequest","_this4","retryObject","shift","verbose","_defineProperty","Notifier","queue","transforms","addTransform","transform","enabled","_applyTransforms","bind","transformIndex","transformsLength","cb","Rollbar","telemeter","tracing","tracer","validateTracer","_configuredOptions","setStackTraceLimit","lastError","lastErrorHash","defaultOptions","global","payloadData","_defaultLogLevel","_log","warn","captureEvent","captureDomContentLoaded","ts","captureLoad","buildJsonPayload","sendJsonPayload","jsonPayload","postJsonPayload","defaultLevel","ignoreDuplicateErrors","_sameAsLastError","_addTracingAttributes","_addTracingInfo","_captureRollbarItem","telemetryEvents","copyEvents","_this$tracing","_this$tracing2","span","getSpan","sessionId","spanId","traceId","addEvent","logLevel","_isUncaught","itemHash","generateItemHash","scope","active","validateSpan","setTag","opentracingSpanId","toSpanId","opentracingTraceId","toTraceId","opentracing_span_id","opentracing_trace_id","stackTraceLimit","spanContext","buildPayload","contextResult","getTransportFromOptions","defaults","timeout","transport","detectTransport","proxy","endpoint","opts","pathname","gWindow","self","defaultTransport","fetch","XMLHttpRequest","transportOptions","method","transportAPI","host","appendPathToPath","base","baseTrailingSlash","pathBeginningSlash","_regeneratorRuntime","defineProperty","Symbol","iterator","asyncIterator","toStringTag","define","enumerable","configurable","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","y","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","callInvokeWithMethodAndArg","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","mark","__proto__","awrap","async","Promise","reverse","prev","charAt","rval","handle","complete","finish","catch","_catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","apply","_next","_throw","helpers","OTLPDefaultOptions","Api","urllib","truncation","_getTransport","OTLPTransportOptions","_getOTLPTransport","_postPromise","_ref","reject","post","setTimeout","postSpans","_ref2","_callee","_args","_callee$","_context","_x","stringifyResult","truncate","_options$tracing","_objectSpread","levels","disable","_len","Array","_key","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","init","unshift","console","captureUncaughtExceptions","handler","shim","oldOnError","_rollbarOldOnError","onerror","handleAnonymousErrors","fn","_rollbarWindowOnError","old","_rollbarWrappedError","_rollbarContext","ret","handleUncaughtException","anonymousErrorsPending","captureUnhandledRejections","_rollbarURH","belongsToShim","removeEventListener","rejectionHandler","evt","reason","promise","detail","handleUnhandledRejection","addEventListener","makeFetchRequest","controller","timeoutId","AbortController","abort","signal","response","clearTimeout","respHeaders","isItemRoute","endsWith","json","makeXhrRequest","requestFactory","_createXMLHTTPObject","onreadystatechange","readyState","parseResponse","responseText","_isSuccess","getResponseHeader","_isNormalFailure","status","_newRetriableError","ex","exc","open","setRequestHeader","_i","_Object$entries","entries","_Object$entries$_i","_slicedToArray","send","e1","XDomainRequest","xdomainrequest","onprogress","ontimeout","onload","e2","factories","ActiveXObject","xmlhttp","numFactories","Transport","_makeZoneRequest","rootZone","Zone","root","run","_makeRequest","RollbarProxy","_proxyRequest","rollbarProxy","_msg","auth","hash","last","parseInt","pathParts","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","allowEmpty","parseStack","stackString","parseV8OrIeString","parseFFOrSafariString","extractLocation","urlLike","regExp","applySlice","lines","isArray","filtered","filter","map","sanitizedLine","locationParts","functionName","fileName","function","file","col","raw","functionNameRegex","matches","parseOpera9","parseOpera10","parseOpera11","lineRE","tokens","functionCall","argsRaw","parse$1","parseV8OrIE$1","parseFFOrSafari$1","parseOpera$1","parseOpera9$1","parseOpera10$1","parseOpera11$1","stackframesLiteToStackframes","liteStackframes","liteStackframe","lineNumber","columnNumber","parseErrorStack","UNKNOWN_FUNCTION","ERR_CLASS_REGEXP","Frame","stackFrame","_stackFrame","Stack","exception","skip","getStack","parserStack","_mostSpecificErrorName","rawStack","rawException","nested","cause","traceChain","guessErrorClass","errMsg","errClassMatch","errClass","constructorName","handleDomException","handleItemWithError","stackInfo","_savedStackTrace","description","chain","ensureItemHasSomethingToSay","addBaseInfo","server","addRequestInfo","requestInfo","query_string","remoteString","user_ip","addClientInfo","nav","scr","screen","runtime_ms","_rollbarStartTime","round","javascript","browser","cookie_enabled","cookieEnabled","width","height","addPluginInfo","plugins","navPlugins","cur","addBody","addBodyTraceChain","addBodyTrace","addBodyMessage","stackFromItem","_unhandledStackInfo","traces","traceChainLength","trace","buildTrace","trace_chain","guess","className","errorClass","class","frame","pre","contextLength","mid","frames","filename","sendFrameUrl","addScrubber","scrubFn","scrubPaths","itemToPayload","addPayloadOptions","payloadOptions","addTelemetryData","addMessageWithError","tracePath","newExtra","userTransform","newItem","promisedItem","addConfigToPayload","sendConfig","configKey","addFunctionOption","addConfiguredOptions","configuredOptions","configured_options","addDiagnosticKeys","client","is_anonymous","is_uncaught","raw_error","constructor_name","failed","checkIgnore","settings","checkLevel","levelVal","reportLevel","reportLevelVal","userCheckIgnore","isUncaught","onSendCallback","urlIsNotBlockListed","urlIsOnAList","urlIsSafeListed","matchFrames","list","block","urlRegex","listLength","frameLength","safeOrBlock","tracesLength","listName","messageIsIgnored","ignoredMessages","rIgnoredMessage","messages","messagesFromItem","autoStart","triggerDefaults","samplingRatio","preDuration","postDuration","triggers","logErrors","logEmits","inlineStylesheet","inlineImages","collectFonts","maskInputOptions","email","tel","text","color","date","month","number","range","time","week","maskAllInputs","blockClass","maskTextClass","ignoreClass","slimDOMOptions","script","comment","headFavicon","headWhitespace","headMetaDescKeywords","headMetaSocial","headMetaRobots","headMetaHttpEquiv","headMetaAuthorship","headMetaVerification","uncaughtErrorLevel","itemsPerMin","commonScrubFields","apiScrubFields","requestScrubFields","commonScrubHeaders","_toConsumableArray","Client","API","globals","sharedTransforms","sharedPredicates","replayDefaults","tracingDefaults","_instance","components","Telemeter","Instrumenter","instrumenter","wrapGlobals","scrub","Tracing","Replay","_gWindow","initSession","replayOptions","recorder","start","gDocument","isChrome","chrome","runtime","addTransformsToNotifier","addPredicatesToQueue","setupUnhandledCapture","instrument","setSessionAttributesFromOptions","rollbar","_this$instrumenter","_createItem","triggerDirectReplay","triggerReplay","unhandledExceptionsInitialized","captureUncaught","handleUncaughtExceptions","wrapGlobalEventHandlers","unhandledRejectionsInitialized","handleUnhandledRejections","inspectAnonymousErrors","prepareStackTrace","_stack","_isAnonymous","reasonResult","_before","ctxFn","_isWrap","_rollbar_wrapped","_wrappedSource","prop","setSessionUser","user","session","setUser","setSessionAttributes","attrs","_this$tracing3","setAttributes","_options$payload","_options$client","_options$payload2","_options$payload3","_options$payload4","person","code_version","codeVersion","loadFull","setComponents","callInstance","maybeCallback","_getFirstFunction","_Rollbar","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","_len11","_key11","_len12","_key12","_len13","_key13","_len14","_key14","browserDefaults","includeItemsInTelemetry","MAX_EVENTS","fromMillis","millis","trunc","maxTelemetryEvents","maxQueueSize","max","min","telemetrySpan","startSpan","newMaxEvents","deleteCount","events","filterTelemetry","otelAttributes","_objectWithoutProperties","_excluded","exportTelemetrySpan","end","rollbarUUID","getLevel","timestamp_ms","captureError","_this$telemetrySpan","captureLog","_this$telemetrySpan2","_this$telemetrySpan3","captureNetwork","subtype","_metadata$response","_this$telemetrySpan4","levelFromStatus","status_code","endTimeNano","end_time_ms","statusCode","request_headers","start_time_ms","captureDom","element","checked","captureInput","_this$telemetrySpan5","isSynthetic","endTimeUnixNano","_getRepeatedEvent","_updateRepeatedEvent","captureClick","_ref3","_this$telemetrySpan6","lastEvent","_lastEvent","target","duration","textZoomRatio","rate","captureFocus","_ref4","_this$telemetrySpan7","captureResize","_ref5","_this$telemetrySpan8","captureDragDrop","_ref6","_this$telemetrySpan9","dropEffect","effectAllowed","kinds","mediaTypes","captureNavigation","from","to","_this$telemetrySpan10","getTime","captureConnectivityChange","_ref7","_this$telemetrySpan11","manual","Headers","FetchHeaders","normalizeName","normalizeValue","iteratorFor","items","append","header","getOwnPropertyNames","oldValue","has","thisArg","replacements","orig","traverse","isObj","seenIndex","mapped","same","scrubPath","paramRes","_getScrubFieldRegexs","queryRes","_getScrubQueryParamRegexs","redactQueryParam","dummy0","paramPart","paramScrubber","valScrubber","scrubber","tmpV","pat","getElementType","getAttribute","isDescribedElement","subtypes","tagName","getElementFromEvent","doc","elementFromPoint","clientX","clientY","treeToArray","elem","MAX_HEIGHT","out","nextDescription","describeElement","parentNode","elementArrayToString","MAX_LENGTH","separator","separatorLength","nextStr","totalLength","descriptionToString","elementString","desc","id","classes","attr","isMatchingElement","selectors","cls","classList","contains","_iterator3","_step3","_iterator2","_step2","sel","urlparser","domUtil","network","networkResponseHeaders","networkResponseBody","networkRequestHeaders","networkRequestBody","networkErrorOnHttp5xx","networkErrorOnHttp4xx","networkErrorOnHttp0","dom","navigation","connectivity","contentSecurityPolicy","errorOnContentSecurityPolicy","restore","b","nameFromDescription","defaultValueScrubber","patterns","field","_patterns","_window","_document","removeListeners","autoInstrument","configureScrubbing","eventRemovers","contentsecuritypolicy","_location","_lastHref","_options$scrubTelemet","_options$replay","_options$replay2","_options$replay3","_options$replay4","_options$replay5","_options$replay6","_options$replay7","_options$replay8","_options$replay9","scrubTelemetryInputs","telemetryScrubber","maskInputFn","scrubClasses","Boolean","scrubSelectors","blockSelector","ignoreSelector","maskTextSelector","oldSettings","instrumentNetwork","deinstrumentNetwork","instrumentConsole","deinstrumentConsole","instrumentDom","deinstrumentDom","instrumentNavigation","deinstrumentNavigation","instrumentConnectivity","deinstrumentConnectivity","instrumentContentSecurityPolicy","deinstrumentContentSecurityPolicy","wrapProp","xhr","xhrp","isUrlObject","_isUrlObject","__rollbar_xhr","request_content_type","onreadystatechangeHandler","__rollbar_event","response_content_type","headersConfig","allHeaders","getAllResponseHeaders","trim","_iterator4","_step4","isJsonContentType","scrubJson","addOtelNetworkResponse","errorOnHttpStatus","trackHttpErrors","reqHeaders","fetchHeaders","telemetryEvent","contentType","endTimeMs","inHeaders","outHeaders","currentHeader","_iterator5","_step5","_this$_window","wrapConsole","origConsole","methods","_i2","_methods","addListener","handleEvent","click","handleClick","dragdrop","handleDrag","focus","handleFocus","form","handleForm","handleInput","resize","handleResize","contentLoaded","handleContentLoaded","_evt$target","isTrusted","_evt$target2","_evt$target3","innerWidth","innerHeight","objs","dataTransfer","files","_iterator6","_step6","kind","_evt$dataTransfer","_evt$dataTransfer2","scrubInputValue","inputType","mask","_evt$target4","_evt$target5","_evt$target6","_evt$target7","_evt$target8","chromePackagedApp","app","hasPushState","history","pushState","handleUrlChange","parsedHref","parsedTo","parsedFrom","handleConnectivity","handleCspEvent","cspEvent","blockedURI","violatedDirective","effectiveDirective","sourceFile","originalPolicy","handleCspError","cspHandler","section","types","_iterator7","_step7","_loop","passive","_extendListenerPrototype","oldAddEventListener","_rollbarOldAdd","addFn","bubble","oldRemoveEventListener","_rollbarOldRemove","removeFn","jsonBackup","selectFrames","truncateFrames","maybeTruncateValue","truncateStrings","truncator","truncateTraceData","traceData","minBody","needsTruncation","maxSize","strategies","strategy","results","parentContext","_currentContext","Map","getValue","setValue","deleteValue","delete","ROOT_CONTEXT","ContextManager","currentContext","enterContext","previousContext","exitContext","with","createContextKey","for","gen","bytes","randomBytes","Uint8Array","crypto","getRandomValues","randHex","byte","padStart","SESSION_KEY","Session","_attributes","getSession","createSession","initSessionAttributes","serializedSession","sessionStorage","getItem","_unused","createdAt","setSession","sessionString","setItem","_unused2","username","_navigator$userAgentD","_navigator$userAgentD2","_navigator$userAgentD3","userAgentData","brands","mobile","toMillis","hrtime","toNanos","add","usePerformance","performance","timeOrigin","isHrTime","SpanExporter","export","spans","_resultCallback","spanExportQueue","toPayload","resourceSpans","resource","scopeMap","scopeKey","instrumentationScope","_transformSpan","_transformResource","scopeSpans","scopeData","_transformInstrumentationScope","transformAttributes","_transformAnyValue","transformEvents","timeUnixNano","parentSpanId","startTimeUnixNano","endTime","keyValues","_this5","stringValue","isInteger","intValue","doubleValue","boolValue","arrayValue","kvlistValue","SpanProcessor","exporter","pendingSpans","transformFn","transformSpan","applyTransforms","onStart","_parentContext","onEnd","Span","initReadableSpan","spanProcessor","_options$session","links","ended","droppedAttributesCount","droppedEventsCount","droppedLinksCount","setAttribute","isRecording","Tracer","_this$tracing$resourc","_options$resource","_this$tracing$session","contextManager","parentSpan","parentSpanContext","traceFlags","traceState","SPAN_KEY","createTracer","_this$options$payload","_this$options$payload2","idGen","getTracer","addSpanTransform","setSpan","_this$contextManager","withSpan","default","_rollbarConfig","alias","globalAlias","shimRunning","shimId","_rollbarDidLoad"],"sourceRoot":""}