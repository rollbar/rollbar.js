{"version":3,"file":"rollbar.umd.js","mappings":"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","sources":["webpack://rollbar/webpack/universalModuleDefinition","webpack://rollbar/webpack/bootstrap","webpack://rollbar/webpack/runtime/define property getters","webpack://rollbar/webpack/runtime/hasOwnProperty shorthand","webpack://rollbar/webpack/runtime/make namespace object","webpack://rollbar/./src/merge.js","webpack://rollbar/./src/utility.js","webpack://rollbar/./src/rateLimiter.js","webpack://rollbar/./src/queue.js","webpack://rollbar/./src/notifier.js","webpack://rollbar/./src/rollbar.js","webpack://rollbar/./src/apiUtility.js","webpack://rollbar/./src/api.js","webpack://rollbar/./src/logger.js","webpack://rollbar/./src/browser/globalSetup.js","webpack://rollbar/./src/browser/transport/fetch.js","webpack://rollbar/./src/browser/transport/xhr.js","webpack://rollbar/./src/browser/transport.js","webpack://rollbar/./src/browser/url.js","webpack://rollbar/./node_modules/error-stack-parser-es/dist/lite.mjs","webpack://rollbar/./node_modules/error-stack-parser-es/dist/index.mjs","webpack://rollbar/./src/errorParser.js","webpack://rollbar/./src/browser/transforms.js","webpack://rollbar/./src/transforms.js","webpack://rollbar/./src/browser/predicates.js","webpack://rollbar/./src/predicates.js","webpack://rollbar/./src/browser/replay/defaults.js","webpack://rollbar/./src/tracing/defaults.js","webpack://rollbar/./src/defaults.js","webpack://rollbar/./src/browser/defaults.js","webpack://rollbar/./src/browser/core.js","webpack://rollbar/./src/telemetry.js","webpack://rollbar/./src/utility/headers.js","webpack://rollbar/./src/utility/replace.js","webpack://rollbar/./src/utility/traverse.js","webpack://rollbar/./src/scrub.js","webpack://rollbar/./src/browser/domUtility.js","webpack://rollbar/./src/browser/telemetry.js","webpack://rollbar/./src/browser/wrapGlobals.js","webpack://rollbar/./src/truncation.js","webpack://rollbar/./src/tracing/context.js","webpack://rollbar/./src/tracing/contextManager.js","webpack://rollbar/./src/tracing/id.js","webpack://rollbar/./src/tracing/session.js","webpack://rollbar/./src/tracing/hrtime.js","webpack://rollbar/./src/tracing/exporter.js","webpack://rollbar/./src/tracing/spanProcessor.js","webpack://rollbar/./src/tracing/span.js","webpack://rollbar/./src/tracing/tracer.js","webpack://rollbar/./src/tracing/tracing.js","webpack://rollbar/./src/browser/rollbar.js","webpack://rollbar/./src/browser/bundles/rollbar.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rollbar\"] = factory();\n\telse\n\t\troot[\"rollbar\"] = factory();\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isPlainObject = function isPlainObject(obj) {\n  if (!obj || toStr.call(obj) !== '[object Object]') {\n    return false;\n  }\n\n  var hasOwnConstructor = hasOwn.call(obj, 'constructor');\n  var hasIsPrototypeOf =\n    obj.constructor &&\n    obj.constructor.prototype &&\n    hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n  // Not own constructor property must be Object\n  if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n    return false;\n  }\n\n  // Own properties are enumerated firstly, so to speed up,\n  // if last one is own, then all properties are own.\n  var key;\n  for (key in obj) {\n    /**/\n  }\n\n  return typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nfunction merge() {\n  var i,\n    src,\n    copy,\n    clone,\n    name,\n    result = {},\n    current = null,\n    length = arguments.length;\n\n  for (i = 0; i < length; i++) {\n    current = arguments[i];\n    if (current == null) {\n      continue;\n    }\n\n    for (name in current) {\n      src = result[name];\n      copy = current[name];\n      if (result !== copy) {\n        if (copy && isPlainObject(copy)) {\n          clone = src && isPlainObject(src) ? src : {};\n          result[name] = merge(clone, copy);\n        } else if (typeof copy !== 'undefined') {\n          result[name] = copy;\n        }\n      }\n    }\n  }\n  return result;\n}\n\nexport default merge;\n","import merge from './merge.js';\n\n/*\n * isType - Given a Javascript value and a string, returns true if the type of the value matches the\n * given string.\n *\n * @param x - any value\n * @param t - a lowercase string containing one of the following type names:\n *    - undefined\n *    - null\n *    - error\n *    - number\n *    - boolean\n *    - string\n *    - symbol\n *    - function\n *    - object\n *    - array\n * @returns true if x is of type t, otherwise false\n */\nfunction isType(x, t) {\n  return t === typeName(x);\n}\n\n/*\n * typeName - Given a Javascript value, returns the type of the object as a string\n */\nfunction typeName(x) {\n  var name = typeof x;\n  if (name !== 'object') {\n    return name;\n  }\n  if (!x) {\n    return 'null';\n  }\n  if (x instanceof Error) {\n    return 'error';\n  }\n  return {}.toString\n    .call(x)\n    .match(/\\s([a-zA-Z]+)/)[1]\n    .toLowerCase();\n}\n\n/* isFunction - a convenience function for checking if a value is a function\n *\n * @param f - any value\n * @returns true if f is a function, otherwise false\n */\nfunction isFunction(f) {\n  return isType(f, 'function');\n}\n\n/* isNativeFunction - a convenience function for checking if a value is a native JS function\n *\n * @param f - any value\n * @returns true if f is a native JS function, otherwise false\n */\nfunction isNativeFunction(f) {\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  var funcMatchString = Function.prototype.toString\n    .call(Object.prototype.hasOwnProperty)\n    .replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?');\n  var reIsNative = RegExp('^' + funcMatchString + '$');\n  return isObject(f) && reIsNative.test(f);\n}\n\n/* isObject - Checks if the argument is an object\n *\n * @param value - any value\n * @returns true is value is an object function is an object)\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/* isString - Checks if the argument is a string\n *\n * @param value - any value\n * @returns true if value is a string\n */\nfunction isString(value) {\n  return typeof value === 'string' || value instanceof String;\n}\n\n/**\n * isFiniteNumber - determines whether the passed value is a finite number\n *\n * @param {*} n - any value\n * @returns true if value is a finite number\n */\nfunction isFiniteNumber(n) {\n  return Number.isFinite(n);\n}\n\n/*\n * isDefined - a convenience function for checking if a value is not equal to undefined\n *\n * @param u - any value\n * @returns true if u is anything other than undefined\n */\nfunction isDefined(u) {\n  return !isType(u, 'undefined');\n}\n\n/*\n * isIterable - convenience function for checking if a value can be iterated, essentially\n * whether it is an object or an array.\n *\n * @param i - any value\n * @returns true if i is an object or an array as determined by `typeName`\n */\nfunction isIterable(i) {\n  var type = typeName(i);\n  return type === 'object' || type === 'array';\n}\n\n/*\n * isError - convenience function for checking if a value is of an error type\n *\n * @param e - any value\n * @returns true if e is an error\n */\nfunction isError(e) {\n  // Detect both Error and Firefox Exception type\n  return isType(e, 'error') || isType(e, 'exception');\n}\n\n/* isPromise - a convenience function for checking if a value is a promise\n *\n * @param p - any value\n * @returns true if f is a function, otherwise false\n */\nfunction isPromise(p) {\n  return isObject(p) && isType(p.then, 'function');\n}\n\n/**\n * isBrowser - a convenience function for checking if the code is running in a browser\n *\n * @returns true if the code is running in a browser environment\n */\nfunction isBrowser() {\n  return typeof window !== 'undefined';\n}\n\nfunction redact() {\n  return '********';\n}\n\n// from http://stackoverflow.com/a/8809472/1138191\nfunction uuid4() {\n  var d = now();\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n    /[xy]/g,\n    function (c) {\n      var r = (d + Math.random() * 16) % 16 | 0;\n      d = Math.floor(d / 16);\n      return (c === 'x' ? r : (r & 0x7) | 0x8).toString(16);\n    },\n  );\n  return uuid;\n}\n\nvar LEVELS = {\n  debug: 0,\n  info: 1,\n  warning: 2,\n  error: 3,\n  critical: 4,\n};\n\nfunction sanitizeHref(url) {\n  try {\n    const urlObject = new URL(url);\n    if (urlObject.password) {\n      urlObject.password = redact();\n    }\n    if (urlObject.search) {\n      urlObject.search = redact();\n    }\n    return urlObject.toString();\n  } catch (_) {\n    return url; // Return original URL if parsing fails\n  }\n}\n\nfunction sanitizeUrl(url) {\n  var baseUrlParts = parseUri(url);\n  if (!baseUrlParts) {\n    return '(unknown)';\n  }\n\n  // remove a trailing # if there is no anchor\n  if (baseUrlParts.anchor === '') {\n    baseUrlParts.source = baseUrlParts.source.replace('#', '');\n  }\n\n  url = baseUrlParts.source.replace('?' + baseUrlParts.query, '');\n  return url;\n}\n\nvar parseUriOptions = {\n  strictMode: false,\n  key: [\n    'source',\n    'protocol',\n    'authority',\n    'userInfo',\n    'user',\n    'password',\n    'host',\n    'port',\n    'relative',\n    'path',\n    'directory',\n    'file',\n    'query',\n    'anchor',\n  ],\n  q: {\n    name: 'queryKey',\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g,\n  },\n  parser: {\n    strict:\n      /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n    loose:\n      /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n  },\n};\n\nfunction parseUri(str) {\n  if (!isType(str, 'string')) {\n    return undefined;\n  }\n\n  var o = parseUriOptions;\n  var m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n  var uri = {};\n\n  for (var i = 0, l = o.key.length; i < l; ++i) {\n    uri[o.key[i]] = m[i] || '';\n  }\n\n  uri[o.q.name] = {};\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) {\n      uri[o.q.name][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\nfunction addParamsAndAccessTokenToPath(accessToken, options, params) {\n  params = params || {};\n  params.access_token = accessToken;\n  var paramsArray = [];\n  var k;\n  for (k in params) {\n    if (Object.prototype.hasOwnProperty.call(params, k)) {\n      paramsArray.push([k, params[k]].join('='));\n    }\n  }\n  var query = '?' + paramsArray.sort().join('&');\n\n  options = options || {};\n  options.path = options.path || '';\n  var qs = options.path.indexOf('?');\n  var h = options.path.indexOf('#');\n  var p;\n  if (qs !== -1 && (h === -1 || h > qs)) {\n    p = options.path;\n    options.path = p.substring(0, qs) + query + '&' + p.substring(qs + 1);\n  } else {\n    if (h !== -1) {\n      p = options.path;\n      options.path = p.substring(0, h) + query + p.substring(h);\n    } else {\n      options.path = options.path + query;\n    }\n  }\n}\n\nfunction formatUrl(u, protocol) {\n  protocol = protocol || u.protocol;\n  if (!protocol && u.port) {\n    if (u.port === 80) {\n      protocol = 'http:';\n    } else if (u.port === 443) {\n      protocol = 'https:';\n    }\n  }\n  protocol = protocol || 'https:';\n\n  if (!u.hostname) {\n    return null;\n  }\n  var result = protocol + '//' + u.hostname;\n  if (u.port) {\n    result = result + ':' + u.port;\n  }\n  if (u.path) {\n    result = result + u.path;\n  }\n  return result;\n}\n\nfunction stringify(obj, backup) {\n  var value, error;\n  try {\n    value = JSON.stringify(obj);\n  } catch (jsonError) {\n    if (backup && isFunction(backup)) {\n      try {\n        value = backup(obj);\n      } catch (backupError) {\n        error = backupError;\n      }\n    } else {\n      error = jsonError;\n    }\n  }\n  return { error: error, value: value };\n}\n\nfunction maxByteSize(string) {\n  // The transport will use utf-8, so assume utf-8 encoding.\n  //\n  // This minimal implementation will accurately count bytes for all UCS-2 and\n  // single code point UTF-16. If presented with multi code point UTF-16,\n  // which should be rare, it will safely overcount, not undercount.\n  //\n  // While robust utf-8 encoders exist, this is far smaller and far more performant.\n  // For quickly counting payload size for truncation, smaller is better.\n\n  var count = 0;\n  var length = string.length;\n\n  for (var i = 0; i < length; i++) {\n    var code = string.charCodeAt(i);\n    if (code < 128) {\n      // up to 7 bits\n      count = count + 1;\n    } else if (code < 2048) {\n      // up to 11 bits\n      count = count + 2;\n    } else if (code < 65536) {\n      // up to 16 bits\n      count = count + 3;\n    }\n  }\n\n  return count;\n}\n\nfunction jsonParse(s) {\n  var value, error;\n  try {\n    value = JSON.parse(s);\n  } catch (e) {\n    error = e;\n  }\n  return { error: error, value: value };\n}\n\nfunction makeUnhandledStackInfo(\n  message,\n  url,\n  lineno,\n  colno,\n  error,\n  mode,\n  backupMessage,\n  errorParser,\n) {\n  var location = {\n    url: url || '',\n    line: lineno,\n    column: colno,\n  };\n  location.func = errorParser.guessFunctionName(location.url, location.line);\n  location.context = errorParser.gatherContext(location.url, location.line);\n  var href =\n    typeof document !== 'undefined' &&\n    document &&\n    document.location &&\n    document.location.href;\n  var useragent =\n    typeof window !== 'undefined' &&\n    window &&\n    window.navigator &&\n    window.navigator.userAgent;\n  return {\n    mode: mode,\n    message: error ? String(error) : message || backupMessage,\n    url: href,\n    stack: [location],\n    useragent: useragent,\n  };\n}\n\nfunction wrapCallback(logger, f) {\n  return function (err, resp) {\n    try {\n      f(err, resp);\n    } catch (e) {\n      logger.error(e);\n    }\n  };\n}\n\nfunction nonCircularClone(obj) {\n  var seen = [obj];\n\n  function clone(obj, seen) {\n    var value,\n      name,\n      newSeen,\n      result = {};\n\n    try {\n      for (name in obj) {\n        value = obj[name];\n\n        if (value && (isType(value, 'object') || isType(value, 'array'))) {\n          if (seen.includes(value)) {\n            result[name] = 'Removed circular reference: ' + typeName(value);\n          } else {\n            newSeen = seen.slice();\n            newSeen.push(value);\n            result[name] = clone(value, newSeen);\n          }\n          continue;\n        }\n\n        result[name] = value;\n      }\n    } catch (e) {\n      result = 'Failed cloning custom data: ' + e.message;\n    }\n    return result;\n  }\n  return clone(obj, seen);\n}\n\nfunction createItem(args, logger, notifier, requestKeys, lambdaContext) {\n  var message, err, custom, callback, request;\n  var arg;\n  var extraArgs = [];\n  var diagnostic = {};\n  var argTypes = [];\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    argTypes.push(typ);\n    switch (typ) {\n      case 'undefined':\n        break;\n      case 'string':\n        message ? extraArgs.push(arg) : (message = arg);\n        break;\n      case 'function':\n        callback = wrapCallback(logger, arg);\n        break;\n      case 'date':\n        extraArgs.push(arg);\n        break;\n      case 'error':\n      case 'domexception':\n      case 'exception': // Firefox Exception type\n        err ? extraArgs.push(arg) : (err = arg);\n        break;\n      case 'object':\n      case 'array':\n        if (\n          arg instanceof Error ||\n          (typeof DOMException !== 'undefined' && arg instanceof DOMException)\n        ) {\n          err ? extraArgs.push(arg) : (err = arg);\n          break;\n        }\n        if (requestKeys && typ === 'object' && !request) {\n          for (var j = 0, len = requestKeys.length; j < len; ++j) {\n            if (arg[requestKeys[j]] !== undefined) {\n              request = arg;\n              break;\n            }\n          }\n          if (request) {\n            break;\n          }\n        }\n        custom ? extraArgs.push(arg) : (custom = arg);\n        break;\n      default:\n        if (\n          arg instanceof Error ||\n          (typeof DOMException !== 'undefined' && arg instanceof DOMException)\n        ) {\n          err ? extraArgs.push(arg) : (err = arg);\n          break;\n        }\n        extraArgs.push(arg);\n    }\n  }\n\n  // if custom is an array this turns it into an object with integer keys\n  if (custom) custom = nonCircularClone(custom);\n\n  if (extraArgs.length > 0) {\n    if (!custom) custom = nonCircularClone({});\n    custom.extraArgs = nonCircularClone(extraArgs);\n  }\n\n  var item = {\n    message: message,\n    err: err,\n    custom: custom,\n    timestamp: now(),\n    callback: callback,\n    notifier: notifier,\n    diagnostic: diagnostic,\n    uuid: uuid4(),\n  };\n\n  item.data = item.data || {};\n\n  setCustomItemKeys(item, custom);\n\n  if (requestKeys && request) {\n    item.request = request;\n  }\n  if (lambdaContext) {\n    item.lambdaContext = lambdaContext;\n  }\n  item._originalArgs = args;\n  item.diagnostic.original_arg_types = argTypes;\n  return item;\n}\n\nfunction setCustomItemKeys(item, custom) {\n  if (custom && custom.level !== undefined) {\n    item.level = custom.level;\n    delete custom.level;\n  }\n  if (custom && custom.skipFrames !== undefined) {\n    item.skipFrames = custom.skipFrames;\n    delete custom.skipFrames;\n  }\n}\n\nfunction addErrorContext(item, errors) {\n  var custom = item.data.custom || {};\n  var contextAdded = false;\n\n  try {\n    for (var i = 0; i < errors.length; ++i) {\n      if (errors[i].hasOwnProperty('rollbarContext')) {\n        custom = merge(custom, nonCircularClone(errors[i].rollbarContext));\n        contextAdded = true;\n      }\n    }\n\n    // Avoid adding an empty object to the data.\n    if (contextAdded) {\n      item.data.custom = custom;\n    }\n  } catch (e) {\n    item.diagnostic.error_context = 'Failed: ' + e.message;\n  }\n}\n\nvar TELEMETRY_TYPES = [\n  'log',\n  'network',\n  'dom',\n  'navigation',\n  'error',\n  'manual',\n];\nvar TELEMETRY_LEVELS = ['critical', 'error', 'warning', 'info', 'debug'];\n\nfunction arrayIncludes(arr, val) {\n  for (var k = 0; k < arr.length; ++k) {\n    if (arr[k] === val) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction createTelemetryEvent(args) {\n  var type, metadata, level;\n  var arg;\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    switch (typ) {\n      case 'string':\n        if (!type && arrayIncludes(TELEMETRY_TYPES, arg)) {\n          type = arg;\n        } else if (!level && arrayIncludes(TELEMETRY_LEVELS, arg)) {\n          level = arg;\n        }\n        break;\n      case 'object':\n        metadata = arg;\n        break;\n      default:\n        break;\n    }\n  }\n  var event = {\n    type: type || 'manual',\n    metadata: metadata || {},\n    level: level,\n  };\n\n  return event;\n}\n\nfunction addItemAttributes(itemData, attributes) {\n  itemData.attributes = itemData.attributes || [];\n  for (const a of attributes) {\n    if (a.value === undefined) {\n      continue;\n    }\n    itemData.attributes.push(a);\n  }\n}\n\n/*\n * get - given an obj/array and a keypath, return the value at that keypath or\n *       undefined if not possible.\n *\n * @param obj - an object or array\n * @param path - a string of keys separated by '.' such as 'plugin.jquery.0.message'\n *    which would correspond to 42 in `{plugin: {jquery: [{message: 42}]}}`\n */\nfunction get(obj, path) {\n  if (!obj) {\n    return undefined;\n  }\n  var keys = path.split('.');\n  var result = obj;\n  try {\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      result = result[keys[i]];\n    }\n  } catch (e) {\n    result = undefined;\n  }\n  return result;\n}\n\nfunction set(obj, path, value) {\n  if (!obj) {\n    return;\n  }\n  var keys = path.split('.');\n  var len = keys.length;\n  if (len < 1) {\n    return;\n  }\n  if (len === 1) {\n    obj[keys[0]] = value;\n    return;\n  }\n  try {\n    var temp = obj[keys[0]] || {};\n    var replacement = temp;\n    for (var i = 1; i < len - 1; ++i) {\n      temp[keys[i]] = temp[keys[i]] || {};\n      temp = temp[keys[i]];\n    }\n    temp[keys[len - 1]] = value;\n    obj[keys[0]] = replacement;\n  } catch (e) {\n    return;\n  }\n}\n\nfunction formatArgsAsString(args) {\n  var i, len, arg;\n  var result = [];\n  for (i = 0, len = args.length; i < len; ++i) {\n    arg = args[i];\n    switch (typeName(arg)) {\n      case 'object':\n        arg = stringify(arg);\n        arg = arg.error || arg.value;\n        if (arg.length > 500) {\n          arg = arg.substr(0, 497) + '...';\n        }\n        break;\n      case 'null':\n        arg = 'null';\n        break;\n      case 'undefined':\n        arg = 'undefined';\n        break;\n      case 'symbol':\n        arg = arg.toString();\n        break;\n    }\n    result.push(arg);\n  }\n  return result.join(' ');\n}\n\nfunction now() {\n  if (Date.now) {\n    return +Date.now();\n  }\n  return +new Date();\n}\n\nfunction filterIp(requestData, captureIp) {\n  if (!requestData || !requestData['user_ip'] || captureIp === true) {\n    return;\n  }\n  var newIp = requestData['user_ip'];\n  if (!captureIp) {\n    newIp = null;\n  } else {\n    try {\n      var parts;\n      if (newIp.indexOf('.') !== -1) {\n        parts = newIp.split('.');\n        parts.pop();\n        parts.push('0');\n        newIp = parts.join('.');\n      } else if (newIp.indexOf(':') !== -1) {\n        parts = newIp.split(':');\n        if (parts.length > 2) {\n          var beginning = parts.slice(0, 3);\n          var slashIdx = beginning[2].indexOf('/');\n          if (slashIdx !== -1) {\n            beginning[2] = beginning[2].substring(0, slashIdx);\n          }\n          var terminal = '0000:0000:0000:0000:0000';\n          newIp = beginning.concat(terminal).join(':');\n        }\n      } else {\n        newIp = null;\n      }\n    } catch (e) {\n      newIp = null;\n    }\n  }\n  requestData['user_ip'] = newIp;\n}\n\nfunction handleOptions(current, input, payload, logger) {\n  var result = merge(current, input, payload);\n  result = updateDeprecatedOptions(result, logger);\n  if (!input || input.overwriteScrubFields) {\n    return result;\n  }\n  if (input.scrubFields) {\n    result.scrubFields = (current.scrubFields || []).concat(input.scrubFields);\n  }\n  return result;\n}\n\nfunction updateDeprecatedOptions(options, logger) {\n  if (options.hostWhiteList && !options.hostSafeList) {\n    options.hostSafeList = options.hostWhiteList;\n    options.hostWhiteList = undefined;\n    logger && logger.log('hostWhiteList is deprecated. Use hostSafeList.');\n  }\n  if (options.hostBlackList && !options.hostBlockList) {\n    options.hostBlockList = options.hostBlackList;\n    options.hostBlackList = undefined;\n    logger && logger.log('hostBlackList is deprecated. Use hostBlockList.');\n  }\n  return options;\n}\n\nexport {\n  addParamsAndAccessTokenToPath,\n  createItem,\n  addErrorContext,\n  createTelemetryEvent,\n  addItemAttributes,\n  filterIp,\n  formatArgsAsString,\n  formatUrl,\n  get,\n  handleOptions,\n  isError,\n  isFiniteNumber,\n  isFunction,\n  isIterable,\n  isNativeFunction,\n  isObject,\n  isString,\n  isType,\n  isPromise,\n  isBrowser,\n  jsonParse,\n  LEVELS,\n  makeUnhandledStackInfo,\n  merge,\n  now,\n  redact,\n  sanitizeHref,\n  sanitizeUrl,\n  set,\n  stringify,\n  maxByteSize,\n  typeName,\n  uuid4,\n};\n","import * as _ from './utility.js';\n\n/*\n * RateLimiter - an object that encapsulates the logic for counting items sent to Rollbar\n *\n * @param options - the same options that are accepted by configureGlobal offered as a convenience\n */\nfunction RateLimiter(options) {\n  this.startTime = _.now();\n  this.counter = 0;\n  this.perMinCounter = 0;\n  this.platform = null;\n  this.platformOptions = {};\n  this.configureGlobal(options);\n}\n\nRateLimiter.globalSettings = {\n  startTime: _.now(),\n  maxItems: undefined,\n  itemsPerMinute: undefined,\n};\n\n/*\n * configureGlobal - set the global rate limiter options\n *\n * @param options - Only the following values are recognized:\n *    startTime: a timestamp of the form returned by (new Date()).getTime()\n *    maxItems: the maximum items\n *    itemsPerMinute: the max number of items to send in a given minute\n */\nRateLimiter.prototype.configureGlobal = function (options) {\n  if (options.startTime !== undefined) {\n    RateLimiter.globalSettings.startTime = options.startTime;\n  }\n  if (options.maxItems !== undefined) {\n    RateLimiter.globalSettings.maxItems = options.maxItems;\n  }\n  if (options.itemsPerMinute !== undefined) {\n    RateLimiter.globalSettings.itemsPerMinute = options.itemsPerMinute;\n  }\n};\n\n/*\n * shouldSend - determine if we should send a given item based on rate limit settings\n *\n * @param item - the item we are about to send\n * @returns An object with the following structure:\n *  error: (Error|null)\n *  shouldSend: bool\n *  payload: (Object|null)\n *  If shouldSend is false, the item passed as a parameter should not be sent to Rollbar, and\n *  exactly one of error or payload will be non-null. If error is non-null, the returned Error will\n *  describe the situation, but it means that we were already over a rate limit (either globally or\n *  per minute) when this item was checked. If error is null, and therefore payload is non-null, it\n *  means this item put us over the global rate limit and the payload should be sent to Rollbar in\n *  place of the passed in item.\n */\nRateLimiter.prototype.shouldSend = function (item, now) {\n  now = now || _.now();\n  var elapsedTime = now - this.startTime;\n  if (elapsedTime < 0 || elapsedTime >= 60000) {\n    this.startTime = now;\n    this.perMinCounter = 0;\n  }\n\n  var globalRateLimit = RateLimiter.globalSettings.maxItems;\n  var globalRateLimitPerMin = RateLimiter.globalSettings.itemsPerMinute;\n\n  if (checkRate(item, globalRateLimit, this.counter)) {\n    return shouldSendValue(\n      this.platform,\n      this.platformOptions,\n      globalRateLimit + ' max items reached',\n      false,\n    );\n  } else if (checkRate(item, globalRateLimitPerMin, this.perMinCounter)) {\n    return shouldSendValue(\n      this.platform,\n      this.platformOptions,\n      globalRateLimitPerMin + ' items per minute reached',\n      false,\n    );\n  }\n  this.counter++;\n  this.perMinCounter++;\n\n  var shouldSend = !checkRate(item, globalRateLimit, this.counter);\n  var perMinute = shouldSend;\n  shouldSend =\n    shouldSend && !checkRate(item, globalRateLimitPerMin, this.perMinCounter);\n  return shouldSendValue(\n    this.platform,\n    this.platformOptions,\n    null,\n    shouldSend,\n    globalRateLimit,\n    globalRateLimitPerMin,\n    perMinute,\n  );\n};\n\nRateLimiter.prototype.setPlatformOptions = function (platform, options) {\n  this.platform = platform;\n  this.platformOptions = options;\n};\n\n/* Helpers */\n\nfunction checkRate(item, limit, counter) {\n  return !item.ignoreRateLimit && limit >= 1 && counter > limit;\n}\n\nfunction shouldSendValue(\n  platform,\n  options,\n  error,\n  shouldSend,\n  globalRateLimit,\n  limitPerMin,\n  perMinute,\n) {\n  var payload = null;\n  if (error) {\n    error = new Error(error);\n  }\n  if (!error && !shouldSend) {\n    payload = rateLimitPayload(\n      platform,\n      options,\n      globalRateLimit,\n      limitPerMin,\n      perMinute,\n    );\n  }\n  return { error: error, shouldSend: shouldSend, payload: payload };\n}\n\nfunction rateLimitPayload(\n  platform,\n  options,\n  globalRateLimit,\n  limitPerMin,\n  perMinute,\n) {\n  var environment =\n    options.environment || (options.payload && options.payload.environment);\n  var msg;\n  if (perMinute) {\n    msg = 'item per minute limit reached, ignoring errors until timeout';\n  } else {\n    msg = 'maxItems has been hit, ignoring errors until reset.';\n  }\n  var item = {\n    body: {\n      message: {\n        body: msg,\n        extra: {\n          maxItems: globalRateLimit,\n          itemsPerMinute: limitPerMin,\n        },\n      },\n    },\n    language: 'javascript',\n    environment: environment,\n    notifier: {\n      version:\n        (options.notifier && options.notifier.version) || options.version,\n    },\n  };\n  if (platform === 'browser') {\n    item.platform = 'browser';\n    item.framework = 'browser-js';\n    item.notifier.name = 'rollbar-browser-js';\n  } else if (platform === 'server') {\n    item.framework = options.framework || 'node-js';\n    item.notifier.name = options.notifier.name;\n  } else if (platform === 'react-native') {\n    item.framework = options.framework || 'react-native';\n    item.notifier.name = options.notifier.name;\n  }\n  return item;\n}\n\nexport default RateLimiter;\n","import * as _ from './utility.js';\n\n/**\n * Queue - an object which handles which handles a queue of items to be sent to Rollbar.\n *   This object handles rate limiting via a passed in rate limiter, retries based on connection\n *   errors, and filtering of items based on a set of configurable predicates. The communication to\n *   the backend is performed via a given API object.\n */\nclass Queue {\n  /**\n   * @param rateLimiter - An object which conforms to the interface\n   *    `rateLimiter.shouldSend(item) -> bool`\n   * @param api - An object which conforms to the interface\n   *    `api.postItem(payload, function(err, response))`\n   * @param logger - An object used to log verbose messages if desired\n   * @param options - see `Queue.prototype.configure`\n   * @param replay - Optional `Replay` for coordinating session replay with error occurrences\n   */\n  constructor(rateLimiter, api, logger, options, replay) {\n    this.rateLimiter = rateLimiter;\n    this.api = api;\n    this.logger = logger;\n    this.options = options;\n    this.replay = replay;\n    this.predicates = [];\n    this.pendingItems = [];\n    this.pendingRequests = [];\n    this.retryQueue = [];\n    this.retryHandle = null;\n    this.waitCallback = null;\n    this.waitIntervalID = null;\n  }\n\n  /**\n   * configure - updates the options this queue uses\n   *\n   * @param options\n   */\n  configure(options) {\n    this.api?.configure(options);\n    const oldOptions = this.options;\n    this.options = _.merge(oldOptions, options);\n    return this;\n  }\n\n  /**\n   * addPredicate - adds a predicate to the end of the list of predicates for this queue\n   *\n   * @param predicate - function(item, options) -> (bool|{err: Error})\n   *  Returning true means that this predicate passes and the item is okay to go on the queue\n   *  Returning false means do not add the item to the queue, but it is not an error\n   *  Returning {err: Error} means do not add the item to the queue, and the given error explains why\n   *  Returning {err: undefined} is equivalent to returning true but don't do that\n   */\n  addPredicate(predicate) {\n    if (_.isFunction(predicate)) {\n      this.predicates.push(predicate);\n    }\n    return this;\n  }\n\n  addPendingItem(item) {\n    this.pendingItems.push(item);\n  }\n\n  removePendingItem(item) {\n    const idx = this.pendingItems.indexOf(item);\n    if (idx !== -1) {\n      this.pendingItems.splice(idx, 1);\n    }\n  }\n\n  /**\n   * addItem - Send an item to the Rollbar API if all of the predicates are satisfied\n   *\n   * @param item - Item instance with the payload to send to the backend\n   * @param callback - function(error, repsonse) which will be called with the response from the API\n   *  in the case of a success, otherwise response will be null and error will have a value. If both\n   *  error and response are null then the item was stopped by a predicate which did not consider this\n   *  to be an error condition, but nonetheless did not send the item to the API.\n   * @param originalError - The original error before any transformations that is to be logged if any\n   * @param originalItem - The original item before transforms, used in pendingItems queue\n   */\n  addItem(item, callback, originalError, originalItem) {\n    if (!callback || !_.isFunction(callback)) {\n      callback = function () {\n        return;\n      };\n    }\n    const data = item.data;\n    const predicateResult = this._applyPredicates(data);\n    if (predicateResult.stop) {\n      this.removePendingItem(originalItem);\n      callback(predicateResult.err);\n      return;\n    }\n    this._maybeLog(data, originalError);\n    this.removePendingItem(originalItem);\n    if (!this.options.transmit) {\n      callback(new Error('Transmit disabled'));\n      return;\n    }\n\n    if (this.replay && data.body) {\n      item.replayId = this.replay.capture(null, data.uuid, {\n        type: 'occurrence',\n        level: item.level,\n      });\n\n      if (item.replayId) {\n        _.addItemAttributes(item.data, [\n          { key: 'replay_id', value: item.replayId },\n        ]);\n      }\n    }\n\n    this.pendingRequests.push(data);\n    try {\n      this._makeApiRequest(data, (err, resp, headers) => {\n        this._dequeuePendingRequest(data);\n\n        if (item.replayId) {\n          this.replay.sendOrDiscardReplay(item.replayId, err, resp, headers);\n        }\n\n        callback(err, resp);\n      });\n    } catch (err) {\n      this._dequeuePendingRequest(data);\n\n      if (item.replayId) {\n        this.replay?.discard(item.replayId);\n      }\n\n      callback(err);\n    }\n  }\n\n  /**\n   * wait - Stop any further errors from being added to the queue, and get called back when all items\n   *   currently processing have finished sending to the backend.\n   *\n   * @param callback - function() called when all pending items have been sent\n   */\n  wait(callback) {\n    if (!_.isFunction(callback)) {\n      return;\n    }\n    this.waitCallback = callback;\n    if (this._maybeCallWait()) {\n      return;\n    }\n    if (this.waitIntervalID) {\n      this.waitIntervalID = clearInterval(this.waitIntervalID);\n    }\n    this.waitIntervalID = setInterval(() => {\n      this._maybeCallWait();\n    }, 500);\n  }\n\n  /**\n   * Sequentially applies the predicates that have been added to the queue to the\n   * given item with the currently configured options.\n   *\n   * @param item - An item in the queue\n   * @returns {stop: bool, err: (Error|null)} - stop being true means do not add item to the queue,\n   *   the error value should be passed up to a callbak if we are stopping.\n   */\n  _applyPredicates(item) {\n    let p = null;\n    for (let i = 0, len = this.predicates.length; i < len; i++) {\n      p = this.predicates[i](item, this.options);\n      if (!p || p.err !== undefined) {\n        return { stop: true, err: p.err };\n      }\n    }\n    return { stop: false, err: null };\n  }\n\n  /**\n   * Send an item to Rollbar, callback when done, if there is an error make an\n   * effort to retry if we are configured to do so.\n   *\n   * @param item - an item ready to send to the backend\n   * @param callback - function(err, response)\n   */\n  _makeApiRequest(item, callback) {\n    const rateLimitResponse = this.rateLimiter.shouldSend(item);\n    if (rateLimitResponse.shouldSend) {\n      this.api.postItem(item, (err, resp, headers) => {\n        if (err) {\n          this._maybeRetry(err, item, callback);\n        } else {\n          callback(err, resp, headers);\n        }\n      });\n    } else if (rateLimitResponse.error) {\n      callback(rateLimitResponse.error);\n    } else {\n      this.api.postItem(rateLimitResponse.payload, callback);\n    }\n  }\n\n  // These are errors basically mean there is no internet connection\n  static RETRIABLE_ERRORS = [\n    'ECONNRESET',\n    'ENOTFOUND',\n    'ESOCKETTIMEDOUT',\n    'ETIMEDOUT',\n    'ECONNREFUSED',\n    'EHOSTUNREACH',\n    'EPIPE',\n    'EAI_AGAIN',\n  ];\n\n  /**\n   * Given the error returned by the API, decide if we should retry or just callback\n   * with the error.\n   *\n   * @param err - an error returned by the API transport\n   * @param item - the item that was trying to be sent when this error occured\n   * @param callback - function(err, response)\n   */\n  _maybeRetry(err, item, callback) {\n    let shouldRetry = false;\n    if (this.options.retryInterval) {\n      for (let i = 0, len = Queue.RETRIABLE_ERRORS.length; i < len; i++) {\n        if (err.code === Queue.RETRIABLE_ERRORS[i]) {\n          shouldRetry = true;\n          break;\n        }\n      }\n      if (shouldRetry && _.isFiniteNumber(this.options.maxRetries)) {\n        item.retries = item.retries ? item.retries + 1 : 1;\n        if (item.retries > this.options.maxRetries) {\n          shouldRetry = false;\n        }\n      }\n    }\n    if (shouldRetry) {\n      this._retryApiRequest(item, callback);\n    } else {\n      callback(err);\n    }\n  }\n\n  /**\n   * Add an item and a callback to a queue and possibly start a timer to process\n   * that queue based on the retryInterval in the options for this queue.\n   *\n   * @param item - an item that failed to send due to an error we deem retriable\n   * @param callback - function(err, response)\n   */\n  _retryApiRequest(item, callback) {\n    this.retryQueue.push({ item, callback });\n\n    if (!this.retryHandle) {\n      this.retryHandle = setInterval(() => {\n        while (this.retryQueue.length) {\n          const retryObject = this.retryQueue.shift();\n          this._makeApiRequest(retryObject.item, retryObject.callback);\n        }\n      }, this.options.retryInterval);\n    }\n  }\n\n  /**\n   * Removes the item from the pending request queue, this queue is used to\n   * enable to functionality of providing a callback that clients can pass to `wait` to be notified\n   * when the pending request queue has been emptied. This must be called when the API finishes\n   * processing this item. If a `wait` callback is configured, it is called by this function.\n   *\n   * @param item - the item previously added to the pending request queue\n   */\n  _dequeuePendingRequest(item) {\n    const idx = this.pendingRequests.indexOf(item);\n    if (idx !== -1) {\n      this.pendingRequests.splice(idx, 1);\n      this._maybeCallWait();\n    }\n  }\n\n  _maybeLog(data, originalError) {\n    if (this.logger && this.options.verbose) {\n      let message =\n        originalError ||\n        _.get(data, 'body.trace.exception.message') ||\n        _.get(data, 'body.trace_chain.0.exception.message');\n      if (message) {\n        this.logger.error(message);\n        return;\n      }\n      message = _.get(data, 'body.message.body');\n      if (message) {\n        this.logger.log(message);\n      }\n    }\n  }\n\n  _maybeCallWait() {\n    if (\n      _.isFunction(this.waitCallback) &&\n      this.pendingItems.length === 0 &&\n      this.pendingRequests.length === 0\n    ) {\n      if (this.waitIntervalID) {\n        this.waitIntervalID = clearInterval(this.waitIntervalID);\n      }\n      this.waitCallback();\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default Queue;\n","import * as _ from './utility.js';\n\n/*\n * Notifier - the internal object responsible for delegating between the client exposed API, the\n * chain of transforms necessary to turn an item into something that can be sent to Rollbar, and the\n * queue which handles the communcation with the Rollbar API servers.\n *\n * @param queue - an object that conforms to the interface: addItem(item, callback)\n * @param options - an object representing the options to be set for this notifier, this should have\n * any defaults already set by the caller\n */\nfunction Notifier(queue, options) {\n  this.queue = queue;\n  this.options = options;\n  this.transforms = [];\n  this.diagnostic = {};\n}\n\n/*\n * configure - updates the options for this notifier with the passed in object\n *\n * @param options - an object which gets merged with the current options set on this notifier\n * @returns this\n */\nNotifier.prototype.configure = function (options) {\n  this.queue && this.queue.configure(options);\n  var oldOptions = this.options;\n  this.options = _.merge(oldOptions, options);\n  return this;\n};\n\n/*\n * addTransform - adds a transform onto the end of the queue of transforms for this notifier\n *\n * @param transform - a function which takes three arguments:\n *    * item: An Object representing the data to eventually be sent to Rollbar\n *    * options: The current value of the options for this notifier\n *    * callback: function(err: (Null|Error), item: (Null|Object)) the transform must call this\n *    callback with a null value for error if it wants the processing chain to continue, otherwise\n *    with an error to terminate the processing. The item should be the updated item after this\n *    transform is finished modifying it.\n */\nNotifier.prototype.addTransform = function (transform) {\n  if (_.isFunction(transform)) {\n    this.transforms.push(transform);\n  }\n  return this;\n};\n\n/*\n * log - the internal log function which applies the configured transforms and then pushes onto the\n * queue to be sent to the backend.\n *\n * @param item - An object with the following structure:\n *    message [String] - An optional string to be sent to rollbar\n *    error [Error] - An optional error\n *\n * @param callback - A function of type function(err, resp) which will be called with exactly one\n * null argument and one non-null argument. The callback will be called once, either during the\n * transform stage if an error occurs inside a transform, or in response to the communication with\n * the backend. The second argument will be the response from the backend in case of success.\n */\nNotifier.prototype.log = function (item, callback) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function () {};\n  }\n\n  if (!this.options.enabled) {\n    return callback(new Error('Rollbar is not enabled'));\n  }\n\n  this.queue.addPendingItem(item);\n  var originalError = item.err;\n  this._applyTransforms(\n    item,\n    function (err, i) {\n      if (err) {\n        this.queue.removePendingItem(item);\n        return callback(err, null);\n      }\n      this.queue.addItem(i, callback, originalError, item);\n    }.bind(this),\n  );\n};\n\n/* Internal */\n\n/*\n * _applyTransforms - Applies the transforms that have been added to this notifier sequentially. See\n * `addTransform` for more information.\n *\n * @param item - An item to be transformed\n * @param callback - A function of type function(err, item) which will be called with a non-null\n * error and a null item in the case of a transform failure, or a null error and non-null item after\n * all transforms have been applied.\n */\nNotifier.prototype._applyTransforms = function (item, callback) {\n  var transformIndex = -1;\n  var transformsLength = this.transforms.length;\n  var transforms = this.transforms;\n  var options = this.options;\n\n  var cb = function (err, i) {\n    if (err) {\n      callback(err, null);\n      return;\n    }\n\n    transformIndex++;\n\n    if (transformIndex === transformsLength) {\n      callback(null, i);\n      return;\n    }\n\n    transforms[transformIndex](i, options, cb);\n  };\n\n  cb(null, item);\n};\n\nexport default Notifier;\n","import RateLimiter from './rateLimiter.js';\nimport Queue from './queue.js';\nimport Notifier from './notifier.js';\nimport * as _ from './utility.js';\n\n/*\n * Rollbar - the interface to Rollbar\n *\n * @param options\n * @param api\n * @param logger\n */\nfunction Rollbar(options, api, logger, telemeter, tracing, replay, platform) {\n  this.options = _.merge(options);\n  this.logger = logger;\n  Rollbar.rateLimiter.configureGlobal(this.options);\n  Rollbar.rateLimiter.setPlatformOptions(platform, this.options);\n  this.api = api;\n  this.queue = new Queue(\n    Rollbar.rateLimiter,\n    api,\n    logger,\n    this.options,\n    replay,\n  );\n\n  this.tracing = tracing;\n\n  // Legacy OpenTracing support\n  // This must happen before the Notifier is created\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier = new Notifier(this.queue, this.options);\n  this.telemeter = telemeter;\n  setStackTraceLimit(options);\n  this.lastError = null;\n  this.lastErrorHash = 'none';\n}\n\nvar defaultOptions = {\n  maxItems: 0,\n  itemsPerMinute: 60,\n};\n\nRollbar.rateLimiter = new RateLimiter(defaultOptions);\n\nRollbar.prototype.global = function (options) {\n  Rollbar.rateLimiter.configureGlobal(options);\n  return this;\n};\n\nRollbar.prototype.configure = function (options, payloadData) {\n  var oldOptions = this.options;\n  var payload = {};\n  if (payloadData) {\n    payload = { payload: payloadData };\n  }\n\n  this.options = _.merge(oldOptions, options, payload);\n\n  // Legacy OpenTracing support\n  // This must happen before the Notifier is configured\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier && this.notifier.configure(this.options);\n  this.telemeter && this.telemeter.configure(this.options);\n  setStackTraceLimit(options);\n  this.global(this.options);\n\n  if (validateTracer(options.tracer)) {\n    this.tracer = options.tracer;\n  }\n\n  return this;\n};\n\nRollbar.prototype.log = function (item) {\n  var level = this._defaultLogLevel();\n  return this._log(level, item);\n};\n\nRollbar.prototype.debug = function (item) {\n  this._log('debug', item);\n};\n\nRollbar.prototype.info = function (item) {\n  this._log('info', item);\n};\n\nRollbar.prototype.warn = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.warning = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.error = function (item) {\n  this._log('error', item);\n};\n\nRollbar.prototype.critical = function (item) {\n  this._log('critical', item);\n};\n\nRollbar.prototype.wait = function (callback) {\n  this.queue.wait(callback);\n};\n\nRollbar.prototype.captureEvent = function (type, metadata, level) {\n  return this.telemeter && this.telemeter.captureEvent(type, metadata, level);\n};\n\nRollbar.prototype.captureDomContentLoaded = function (ts) {\n  return this.telemeter && this.telemeter.captureDomContentLoaded(ts);\n};\n\nRollbar.prototype.captureLoad = function (ts) {\n  return this.telemeter && this.telemeter.captureLoad(ts);\n};\n\nRollbar.prototype.buildJsonPayload = function (item) {\n  return this.api.buildJsonPayload(item);\n};\n\nRollbar.prototype.sendJsonPayload = function (jsonPayload) {\n  this.api.postJsonPayload(jsonPayload);\n};\n\n/* Internal */\n\nRollbar.prototype._log = function (defaultLevel, item) {\n  var callback;\n  if (item.callback) {\n    callback = item.callback;\n    delete item.callback;\n  }\n  if (this.options.ignoreDuplicateErrors && this._sameAsLastError(item)) {\n    if (callback) {\n      var error = new Error('ignored identical item');\n      error.item = item;\n      callback(error);\n    }\n    return;\n  }\n  try {\n    item.level = item.level || defaultLevel;\n\n    this._addTracingAttributes(item);\n\n    // Legacy OpenTracing support\n    this._addTracingInfo(item);\n\n    const telemeter = this.telemeter;\n    if (telemeter) {\n      telemeter._captureRollbarItem(item);\n      item.telemetryEvents = telemeter.copyEvents() || [];\n    }\n\n    this.notifier.log(item, callback);\n  } catch (e) {\n    if (callback) {\n      callback(e);\n    }\n    this.logger.error(e);\n  }\n};\n\nRollbar.prototype._addTracingAttributes = function (item) {\n  const span = this.tracing?.getSpan();\n\n  const attributes = [\n    { key: 'session_id', value: this.tracing?.sessionId },\n    { key: 'span_id', value: span?.spanId },\n    { key: 'trace_id', value: span?.traceId },\n  ];\n  _.addItemAttributes(item.data, attributes);\n\n  span?.addEvent('rollbar.occurrence', [\n    { key: 'rollbar.occurrence.uuid', value: item.uuid },\n  ]);\n};\n\nRollbar.prototype._defaultLogLevel = function () {\n  return this.options.logLevel || 'debug';\n};\n\nRollbar.prototype._sameAsLastError = function (item) {\n  if (!item._isUncaught) {\n    return false;\n  }\n  var itemHash = generateItemHash(item);\n  if (this.lastErrorHash === itemHash) {\n    return true;\n  }\n  this.lastError = item.err;\n  this.lastErrorHash = itemHash;\n  return false;\n};\n\nRollbar.prototype._addTracingInfo = function (item) {\n  // Tracer validation occurs in the constructor\n  // or in the Rollbar.prototype.configure methods\n  if (this.tracer) {\n    // add rollbar occurrence uuid to span\n    var span = this.tracer.scope().active();\n\n    if (validateSpan(span)) {\n      span.setTag('rollbar.error_uuid', item.uuid);\n      span.setTag('rollbar.has_error', true);\n      span.setTag('error', true);\n      span.setTag(\n        'rollbar.item_url',\n        `https://rollbar.com/item/uuid/?uuid=${item.uuid}`,\n      );\n      span.setTag(\n        'rollbar.occurrence_url',\n        `https://rollbar.com/occurrence/uuid/?uuid=${item.uuid}`,\n      );\n\n      // add span ID & trace ID to occurrence\n      var opentracingSpanId = span.context().toSpanId();\n      var opentracingTraceId = span.context().toTraceId();\n\n      if (item.custom) {\n        item.custom.opentracing_span_id = opentracingSpanId;\n        item.custom.opentracing_trace_id = opentracingTraceId;\n      } else {\n        item.custom = {\n          opentracing_span_id: opentracingSpanId,\n          opentracing_trace_id: opentracingTraceId,\n        };\n      }\n    }\n  }\n};\n\nfunction generateItemHash(item) {\n  var message = item.message || '';\n  var stack = (item.err || {}).stack || String(item.err);\n  return message + '::' + stack;\n}\n\n// Node.js, Chrome, Safari, and some other browsers support this property\n// which globally sets the number of stack frames returned in an Error object.\n// If a browser can't use it, no harm done.\nfunction setStackTraceLimit(options) {\n  if (options.stackTraceLimit) {\n    Error.stackTraceLimit = options.stackTraceLimit;\n  }\n}\n\n/**\n * Validate the Tracer object provided to the Client\n * is valid for our Opentracing use case.\n * @param {opentracer.Tracer} tracer\n */\nfunction validateTracer(tracer) {\n  if (!tracer) {\n    return false;\n  }\n\n  if (!tracer.scope || typeof tracer.scope !== 'function') {\n    return false;\n  }\n\n  var scope = tracer.scope();\n\n  if (!scope || !scope.active || typeof scope.active !== 'function') {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Validate the Span object provided\n * @param {opentracer.Span} span\n */\nfunction validateSpan(span) {\n  if (!span || !span.context || typeof span.context !== 'function') {\n    return false;\n  }\n\n  var spanContext = span.context();\n\n  if (\n    !spanContext ||\n    !spanContext.toSpanId ||\n    !spanContext.toTraceId ||\n    typeof spanContext.toSpanId !== 'function' ||\n    typeof spanContext.toTraceId !== 'function'\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\nexport default Rollbar;\n","import * as _ from './utility.js';\n\nfunction buildPayload(data) {\n  if (!_.isType(data.context, 'string')) {\n    var contextResult = _.stringify(data.context);\n    if (contextResult.error) {\n      data.context = \"Error: could not serialize 'context'\";\n    } else {\n      data.context = contextResult.value || '';\n    }\n    if (data.context.length > 255) {\n      data.context = data.context.substr(0, 255);\n    }\n  }\n  return {\n    data: data,\n  };\n}\n\nfunction getTransportFromOptions(options, defaults, url) {\n  var hostname = defaults.hostname;\n  var protocol = defaults.protocol;\n  var port = defaults.port;\n  var path = defaults.path;\n  var search = defaults.search;\n  var timeout = options.timeout;\n  var transport = detectTransport(options);\n\n  var proxy = options.proxy;\n  if (options.endpoint) {\n    var opts = url.parse(options.endpoint);\n    hostname = opts.hostname;\n    protocol = opts.protocol;\n    port = opts.port;\n    path = opts.pathname;\n    search = opts.search;\n  }\n  return {\n    timeout: timeout,\n    hostname: hostname,\n    protocol: protocol,\n    port: port,\n    path: path,\n    search: search,\n    proxy: proxy,\n    transport: transport,\n  };\n}\n\nfunction detectTransport(options) {\n  var gWindow =\n    (typeof window != 'undefined' && window) ||\n    (typeof self != 'undefined' && self);\n  var transport = options.defaultTransport || 'xhr';\n  if (typeof gWindow.fetch === 'undefined') transport = 'xhr';\n  if (typeof gWindow.XMLHttpRequest === 'undefined') transport = 'fetch';\n  return transport;\n}\n\nfunction transportOptions(transport, method) {\n  var protocol = transport.protocol || 'https:';\n  var port =\n    transport.port ||\n    (protocol === 'http:' ? 80 : protocol === 'https:' ? 443 : undefined);\n  var hostname = transport.hostname;\n  var path = transport.path;\n  var timeout = transport.timeout;\n  var transportAPI = transport.transport;\n  if (transport.search) {\n    path = path + transport.search;\n  }\n  if (transport.proxy) {\n    path = protocol + '//' + hostname + path;\n    hostname = transport.proxy.host || transport.proxy.hostname;\n    port = transport.proxy.port;\n    protocol = transport.proxy.protocol || protocol;\n  }\n  return {\n    timeout: timeout,\n    protocol: protocol,\n    hostname: hostname,\n    path: path,\n    port: port,\n    method: method,\n    transport: transportAPI,\n  };\n}\n\nfunction appendPathToPath(base, path) {\n  var baseTrailingSlash = /\\/$/.test(base);\n  var pathBeginningSlash = /^\\//.test(path);\n\n  if (baseTrailingSlash && pathBeginningSlash) {\n    path = path.substring(1);\n  } else if (!baseTrailingSlash && !pathBeginningSlash) {\n    path = '/' + path;\n  }\n\n  return base + path;\n}\n\nexport {\n  buildPayload,\n  getTransportFromOptions,\n  transportOptions,\n  appendPathToPath,\n};\n","import * as _ from './utility.js';\nimport * as helpers from './apiUtility.js';\n\nvar defaultOptions = {\n  hostname: 'api.rollbar.com',\n  path: '/api/1/item/',\n  search: null,\n  version: '1',\n  protocol: 'https:',\n  port: 443,\n};\n\nvar OTLPDefaultOptions = {\n  hostname: 'api.rollbar.com',\n  path: '/api/1/session/',\n  search: null,\n  version: '1',\n  protocol: 'https:',\n  port: 443,\n};\n\n/**\n * Api is an object that encapsulates methods of communicating with\n * the Rollbar API.  It is a standard interface with some parts implemented\n * differently for server or browser contexts.  It is an object that should\n * be instantiated when used so it can contain non-global options that may\n * be different for another instance of RollbarApi.\n *\n * @param options {\n *    accessToken: the accessToken to use for posting items to rollbar\n *    endpoint: an alternative endpoint to send errors to\n *        must be a valid, fully qualified URL.\n *        The default is: https://api.rollbar.com/api/1/item\n *    proxy: if you wish to proxy requests provide an object\n *        with the following keys:\n *          host or hostname (required): foo.example.com\n *          port (optional): 123\n *          protocol (optional): https\n * }\n */\nfunction Api(options, transport, urllib, truncation) {\n  this.options = options;\n  this.transport = transport;\n  this.url = urllib;\n  this.truncation = truncation;\n  this.accessToken = options.accessToken;\n  this.transportOptions = _getTransport(options, urllib);\n  this.OTLPTransportOptions = _getOTLPTransport(options, urllib);\n}\n\n/**\n * Wraps transport.post in a Promise to support async/await\n *\n * @param {Object} options - Options for the API request\n * @param {string} options.accessToken - The access token for authentication\n * @param {Object} options.transportOptions - Options for the transport\n * @param {Object} options.payload - The data payload to send\n * @returns {Promise} A promise that resolves with the response or rejects with an error\n * @private\n */\nApi.prototype._postPromise = function ({\n  accessToken,\n  options,\n  payload,\n  headers,\n}) {\n  const self = this;\n  return new Promise((resolve, reject) => {\n    self.transport.post({\n      accessToken,\n      options,\n      payload,\n      headers,\n      callback: (err, resp) => (err ? reject(err) : resolve(resp)),\n    });\n  });\n};\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.postItem = function (data, callback) {\n  const options = helpers.transportOptions(this.transportOptions, 'POST');\n  const payload = helpers.buildPayload(data);\n  const self = this;\n\n  // ensure the network request is scheduled after the current tick.\n  setTimeout(function () {\n    self.transport.post({\n      accessToken: self.accessToken,\n      options,\n      payload,\n      callback,\n    });\n  }, 0);\n};\n\n/**\n * Posts spans to the Rollbar API using the session endpoint\n *\n * @param {Array} payload - The spans to send\n * @returns {Promise<Object>} A promise that resolves with the API response\n */\nApi.prototype.postSpans = async function (payload, headers = {}) {\n  const options = helpers.transportOptions(this.OTLPTransportOptions, 'POST');\n\n  return await this._postPromise({\n    accessToken: this.accessToken,\n    options,\n    payload,\n    headers,\n  });\n};\n\n/**\n *\n * @param data\n * @param callback\n */\nApi.prototype.buildJsonPayload = function (data, callback) {\n  var payload = helpers.buildPayload(data);\n\n  var stringifyResult;\n  if (this.truncation) {\n    stringifyResult = this.truncation.truncate(payload);\n  } else {\n    stringifyResult = _.stringify(payload);\n  }\n\n  if (stringifyResult.error) {\n    if (callback) {\n      callback(stringifyResult.error);\n    }\n    return null;\n  }\n\n  return stringifyResult.value;\n};\n\n/**\n *\n * @param jsonPayload\n * @param callback\n */\nApi.prototype.postJsonPayload = function (jsonPayload, callback) {\n  var transportOptions = helpers.transportOptions(\n    this.transportOptions,\n    'POST',\n  );\n  this.transport.postJsonPayload(\n    this.accessToken,\n    transportOptions,\n    jsonPayload,\n    callback,\n  );\n};\n\nApi.prototype.configure = function (options) {\n  var oldOptions = this.oldOptions;\n  this.options = _.merge(oldOptions, options);\n  this.transportOptions = _getTransport(this.options, this.url);\n  this.OTLPTransportOptions = _getOTLPTransport(this.options, this.url);\n  if (this.options.accessToken !== undefined) {\n    this.accessToken = this.options.accessToken;\n  }\n  return this;\n};\n\nfunction _getTransport(options, url) {\n  return helpers.getTransportFromOptions(options, defaultOptions, url);\n}\n\nfunction _getOTLPTransport(options, url) {\n  options = { ...options, endpoint: options.tracing?.endpoint };\n  return helpers.getTransportFromOptions(options, OTLPDefaultOptions, url);\n}\n\nexport default Api;\n","let log = () => {};\n\nconst levels = {\n  debug: 0,\n  info: 1,\n  warn: 2,\n  error: 3,\n  disable: 4,\n};\n\nconst logger = {\n  error: (...args) => log('error', args),\n  warn: (...args) => log('warn', args),\n  info: (...args) => log('info', args),\n  debug: (...args) => log('debug', args),\n  log: (...args) => log('info', args),\n  init: ({ logLevel }) => {\n    log = function (level, args) {\n      if (levels[level] < levels[logLevel]) return;\n\n      args.unshift('Rollbar:');\n\n      console[level].apply(console, args);\n    };\n  },\n};\n\nexport default logger;\n","function captureUncaughtExceptions(window, handler, shim) {\n  if (!window) {\n    return;\n  }\n  var oldOnError;\n\n  if (typeof handler._rollbarOldOnError === 'function') {\n    oldOnError = handler._rollbarOldOnError;\n  } else if (window.onerror) {\n    oldOnError = window.onerror;\n    while (oldOnError._rollbarOldOnError) {\n      oldOnError = oldOnError._rollbarOldOnError;\n    }\n    handler._rollbarOldOnError = oldOnError;\n  }\n\n  handler.handleAnonymousErrors();\n\n  var fn = function () {\n    var args = Array.prototype.slice.call(arguments, 0);\n    _rollbarWindowOnError(window, handler, oldOnError, args);\n  };\n  if (shim) {\n    fn._rollbarOldOnError = oldOnError;\n  }\n  window.onerror = fn;\n}\n\nfunction _rollbarWindowOnError(window, r, old, args) {\n  if (window._rollbarWrappedError) {\n    if (!args[4]) {\n      args[4] = window._rollbarWrappedError;\n    }\n    if (!args[5]) {\n      args[5] = window._rollbarWrappedError._rollbarContext;\n    }\n    window._rollbarWrappedError = null;\n  }\n\n  var ret = r.handleUncaughtException.apply(r, args);\n\n  if (old) {\n    old.apply(window, args);\n  }\n\n  // Let other chained onerror handlers above run before setting this.\n  // If an error is thrown and caught within a chained onerror handler,\n  // Error.prepareStackTrace() will see that one before the one we want.\n  if (ret === 'anonymous') {\n    r.anonymousErrorsPending += 1; // See Rollbar.prototype.handleAnonymousErrors()\n  }\n}\n\nfunction captureUnhandledRejections(window, handler, shim) {\n  if (!window) {\n    return;\n  }\n\n  if (\n    typeof window._rollbarURH === 'function' &&\n    window._rollbarURH.belongsToShim\n  ) {\n    window.removeEventListener('unhandledrejection', window._rollbarURH);\n  }\n\n  var rejectionHandler = function (evt) {\n    var reason, promise, detail;\n    try {\n      reason = evt.reason;\n    } catch (e) {\n      reason = undefined;\n    }\n    try {\n      promise = evt.promise;\n    } catch (e) {\n      promise = '[unhandledrejection] error getting `promise` from event';\n    }\n    try {\n      detail = evt.detail;\n      if (!reason && detail) {\n        reason = detail.reason;\n        promise = detail.promise;\n      }\n    } catch (e) {\n      // Ignore\n    }\n    if (!reason) {\n      reason = '[unhandledrejection] error getting `reason` from event';\n    }\n\n    if (handler && handler.handleUnhandledRejection) {\n      handler.handleUnhandledRejection(reason, promise);\n    }\n  };\n  rejectionHandler.belongsToShim = shim;\n  window._rollbarURH = rejectionHandler;\n  window.addEventListener('unhandledrejection', rejectionHandler);\n}\n\nexport { captureUncaughtExceptions, captureUnhandledRejections };\n","import logger from '../../logger.js';\nimport * as _ from '../../utility.js';\n\nfunction makeFetchRequest({\n  accessToken,\n  url,\n  method,\n  payload,\n  headers,\n  callback,\n  timeout,\n}) {\n  var controller;\n  var timeoutId;\n\n  if (_.isFiniteNumber(timeout)) {\n    controller = new AbortController();\n    timeoutId = setTimeout(function () {\n      controller.abort();\n    }, timeout);\n  }\n\n  headers = {\n    'Content-Type': 'application/json',\n    'X-Rollbar-Access-Token': accessToken,\n    signal: controller && controller.signal,\n    ...headers,\n  };\n\n  fetch(url, {\n    method,\n    headers,\n    body: payload,\n  })\n    .then(function (response) {\n      if (timeoutId) clearTimeout(timeoutId);\n      const respHeaders = response.headers;\n\n      const isItemRoute = url.endsWith('/api/1/item/');\n      const headers = isItemRoute\n        ? {\n            'Rollbar-Replay-Enabled': respHeaders.get('Rollbar-Replay-Enabled'),\n            'Rollbar-Replay-RateLimit-Remaining': respHeaders.get(\n              'Rollbar-Replay-RateLimit-Remaining',\n            ),\n            'Rollbar-Replay-RateLimit-Reset': respHeaders.get(\n              'Rollbar-Replay-RateLimit-Reset',\n            ),\n          }\n        : {};\n\n      const json = response.json();\n      callback(null, json, headers);\n    })\n    .catch(function (error) {\n      logger.error(error.message);\n      callback(error);\n    });\n}\n\nexport default makeFetchRequest;\n","/*global XDomainRequest*/\n\nimport * as _ from '../../utility.js';\nimport logger from '../../logger.js';\n\nfunction makeXhrRequest({\n  accessToken,\n  url,\n  method,\n  payload,\n  headers,\n  callback,\n  requestFactory,\n  timeout,\n}) {\n  var request;\n  if (requestFactory) {\n    request = requestFactory();\n  } else {\n    request = _createXMLHTTPObject();\n  }\n  if (!request) {\n    // Give up, no way to send requests\n    return callback(new Error('No way to send a request'));\n  }\n  try {\n    try {\n      var onreadystatechange = function () {\n        try {\n          if (onreadystatechange && request.readyState === 4) {\n            onreadystatechange = undefined;\n\n            var parseResponse = _.jsonParse(request.responseText);\n            if (_isSuccess(request)) {\n              const isItemRoute = url.endsWith('/api/1/item/');\n\n              const headers = isItemRoute\n                ? {\n                    'Rollbar-Replay-Enabled': request.getResponseHeader(\n                      'Rollbar-Replay-Enabled',\n                    ),\n                    'Rollbar-Replay-RateLimit-Remaining':\n                      request.getResponseHeader(\n                        'Rollbar-Replay-RateLimit-Remaining',\n                      ),\n                    'Rollbar-Replay-RateLimit-Reset': request.getResponseHeader(\n                      'Rollbar-Replay-RateLimit-Reset',\n                    ),\n                  }\n                : {};\n              callback(parseResponse.error, parseResponse.value, headers);\n              return;\n            } else if (_isNormalFailure(request)) {\n              if (request.status === 403) {\n                // likely caused by using a server access token\n                var message =\n                  parseResponse.value && parseResponse.value.message;\n                logger.error(message);\n              }\n              // return valid http status codes\n              callback(new Error(String(request.status)));\n            } else {\n              // IE will return a status 12000+ on some sort of connection failure,\n              // so we return a blank error\n              // http://msdn.microsoft.com/en-us/library/aa383770%28VS.85%29.aspx\n              var msg =\n                'XHR response had no status code (likely connection failure)';\n              callback(_newRetriableError(msg));\n            }\n          }\n        } catch (ex) {\n          //jquery source mentions firefox may error out while accessing the\n          //request members if there is a network error\n          //https://github.com/jquery/jquery/blob/a938d7b1282fc0e5c52502c225ae8f0cef219f0a/src/ajax/xhr.js#L111\n          var exc;\n          if (ex && ex.stack) {\n            exc = ex;\n          } else {\n            exc = new Error(ex);\n          }\n          callback(exc);\n        }\n      };\n\n      request.open(method, url, true);\n      if (request.setRequestHeader) {\n        request.setRequestHeader('Content-Type', 'application/json');\n        request.setRequestHeader('X-Rollbar-Access-Token', accessToken);\n        for (const [h, v] of Object.entries(headers ?? {})) {\n          request.setRequestHeader(h, v);\n        }\n      }\n\n      if (_.isFiniteNumber(timeout)) {\n        request.timeout = timeout;\n      }\n\n      request.onreadystatechange = onreadystatechange;\n      request.send(payload);\n    } catch (e1) {\n      // Sending using the normal xmlhttprequest object didn't work, try XDomainRequest\n      if (typeof XDomainRequest !== 'undefined') {\n        // Assume we are in a really old browser which has a bunch of limitations:\n        // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n\n        // Extreme paranoia: if we have XDomainRequest then we have a window, but just in case\n        if (!window || !window.location) {\n          return callback(\n            new Error(\n              'No window available during request, unknown environment',\n            ),\n          );\n        }\n\n        // If the current page is http, try and send over http\n        if (\n          window.location.href.substring(0, 5) === 'http:' &&\n          url.substring(0, 5) === 'https'\n        ) {\n          url = 'http' + url.substring(5);\n        }\n\n        var xdomainrequest = new XDomainRequest();\n        xdomainrequest.onprogress = function () {};\n        xdomainrequest.ontimeout = function () {\n          var msg = 'Request timed out';\n          var code = 'ETIMEDOUT';\n          callback(_newRetriableError(msg, code));\n        };\n        xdomainrequest.onerror = function () {\n          callback(new Error('Error during request'));\n        };\n        xdomainrequest.onload = function () {\n          var parseResponse = _.jsonParse(xdomainrequest.responseText);\n          callback(parseResponse.error, parseResponse.value);\n        };\n        xdomainrequest.open(method, url, true);\n        xdomainrequest.send(payload);\n      } else {\n        callback(new Error('Cannot find a method to transport a request'));\n      }\n    }\n  } catch (e2) {\n    callback(e2);\n  }\n}\n\nfunction _createXMLHTTPObject() {\n  /* global ActiveXObject:false */\n\n  var factories = [\n    function () {\n      return new XMLHttpRequest();\n    },\n    function () {\n      return new ActiveXObject('Msxml2.XMLHTTP');\n    },\n    function () {\n      return new ActiveXObject('Msxml3.XMLHTTP');\n    },\n    function () {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    },\n  ];\n  var xmlhttp;\n  var i;\n  var numFactories = factories.length;\n  for (i = 0; i < numFactories; i++) {\n    try {\n      xmlhttp = factories[i]();\n      break;\n    } catch (e) {\n      // pass\n    }\n  }\n  return xmlhttp;\n}\n\nfunction _isSuccess(r) {\n  return r && r.status && r.status === 200;\n}\n\nfunction _isNormalFailure(r) {\n  return r && _.isType(r.status, 'number') && r.status >= 400 && r.status < 600;\n}\n\nfunction _newRetriableError(message, code) {\n  var err = new Error(message);\n  err.code = code || 'ENOTFOUND';\n  return err;\n}\n\nexport default makeXhrRequest;\n","import * as _ from '../utility.js';\nimport makeFetchRequest from './transport/fetch.js';\nimport makeXhrRequest from './transport/xhr.js';\n\n/*\n * accessToken may be embedded in payload but that should not\n *   be assumed\n *\n * options: {\n *   hostname\n *   protocol\n *   path\n *   port\n *   method\n *   transport ('xhr' | 'fetch')\n * }\n *\n *  params is an object containing key/value pairs. These\n *    will be appended to the path as 'key=value&key=value'\n *\n * payload is an unserialized object\n */\nfunction Transport(truncation) {\n  this.truncation = truncation;\n}\n\nTransport.prototype.get = function (\n  accessToken,\n  options,\n  params,\n  callback,\n  requestFactory,\n) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function () {};\n  }\n  _.addParamsAndAccessTokenToPath(accessToken, options, params);\n\n  var method = 'GET';\n  var url = _.formatUrl(options);\n  this._makeZoneRequest({\n    accessToken,\n    url,\n    method,\n    callback,\n    requestFactory,\n    timeout: options.timeout,\n    transport: options.transport,\n  });\n};\n\nTransport.prototype.post = function ({\n  accessToken,\n  options,\n  payload,\n  headers,\n  callback,\n  requestFactory,\n}) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function () {};\n  }\n\n  if (!payload) {\n    return callback(new Error('Cannot send empty request'));\n  }\n\n  var stringifyResult;\n  // Check payload.body to ensure only items are truncated.\n  if (this.truncation && payload.body) {\n    stringifyResult = this.truncation.truncate(payload);\n  } else {\n    stringifyResult = _.stringify(payload);\n  }\n  if (stringifyResult.error) {\n    return callback(stringifyResult.error);\n  }\n\n  var payload = stringifyResult.value;\n  var method = 'POST';\n  var url = _.formatUrl(options);\n  this._makeZoneRequest({\n    accessToken,\n    url,\n    method,\n    payload,\n    headers,\n    callback,\n    requestFactory,\n    timeout: options.timeout,\n    transport: options.transport,\n  });\n};\n\nTransport.prototype.postJsonPayload = function (\n  accessToken,\n  options,\n  payload,\n  callback,\n  requestFactory,\n) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = function () {};\n  }\n\n  var method = 'POST';\n  var url = _.formatUrl(options);\n  this._makeZoneRequest({\n    accessToken,\n    url,\n    method,\n    payload,\n    callback,\n    requestFactory,\n    timeout: options.timeout,\n    transport: options.transport,\n  });\n};\n\n// Wraps `_makeRequest` if zone.js is being used, ensuring that Rollbar\n// API calls are not intercepted by any child forked zones.\n// This is equivalent to `NgZone.runOutsideAngular` in Angular.\nTransport.prototype._makeZoneRequest = function () {\n  var gWindow =\n    (typeof window != 'undefined' && window) ||\n    (typeof self != 'undefined' && self);\n  // Whenever zone.js is loaded and `Zone` is exposed globally, access\n  // the root zone to ensure that requests are always made within it.\n  // This approach is framework-agnostic, regardless of which\n  // framework zone.js is used with.\n  var rootZone = gWindow && gWindow.Zone && gWindow.Zone.root;\n  var args = Array.prototype.slice.call(arguments);\n\n  if (rootZone) {\n    var self = this;\n    rootZone.run(function () {\n      self._makeRequest.apply(undefined, args);\n    });\n  } else {\n    this._makeRequest.apply(undefined, args);\n  }\n};\n\nTransport.prototype._makeRequest = function (params) {\n  const { payload, callback, transport } = params;\n  if (typeof RollbarProxy !== 'undefined') {\n    return _proxyRequest(payload, callback);\n  }\n\n  if (transport === 'fetch') {\n    makeFetchRequest(params);\n  } else {\n    makeXhrRequest(params);\n  }\n};\n\n/* global RollbarProxy */\nfunction _proxyRequest(json, callback) {\n  var rollbarProxy = new RollbarProxy();\n  rollbarProxy.sendJsonPayload(\n    json,\n    function (_msg) {\n      /* do nothing */\n    },\n    function (err) {\n      callback(new Error(err));\n    },\n  );\n}\n\nexport default Transport;\n","// See https://nodejs.org/docs/latest/api/url.html\nfunction parse(url) {\n  var result = {\n    protocol: null,\n    auth: null,\n    host: null,\n    path: null,\n    hash: null,\n    href: url,\n    hostname: null,\n    port: null,\n    pathname: null,\n    search: null,\n    query: null,\n  };\n\n  var i, last;\n  i = url.indexOf('//');\n  if (i !== -1) {\n    result.protocol = url.substring(0, i);\n    last = i + 2;\n  } else {\n    last = 0;\n  }\n\n  i = url.indexOf('@', last);\n  if (i !== -1) {\n    result.auth = url.substring(last, i);\n    last = i + 1;\n  }\n\n  i = url.indexOf('/', last);\n  if (i === -1) {\n    i = url.indexOf('?', last);\n    if (i === -1) {\n      i = url.indexOf('#', last);\n      if (i === -1) {\n        result.host = url.substring(last);\n      } else {\n        result.host = url.substring(last, i);\n        result.hash = url.substring(i);\n      }\n      result.hostname = result.host.split(':')[0];\n      result.port = result.host.split(':')[1];\n      if (result.port) {\n        result.port = parseInt(result.port, 10);\n      }\n      return result;\n    } else {\n      result.host = url.substring(last, i);\n      result.hostname = result.host.split(':')[0];\n      result.port = result.host.split(':')[1];\n      if (result.port) {\n        result.port = parseInt(result.port, 10);\n      }\n      last = i;\n    }\n  } else {\n    result.host = url.substring(last, i);\n    result.hostname = result.host.split(':')[0];\n    result.port = result.host.split(':')[1];\n    if (result.port) {\n      result.port = parseInt(result.port, 10);\n    }\n    last = i;\n  }\n\n  i = url.indexOf('#', last);\n  if (i === -1) {\n    result.path = url.substring(last);\n  } else {\n    result.path = url.substring(last, i);\n    result.hash = url.substring(i);\n  }\n\n  if (result.path) {\n    var pathParts = result.path.split('?');\n    result.pathname = pathParts[0];\n    result.query = pathParts[1];\n    result.search = result.query ? '?' + result.query : null;\n  }\n  return result;\n}\n\nexport { parse };\n","const FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\nconst CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nconst SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\nfunction parse(error, options) {\n  if (typeof error.stacktrace !== \"undefined\" || typeof error[\"opera#sourceloc\"] !== \"undefined\")\n    return parseOpera(error, options);\n  else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP))\n    return parseV8OrIE(error, options);\n  else if (error.stack)\n    return parseFFOrSafari(error, options);\n  else if (options?.allowEmpty)\n    return [];\n  else\n    throw new Error(\"Cannot parse given Error object\");\n}\nfunction parseStack(stackString, options) {\n  if (stackString.match(CHROME_IE_STACK_REGEXP))\n    return parseV8OrIeString(stackString, options);\n  else\n    return parseFFOrSafariString(stackString, options);\n}\nfunction extractLocation(urlLike) {\n  if (!urlLike.includes(\":\"))\n    return [urlLike, undefined, undefined];\n  const regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n  const parts = regExp.exec(urlLike.replace(/[()]/g, \"\"));\n  return [parts[1], parts[2] || undefined, parts[3] || undefined];\n}\nfunction applySlice(lines, options) {\n  if (options && options.slice != null) {\n    if (Array.isArray(options.slice))\n      return lines.slice(options.slice[0], options.slice[1]);\n    return lines.slice(0, options.slice);\n  }\n  return lines;\n}\nfunction parseV8OrIE(error, options) {\n  return parseV8OrIeString(error.stack, options);\n}\nfunction parseV8OrIeString(stack, options) {\n  const filtered = applySlice(\n    stack.split(\"\\n\").filter((line) => {\n      return !!line.match(CHROME_IE_STACK_REGEXP);\n    }),\n    options\n  );\n  return filtered.map((line) => {\n    if (line.includes(\"(eval \")) {\n      line = line.replace(/eval code/g, \"eval\").replace(/(\\(eval at [^()]*)|(,.*$)/g, \"\");\n    }\n    let sanitizedLine = line.replace(/^\\s+/, \"\").replace(/\\(eval code/g, \"(\").replace(/^.*?\\s+/, \"\");\n    const location = sanitizedLine.match(/ (\\(.+\\)$)/);\n    sanitizedLine = location ? sanitizedLine.replace(location[0], \"\") : sanitizedLine;\n    const locationParts = extractLocation(location ? location[1] : sanitizedLine);\n    const functionName = location && sanitizedLine || undefined;\n    const fileName = [\"eval\", \"<anonymous>\"].includes(locationParts[0]) ? undefined : locationParts[0];\n    return {\n      function: functionName,\n      file: fileName,\n      line: locationParts[1] ? +locationParts[1] : undefined,\n      col: locationParts[2] ? +locationParts[2] : undefined,\n      raw: line\n    };\n  });\n}\nfunction parseFFOrSafari(error, options) {\n  return parseFFOrSafariString(error.stack, options);\n}\nfunction parseFFOrSafariString(stack, options) {\n  const filtered = applySlice(\n    stack.split(\"\\n\").filter((line) => {\n      return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n    }),\n    options\n  );\n  return filtered.map((line) => {\n    if (line.includes(\" > eval\"))\n      line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, \":$1\");\n    if (!line.includes(\"@\") && !line.includes(\":\")) {\n      return {\n        function: line\n      };\n    } else {\n      const functionNameRegex = /(([^\\n\\r\"\\u2028\\u2029]*\".[^\\n\\r\"\\u2028\\u2029]*\"[^\\n\\r@\\u2028\\u2029]*(?:@[^\\n\\r\"\\u2028\\u2029]*\"[^\\n\\r@\\u2028\\u2029]*)*(?:[\\n\\r\\u2028\\u2029][^@]*)?)?[^@]*)@/;\n      const matches = line.match(functionNameRegex);\n      const functionName = matches && matches[1] ? matches[1] : undefined;\n      const locationParts = extractLocation(line.replace(functionNameRegex, \"\"));\n      return {\n        function: functionName,\n        file: locationParts[0],\n        line: locationParts[1] ? +locationParts[1] : undefined,\n        col: locationParts[2] ? +locationParts[2] : undefined,\n        raw: line\n      };\n    }\n  });\n}\nfunction parseOpera(e, options) {\n  if (!e.stacktrace || e.message.includes(\"\\n\") && e.message.split(\"\\n\").length > e.stacktrace.split(\"\\n\").length)\n    return parseOpera9(e);\n  else if (!e.stack)\n    return parseOpera10(e);\n  else\n    return parseOpera11(e, options);\n}\nfunction parseOpera9(e, options) {\n  const lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n  const lines = e.message.split(\"\\n\");\n  const result = [];\n  for (let i = 2, len = lines.length; i < len; i += 2) {\n    const match = lineRE.exec(lines[i]);\n    if (match) {\n      result.push({\n        file: match[2],\n        line: +match[1],\n        raw: lines[i]\n      });\n    }\n  }\n  return applySlice(result, options);\n}\nfunction parseOpera10(e, options) {\n  const lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n  const lines = e.stacktrace.split(\"\\n\");\n  const result = [];\n  for (let i = 0, len = lines.length; i < len; i += 2) {\n    const match = lineRE.exec(lines[i]);\n    if (match) {\n      result.push({\n        function: match[3] || undefined,\n        file: match[2],\n        line: match[1] ? +match[1] : undefined,\n        raw: lines[i]\n      });\n    }\n  }\n  return applySlice(result, options);\n}\nfunction parseOpera11(error, options) {\n  const filtered = applySlice(\n    // @ts-expect-error missing stack property\n    error.stack.split(\"\\n\").filter((line) => {\n      return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n    }),\n    options\n  );\n  return filtered.map((line) => {\n    const tokens = line.split(\"@\");\n    const locationParts = extractLocation(tokens.pop());\n    const functionCall = tokens.shift() || \"\";\n    const functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, \"$2\").replace(/\\([^)]*\\)/g, \"\") || undefined;\n    let argsRaw;\n    if (functionCall.match(/\\(([^)]*)\\)/))\n      argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, \"$1\");\n    const args = argsRaw === undefined || argsRaw === \"[arguments not available]\" ? undefined : argsRaw.split(\",\");\n    return {\n      function: functionName,\n      args,\n      file: locationParts[0],\n      line: locationParts[1] ? +locationParts[1] : undefined,\n      col: locationParts[2] ? +locationParts[2] : undefined,\n      raw: line\n    };\n  });\n}\n\nexport { extractLocation, parse, parseFFOrSafari, parseFFOrSafariString, parseOpera, parseOpera10, parseOpera11, parseOpera9, parseStack, parseV8OrIE, parseV8OrIeString };\n","import { parse as parse$1, parseV8OrIE as parseV8OrIE$1, parseFFOrSafari as parseFFOrSafari$1, parseOpera as parseOpera$1, parseOpera9 as parseOpera9$1, parseOpera10 as parseOpera10$1, parseOpera11 as parseOpera11$1 } from './lite.mjs';\nexport { extractLocation } from './lite.mjs';\n\nfunction stackframesLiteToStackframes(liteStackframes) {\n  return liteStackframes.map((liteStackframe) => {\n    return {\n      functionName: liteStackframe.function,\n      args: liteStackframe.args,\n      fileName: liteStackframe.file,\n      lineNumber: liteStackframe.line,\n      columnNumber: liteStackframe.col,\n      source: liteStackframe.raw\n    };\n  });\n}\nfunction parse(error, options) {\n  return stackframesLiteToStackframes(parse$1(error, options));\n}\nfunction parseV8OrIE(error) {\n  return stackframesLiteToStackframes(parseV8OrIE$1(error));\n}\nfunction parseFFOrSafari(error) {\n  return stackframesLiteToStackframes(parseFFOrSafari$1(error));\n}\nfunction parseOpera(e) {\n  return stackframesLiteToStackframes(parseOpera$1(e));\n}\nfunction parseOpera9(e) {\n  return stackframesLiteToStackframes(parseOpera9$1(e));\n}\nfunction parseOpera10(e) {\n  return stackframesLiteToStackframes(parseOpera10$1(e));\n}\nfunction parseOpera11(error) {\n  return stackframesLiteToStackframes(parseOpera11$1(error));\n}\n\nexport { parse, parseFFOrSafari, parseOpera, parseOpera10, parseOpera11, parseOpera9, parseV8OrIE };\n","import { parse as parseErrorStack } from 'error-stack-parser-es';\n\nvar UNKNOWN_FUNCTION = '?';\nvar ERR_CLASS_REGEXP = new RegExp(\n  '^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ',\n);\n\nfunction guessFunctionName() {\n  return UNKNOWN_FUNCTION;\n}\n\nfunction gatherContext() {\n  return null;\n}\n\nfunction Frame(stackFrame) {\n  var data = {};\n\n  data._stackFrame = stackFrame;\n\n  data.url = stackFrame.fileName;\n  data.line = stackFrame.lineNumber;\n  data.func = stackFrame.functionName;\n  data.column = stackFrame.columnNumber;\n  data.args = stackFrame.args;\n\n  data.context = gatherContext();\n\n  return data;\n}\n\nfunction Stack(exception, skip) {\n  function getStack() {\n    var parserStack = [];\n\n    skip = skip || 0;\n\n    try {\n      parserStack = parseErrorStack(exception);\n    } catch (e) {\n      parserStack = [];\n    }\n\n    var stack = [];\n\n    for (var i = skip; i < parserStack.length; i++) {\n      stack.push(new Frame(parserStack[i]));\n    }\n\n    return stack;\n  }\n\n  return {\n    stack: getStack(),\n    message: exception.message,\n    name: _mostSpecificErrorName(exception),\n    rawStack: exception.stack,\n    rawException: exception,\n  };\n}\n\nfunction parse(e, skip) {\n  var err = e;\n\n  if (err.nested || err.cause) {\n    var traceChain = [];\n    while (err) {\n      traceChain.push(new Stack(err, skip));\n      err = err.nested || err.cause;\n\n      skip = 0; // Only apply skip value to primary error\n    }\n\n    // Return primary error with full trace chain attached.\n    traceChain[0].traceChain = traceChain;\n    return traceChain[0];\n  } else {\n    return new Stack(err, skip);\n  }\n}\n\nfunction guessErrorClass(errMsg) {\n  if (!errMsg || !errMsg.match) {\n    return ['Unknown error. There was no error message to display.', ''];\n  }\n  var errClassMatch = errMsg.match(ERR_CLASS_REGEXP);\n  var errClass = '(unknown)';\n\n  if (errClassMatch) {\n    errClass = errClassMatch[errClassMatch.length - 1];\n    errMsg = errMsg.replace(\n      (errClassMatch[errClassMatch.length - 2] || '') + errClass + ':',\n      '',\n    );\n    errMsg = errMsg.replace(/(^[\\s]+|[\\s]+$)/g, '');\n  }\n  return [errClass, errMsg];\n}\n\n// * Prefers any value over an empty string\n// * Prefers any value over 'Error' where possible\n// * Prefers name over constructor.name when both are more specific than 'Error'\nfunction _mostSpecificErrorName(error) {\n  var name = error.name && error.name.length && error.name;\n  var constructorName =\n    error.constructor.name &&\n    error.constructor.name.length &&\n    error.constructor.name;\n\n  if (!name || !constructorName) {\n    return name || constructorName;\n  }\n\n  if (name === 'Error') {\n    return constructorName;\n  }\n  return name;\n}\n\nexport default {\n  guessFunctionName,\n  guessErrorClass,\n  gatherContext,\n  parse,\n  Stack,\n  Frame,\n};\n","import * as _ from '../utility.js';\nimport errorParser from '../errorParser.js';\nimport logger from '../logger.js';\n\nfunction handleDomException(item, options, callback) {\n  if (item.err && errorParser.Stack(item.err).name === 'DOMException') {\n    var originalError = new Error();\n    originalError.name = item.err.name;\n    originalError.message = item.err.message;\n    originalError.stack = item.err.stack;\n    originalError.nested = item.err;\n    item.err = originalError;\n  }\n  callback(null, item);\n}\n\nfunction handleItemWithError(item, options, callback) {\n  item.data = item.data || {};\n  if (item.err) {\n    try {\n      item.stackInfo =\n        item.err._savedStackTrace ||\n        errorParser.parse(item.err, item.skipFrames);\n\n      if (options.addErrorContext) {\n        addErrorContext(item);\n      }\n    } catch (e) {\n      logger.error('Error while parsing the error object.', e);\n      try {\n        item.message =\n          item.err.message ||\n          item.err.description ||\n          item.message ||\n          String(item.err);\n      } catch (e2) {\n        item.message = String(item.err) || String(e2);\n      }\n      delete item.err;\n    }\n  }\n  callback(null, item);\n}\n\nfunction addErrorContext(item) {\n  var chain = [];\n  var err = item.err;\n\n  chain.push(err);\n\n  while (err.nested || err.cause) {\n    err = err.nested || err.cause;\n    chain.push(err);\n  }\n\n  _.addErrorContext(item, chain);\n}\n\nfunction ensureItemHasSomethingToSay(item, options, callback) {\n  if (!item.message && !item.stackInfo && !item.custom) {\n    callback(new Error('No message, stack info, or custom data'), null);\n  }\n  callback(null, item);\n}\n\nfunction addBaseInfo(item, options, callback) {\n  var environment =\n    (options.payload && options.payload.environment) || options.environment;\n  item.data = _.merge(item.data, {\n    environment: environment,\n    level: item.level,\n    endpoint: options.endpoint,\n    platform: 'browser',\n    framework: 'browser-js',\n    language: 'javascript',\n    server: {},\n    uuid: item.uuid,\n    notifier: {\n      name: 'rollbar-browser-js',\n      version: options.version,\n    },\n    custom: item.custom,\n  });\n  callback(null, item);\n}\n\nfunction addRequestInfo(window) {\n  return function (item, options, callback) {\n    var requestInfo = {};\n\n    if (window && window.location) {\n      requestInfo.url = window.location.href;\n      requestInfo.query_string = window.location.search;\n    }\n\n    var remoteString = '$remote_ip';\n    if (!options.captureIp) {\n      remoteString = null;\n    } else if (options.captureIp !== true) {\n      remoteString += '_anonymize';\n    }\n    if (remoteString) requestInfo.user_ip = remoteString;\n\n    if (Object.keys(requestInfo).length > 0) {\n      _.set(item, 'data.request', requestInfo);\n    }\n\n    callback(null, item);\n  };\n}\n\nfunction addClientInfo(window) {\n  return function (item, options, callback) {\n    if (!window) {\n      return callback(null, item);\n    }\n    var nav = window.navigator || {};\n    var scr = window.screen || {};\n    _.set(item, 'data.client', {\n      runtime_ms: item.timestamp - window._rollbarStartTime,\n      timestamp: Math.round(item.timestamp / 1000),\n      javascript: {\n        browser: nav.userAgent,\n        language: nav.language,\n        cookie_enabled: nav.cookieEnabled,\n        screen: {\n          width: scr.width,\n          height: scr.height,\n        },\n      },\n    });\n    callback(null, item);\n  };\n}\n\nfunction addPluginInfo(window) {\n  return function (item, options, callback) {\n    if (!window || !window.navigator) {\n      return callback(null, item);\n    }\n    var plugins = [];\n    var navPlugins = window.navigator.plugins || [];\n    var cur;\n    for (var i = 0, l = navPlugins.length; i < l; ++i) {\n      cur = navPlugins[i];\n      plugins.push({ name: cur.name, description: cur.description });\n    }\n    _.set(item, 'data.client.javascript.plugins', plugins);\n    callback(null, item);\n  };\n}\n\nfunction addBody(item, options, callback) {\n  if (item.stackInfo) {\n    if (item.stackInfo.traceChain) {\n      addBodyTraceChain(item, options, callback);\n    } else {\n      addBodyTrace(item, options, callback);\n    }\n  } else {\n    addBodyMessage(item, options, callback);\n  }\n}\n\nfunction addBodyMessage(item, options, callback) {\n  var message = item.message;\n  var custom = item.custom;\n\n  if (!message) {\n    message = 'Item sent with null or missing arguments.';\n  }\n  var result = {\n    body: message,\n  };\n\n  if (custom) {\n    result.extra = _.merge(custom);\n  }\n\n  _.set(item, 'data.body', { message: result });\n  callback(null, item);\n}\n\nfunction stackFromItem(item) {\n  // Transform a TraceKit stackInfo object into a Rollbar trace\n  var stack = item.stackInfo.stack;\n  if (\n    stack &&\n    stack.length === 0 &&\n    item._unhandledStackInfo &&\n    item._unhandledStackInfo.stack\n  ) {\n    stack = item._unhandledStackInfo.stack;\n  }\n  return stack;\n}\n\nfunction addBodyTraceChain(item, options, callback) {\n  var traceChain = item.stackInfo.traceChain;\n  var traces = [];\n\n  var traceChainLength = traceChain.length;\n  for (var i = 0; i < traceChainLength; i++) {\n    var trace = buildTrace(item, traceChain[i], options);\n    traces.push(trace);\n  }\n\n  _.set(item, 'data.body', { trace_chain: traces });\n  callback(null, item);\n}\n\nfunction addBodyTrace(item, options, callback) {\n  var stack = stackFromItem(item);\n\n  if (stack) {\n    var trace = buildTrace(item, item.stackInfo, options);\n    _.set(item, 'data.body', { trace: trace });\n    callback(null, item);\n  } else {\n    var stackInfo = item.stackInfo;\n    var guess = errorParser.guessErrorClass(stackInfo.message);\n    var className = errorClass(stackInfo, guess[0], options);\n    var message = guess[1];\n\n    item.message = className + ': ' + message;\n    addBodyMessage(item, options, callback);\n  }\n}\n\nfunction buildTrace(item, stackInfo, options) {\n  var description = item && item.data.description;\n  var custom = item && item.custom;\n  var stack = stackFromItem(item);\n\n  var guess = errorParser.guessErrorClass(stackInfo.message);\n  var className = errorClass(stackInfo, guess[0], options);\n  var message = guess[1];\n  var trace = {\n    exception: {\n      class: className,\n      message: message,\n    },\n  };\n\n  if (description) {\n    trace.exception.description = description;\n  }\n\n  if (stack) {\n    if (stack.length === 0) {\n      trace.exception.stack = stackInfo.rawStack;\n      trace.exception.raw = String(stackInfo.rawException);\n    }\n    var stackFrame;\n    var frame;\n    var code;\n    var pre;\n    var post;\n    var contextLength;\n    var i, mid;\n\n    trace.frames = [];\n    for (i = 0; i < stack.length; ++i) {\n      stackFrame = stack[i];\n      frame = {\n        filename: stackFrame.url ? _.sanitizeUrl(stackFrame.url) : '(unknown)',\n        lineno: stackFrame.line || null,\n        method:\n          !stackFrame.func || stackFrame.func === '?'\n            ? '[anonymous]'\n            : stackFrame.func,\n        colno: stackFrame.column,\n      };\n      if (options.sendFrameUrl) {\n        frame.url = stackFrame.url;\n      }\n      if (\n        frame.method &&\n        frame.method.endsWith &&\n        frame.method.endsWith('_rollbar_wrapped')\n      ) {\n        continue;\n      }\n\n      code = pre = post = null;\n      contextLength = stackFrame.context ? stackFrame.context.length : 0;\n      if (contextLength) {\n        mid = Math.floor(contextLength / 2);\n        pre = stackFrame.context.slice(0, mid);\n        code = stackFrame.context[mid];\n        post = stackFrame.context.slice(mid);\n      }\n\n      if (code) {\n        frame.code = code;\n      }\n\n      if (pre || post) {\n        frame.context = {};\n        if (pre && pre.length) {\n          frame.context.pre = pre;\n        }\n        if (post && post.length) {\n          frame.context.post = post;\n        }\n      }\n\n      if (stackFrame.args) {\n        frame.args = stackFrame.args;\n      }\n\n      trace.frames.push(frame);\n    }\n\n    // NOTE(cory): reverse the frames since rollbar.com expects the most recent call last\n    trace.frames.reverse();\n\n    if (custom) {\n      trace.extra = _.merge(custom);\n    }\n  }\n\n  return trace;\n}\n\nfunction errorClass(stackInfo, guess, options) {\n  if (stackInfo.name) {\n    return stackInfo.name;\n  } else if (options.guessErrorClass) {\n    return guess;\n  } else {\n    return '(unknown)';\n  }\n}\n\nfunction addScrubber(scrubFn) {\n  return function (item, options, callback) {\n    if (scrubFn) {\n      var scrubFields = options.scrubFields || [];\n      var scrubPaths = options.scrubPaths || [];\n      item.data = scrubFn(item.data, scrubFields, scrubPaths);\n    }\n    callback(null, item);\n  };\n}\n\nexport {\n  handleDomException,\n  handleItemWithError,\n  ensureItemHasSomethingToSay,\n  addBaseInfo,\n  addRequestInfo,\n  addClientInfo,\n  addPluginInfo,\n  addBody,\n  addScrubber,\n};\n","import * as _ from './utility.js';\n\nfunction itemToPayload(item, options, callback) {\n  if (item._isUncaught) {\n    item.data._isUncaught = true;\n  }\n  if (item._originalArgs) {\n    item.data._originalArgs = item._originalArgs;\n  }\n  callback(null, item);\n}\n\nfunction addPayloadOptions(item, options, callback) {\n  var payloadOptions = options.payload || {};\n  if (payloadOptions.body) {\n    delete payloadOptions.body;\n  }\n\n  item.data = _.merge(item.data, payloadOptions);\n  callback(null, item);\n}\n\nfunction addTelemetryData(item, options, callback) {\n  if (item.telemetryEvents) {\n    _.set(item, 'data.body.telemetry', item.telemetryEvents);\n  }\n  callback(null, item);\n}\n\nfunction addMessageWithError(item, options, callback) {\n  if (!item.message) {\n    callback(null, item);\n    return;\n  }\n  var tracePath = 'data.body.trace_chain.0';\n  var trace = _.get(item, tracePath);\n  if (!trace) {\n    tracePath = 'data.body.trace';\n    trace = _.get(item, tracePath);\n  }\n  if (trace) {\n    if (!(trace.exception && trace.exception.description)) {\n      _.set(item, tracePath + '.exception.description', item.message);\n      callback(null, item);\n      return;\n    }\n    var extra = _.get(item, tracePath + '.extra') || {};\n    var newExtra = _.merge(extra, { message: item.message });\n    _.set(item, tracePath + '.extra', newExtra);\n  }\n  callback(null, item);\n}\n\nfunction userTransform(logger) {\n  return function (item, options, callback) {\n    var newItem = _.merge(item);\n    var response = null;\n    try {\n      if (_.isFunction(options.transform)) {\n        response = options.transform(newItem.data, item);\n      }\n    } catch (e) {\n      options.transform = null;\n      logger.error(\n        'Error while calling custom transform() function. Removing custom transform().',\n        e,\n      );\n      callback(null, item);\n      return;\n    }\n    if (_.isPromise(response)) {\n      response.then(\n        function (promisedItem) {\n          if (promisedItem) {\n            newItem.data = promisedItem;\n          }\n          callback(null, newItem);\n        },\n        function (error) {\n          callback(error, item);\n        },\n      );\n    } else {\n      callback(null, newItem);\n    }\n  };\n}\n\nfunction addConfigToPayload(item, options, callback) {\n  if (!options.sendConfig) {\n    return callback(null, item);\n  }\n  var configKey = '_rollbarConfig';\n  var custom = _.get(item, 'data.custom') || {};\n  custom[configKey] = options;\n  item.data.custom = custom;\n  callback(null, item);\n}\n\nfunction addFunctionOption(options, name) {\n  if (_.isFunction(options[name])) {\n    options[name] = options[name].toString();\n  }\n}\n\nfunction addConfiguredOptions(item, options, callback) {\n  var configuredOptions = options._configuredOptions;\n\n  // These must be stringified or they'll get dropped during serialization.\n  addFunctionOption(configuredOptions, 'transform');\n  addFunctionOption(configuredOptions, 'checkIgnore');\n  addFunctionOption(configuredOptions, 'onSendCallback');\n\n  delete configuredOptions.accessToken;\n  item.data.notifier.configured_options = configuredOptions;\n  callback(null, item);\n}\n\nfunction addDiagnosticKeys(item, options, callback) {\n  var diagnostic = _.merge(\n    item.notifier.client.notifier.diagnostic,\n    item.diagnostic,\n  );\n\n  if (_.get(item, 'err._isAnonymous')) {\n    diagnostic.is_anonymous = true;\n  }\n\n  if (item._isUncaught) {\n    diagnostic.is_uncaught = item._isUncaught;\n  }\n\n  if (item.err) {\n    try {\n      diagnostic.raw_error = {\n        message: item.err.message,\n        name: item.err.name,\n        constructor_name: item.err.constructor && item.err.constructor.name,\n        filename: item.err.fileName,\n        line: item.err.lineNumber,\n        column: item.err.columnNumber,\n        stack: item.err.stack,\n      };\n    } catch (e) {\n      diagnostic.raw_error = { failed: String(e) };\n    }\n  }\n\n  item.data.notifier.diagnostic = _.merge(\n    item.data.notifier.diagnostic,\n    diagnostic,\n  );\n  callback(null, item);\n}\n\nexport {\n  itemToPayload,\n  addPayloadOptions,\n  addTelemetryData,\n  addMessageWithError,\n  userTransform,\n  addConfigToPayload,\n  addConfiguredOptions,\n  addDiagnosticKeys,\n};\n","import * as _ from '../utility.js';\n\nfunction checkIgnore(item, settings) {\n  if (_.get(settings, 'plugins.jquery.ignoreAjaxErrors')) {\n    return !_.get(item, 'body.message.extra.isAjax');\n  }\n  return true;\n}\n\nexport { checkIgnore };\n","import * as _ from './utility.js';\n\nfunction checkLevel(item, settings) {\n  var level = item.level;\n  var levelVal = _.LEVELS[level] || 0;\n  var reportLevel = settings.reportLevel;\n  var reportLevelVal = _.LEVELS[reportLevel] || 0;\n\n  if (levelVal < reportLevelVal) {\n    return false;\n  }\n  return true;\n}\n\nfunction userCheckIgnore(logger) {\n  return function (item, settings) {\n    var isUncaught = !!item._isUncaught;\n    delete item._isUncaught;\n    var args = item._originalArgs;\n    delete item._originalArgs;\n    try {\n      if (_.isFunction(settings.onSendCallback)) {\n        settings.onSendCallback(isUncaught, args, item);\n      }\n    } catch (e) {\n      settings.onSendCallback = null;\n      logger.error('Error while calling onSendCallback, removing', e);\n    }\n    try {\n      if (\n        _.isFunction(settings.checkIgnore) &&\n        settings.checkIgnore(isUncaught, args, item)\n      ) {\n        return false;\n      }\n    } catch (e) {\n      settings.checkIgnore = null;\n      logger.error('Error while calling custom checkIgnore(), removing', e);\n    }\n    return true;\n  };\n}\n\nfunction urlIsNotBlockListed(logger) {\n  return function (item, settings) {\n    return !urlIsOnAList(item, settings, 'blocklist', logger);\n  };\n}\n\nfunction urlIsSafeListed(logger) {\n  return function (item, settings) {\n    return urlIsOnAList(item, settings, 'safelist', logger);\n  };\n}\n\nfunction matchFrames(trace, list, block) {\n  if (!trace) {\n    return !block;\n  }\n\n  var frames = trace.frames;\n\n  if (!frames || frames.length === 0) {\n    return !block;\n  }\n\n  var frame, filename, url, urlRegex;\n  var listLength = list.length;\n  var frameLength = frames.length;\n  for (var i = 0; i < frameLength; i++) {\n    frame = frames[i];\n    filename = frame.filename;\n\n    if (!_.isType(filename, 'string')) {\n      return !block;\n    }\n\n    for (var j = 0; j < listLength; j++) {\n      url = list[j];\n      urlRegex = new RegExp(url);\n\n      if (urlRegex.test(filename)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction urlIsOnAList(item, settings, safeOrBlock, logger) {\n  // safelist is the default\n  var block = false;\n  if (safeOrBlock === 'blocklist') {\n    block = true;\n  }\n\n  var list, traces;\n  try {\n    list = block ? settings.hostBlockList : settings.hostSafeList;\n    traces = _.get(item, 'body.trace_chain') || [_.get(item, 'body.trace')];\n\n    // These two checks are important to come first as they are defaults\n    // in case the list is missing or the trace is missing or not well-formed\n    if (!list || list.length === 0) {\n      return !block;\n    }\n    if (traces.length === 0 || !traces[0]) {\n      return !block;\n    }\n\n    var tracesLength = traces.length;\n    for (var i = 0; i < tracesLength; i++) {\n      if (matchFrames(traces[i], list, block)) {\n        return true;\n      }\n    }\n  } catch (\n    e\n    /* istanbul ignore next */\n  ) {\n    if (block) {\n      settings.hostBlockList = null;\n    } else {\n      settings.hostSafeList = null;\n    }\n    var listName = block ? 'hostBlockList' : 'hostSafeList';\n    logger.error(\n      \"Error while reading your configuration's \" +\n        listName +\n        ' option. Removing custom ' +\n        listName +\n        '.',\n      e,\n    );\n    return !block;\n  }\n  return false;\n}\n\nfunction messageIsIgnored(logger) {\n  return function (item, settings) {\n    var i, j, ignoredMessages, len, messageIsIgnored, rIgnoredMessage, messages;\n\n    try {\n      messageIsIgnored = false;\n      ignoredMessages = settings.ignoredMessages;\n\n      if (!ignoredMessages || ignoredMessages.length === 0) {\n        return true;\n      }\n\n      messages = messagesFromItem(item);\n\n      if (messages.length === 0) {\n        return true;\n      }\n\n      len = ignoredMessages.length;\n      for (i = 0; i < len; i++) {\n        rIgnoredMessage = new RegExp(ignoredMessages[i], 'gi');\n\n        for (j = 0; j < messages.length; j++) {\n          messageIsIgnored = rIgnoredMessage.test(messages[j]);\n\n          if (messageIsIgnored) {\n            return false;\n          }\n        }\n      }\n    } catch (\n      e\n      /* istanbul ignore next */\n    ) {\n      settings.ignoredMessages = null;\n      logger.error(\n        \"Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.\",\n      );\n    }\n\n    return true;\n  };\n}\n\nfunction messagesFromItem(item) {\n  var body = item.body;\n  var messages = [];\n\n  // The payload schema only allows one of trace_chain, message, or trace.\n  // However, existing test cases are based on having both trace and message present.\n  // So here we preserve the ability to collect strings from any combination of these keys.\n  if (body.trace_chain) {\n    var traceChain = body.trace_chain;\n    for (var i = 0; i < traceChain.length; i++) {\n      var trace = traceChain[i];\n      messages.push(_.get(trace, 'exception.message'));\n    }\n  }\n  if (body.trace) {\n    messages.push(_.get(body, 'trace.exception.message'));\n  }\n  if (body.message) {\n    messages.push(_.get(body, 'message.body'));\n  }\n  return messages;\n}\n\nexport {\n  checkLevel,\n  userCheckIgnore,\n  urlIsNotBlockListed,\n  urlIsSafeListed,\n  messageIsIgnored,\n};\n","/**\n * Default session replay recording options\n * See https://github.com/rrweb-io/rrweb/blob/master/guide.md#options for details\n */\nexport default {\n  enabled: false, // Whether recording is enabled\n  autoStart: true, // Start recording automatically when Rollbar initializes\n\n  // defaults used by triggers that don't specify them\n  triggerDefaults: {\n    samplingRatio: 1.0,\n    preDuration: 300,\n    postDuration: 5,\n  },\n  triggers: [\n    {\n      type: 'occurrence',\n      level: ['error', 'critical'],\n    },\n  ],\n\n  debug: {\n    logErrors: true, // Whether to log errors emitted by rrweb.\n    logEmits: false, // Whether to log emitted events\n  },\n\n  // Recording options\n  inlineStylesheet: true, // Whether to inline stylesheets to improve replay accuracy\n  inlineImages: false, // Whether to record the image content\n  collectFonts: true, // Whether to collect fonts in the website\n\n  // Privacy options\n  // Fine-grained control over which input types to mask\n  // By default only password inputs are masked if maskInputs is true\n  maskInputOptions: {\n    password: true,\n    email: false,\n    tel: false,\n    text: false,\n    color: false,\n    date: false,\n    'datetime-local': false,\n    month: false,\n    number: false,\n    range: false,\n    search: false,\n    time: false,\n    url: false,\n    week: false,\n  },\n\n  // Override default class names.\n  blockClass: 'rb-block',\n  maskTextClass: 'rb-mask',\n  ignoreClass: 'rb-ignore',\n\n  // Remove unnecessary parts of the DOM\n  // By default all removable elements are removed\n  slimDOMOptions: {\n    script: true, // Remove script elements\n    comment: true, // Remove comments\n    headFavicon: true, // Remove favicons in the head\n    headWhitespace: true, // Remove whitespace in head\n    headMetaDescKeywords: true, // Remove meta description and keywords\n    headMetaSocial: true, // Remove social media meta tags\n    headMetaRobots: true, // Remove robots meta directives\n    headMetaHttpEquiv: true, // Remove http-equiv meta directives\n    headMetaAuthorship: true, // Remove authorship meta directives\n    headMetaVerification: true, // Remove verification meta directives\n  },\n\n  // Custom callbacks for advanced use cases\n  // These are undefined by default and can be set programmatically\n  // maskInputFn: undefined,      // Custom function to mask input values\n  // maskTextFn: undefined,       // Custom function to mask text content\n  // errorHandler: undefined,     // Custom error handler for recording errors\n\n  // Plugin system\n  // plugins: []                  // List of plugins to use (must be set programmatically)\n};\n","/**\n * Default tracing options\n */\nexport default {\n  enabled: false,\n  endpoint: 'api.rollbar.com/api/1/session/',\n};\n","/**\n * Default options shared across platforms\n */\nexport const version = '3.0.0-beta.4';\nexport const endpoint = 'api.rollbar.com/api/1/item/';\nexport const logLevel = 'debug';\nexport const reportLevel = 'debug';\nexport const uncaughtErrorLevel = 'error';\nexport const maxItems = 0;\nexport const itemsPerMin = 60;\n\nexport const commonScrubFields = [\n  'pw',\n  'pass',\n  'passwd',\n  'password',\n  'secret',\n  'confirm_password',\n  'confirmPassword',\n  'password_confirmation',\n  'passwordConfirmation',\n  'access_token',\n  'accessToken',\n  'X-Rollbar-Access-Token',\n  'secret_key',\n  'secretKey',\n  'secretToken',\n];\n\nexport const apiScrubFields = [\n  'api_key',\n  'authenticity_token',\n  'oauth_token',\n  'token',\n  'user_session_secret',\n];\n\nexport const requestScrubFields = [\n  'request.session.csrf',\n  'request.session._csrf',\n  'request.params._csrf',\n  'request.cookie',\n  'request.cookies',\n];\n\nexport const commonScrubHeaders = [\n  'authorization',\n  'www-authorization',\n  'http_authorization',\n  'omniauth.auth',\n  'cookie',\n  'oauth-access-token',\n  'x-access-token',\n  'x_csrf_token',\n  'http_x_csrf_token',\n  'x-csrf-token',\n];\n\n// For backward compatibility with default export\nexport default {\n  version,\n  endpoint,\n  logLevel,\n  reportLevel,\n  uncaughtErrorLevel,\n  maxItems,\n  itemsPerMin,\n};\n","/**\n * Default browser options\n */\nimport { commonScrubFields } from '../defaults.js';\n\nexport const scrubFields = [\n  ...commonScrubFields,\n  'cc-number',\n  'card number',\n  'cardnumber',\n  'cardnum',\n  'ccnum',\n  'ccnumber',\n  'cc num',\n  'creditcardnumber',\n  'credit card number',\n  'newcreditcardnumber',\n  'new credit card',\n  'creditcardno',\n  'credit card no',\n  'card#',\n  'card #',\n  'cc-csc',\n  'cvc',\n  'cvc2',\n  'cvv2',\n  'ccv2',\n  'security code',\n  'card verification',\n  'name on credit card',\n  'name on card',\n  'nameoncard',\n  'cardholder',\n  'card holder',\n  'name des karteninhabers',\n  'ccname',\n  'card type',\n  'cardtype',\n  'cc type',\n  'cctype',\n  'payment type',\n  'expiration date',\n  'expirationdate',\n  'expdate',\n  'cc-exp',\n  'ccmonth',\n  'ccyear',\n];\n\n// For compatibility with existing code that expects default export with scrubFields property\nexport default { scrubFields };\n","import Client from '../rollbar.js';\nimport * as _ from '../utility.js';\nimport API from '../api.js';\nimport logger from '../logger.js';\nimport * as globals from './globalSetup.js';\n\nimport Transport from './transport.js';\nimport * as urllib from './url.js';\n\nimport * as transforms from './transforms.js';\nimport * as sharedTransforms from '../transforms.js';\nimport * as predicates from './predicates.js';\nimport * as sharedPredicates from '../predicates.js';\nimport errorParser from '../errorParser.js';\nimport replayDefaults from './replay/defaults.js';\nimport tracingDefaults from '../tracing/defaults.js';\n\n// Used to support global `Rollbar` instance.\nlet _instance = null;\n\nclass Rollbar {\n  constructor(options, client) {\n    logger.init({ logLevel: options.logLevel || 'error' });\n    this.options = _.handleOptions(defaultOptions, options, null, logger);\n    this.options._configuredOptions = options;\n    this.components = this.components || {};\n    const Telemeter = this.components.telemeter;\n    const Instrumenter = this.components.instrumenter;\n    this.wrapGlobals = this.components.wrapGlobals;\n    this.scrub = this.components.scrub;\n    const truncation = this.components.truncation;\n    const Tracing = this.components.tracing;\n    const Replay = this.components.replay;\n\n    const transport = new Transport(truncation);\n    const api = new API(this.options, transport, urllib, truncation);\n    if (Tracing) {\n      this.tracing = new Tracing(_gWindow(), api, this.options);\n      this.tracing.initSession();\n    }\n    if (Telemeter) {\n      this.telemeter = new Telemeter(this.options, this.tracing);\n    }\n\n    if (Replay && _.isBrowser()) {\n      const replayOptions = this.options.replay;\n      this.replay = new Replay({\n        tracing: this.tracing,\n        telemeter: this.telemeter,\n        options: replayOptions,\n      });\n\n      if (replayOptions.enabled && replayOptions.autoStart) {\n        this.replay.recorder.start();\n      }\n    }\n\n    this.client =\n      client ||\n      new Client(\n        this.options,\n        api,\n        logger,\n        this.telemeter,\n        this.tracing,\n        this.replay,\n        'browser',\n      );\n    var gWindow = _gWindow();\n    var gDocument = typeof document != 'undefined' && document;\n    this.isChrome = gWindow.chrome && gWindow.chrome.runtime; // check .runtime to avoid Edge browsers\n    this.anonymousErrorsPending = 0;\n    addTransformsToNotifier(this.client.notifier, this, gWindow);\n    addPredicatesToQueue(this.client.queue);\n    this.setupUnhandledCapture();\n    if (Instrumenter) {\n      this.instrumenter = new Instrumenter(\n        this.options,\n        this.client.telemeter,\n        this,\n        gWindow,\n        gDocument,\n      );\n      this.instrumenter.instrument();\n    }\n\n    this.setSessionAttributesFromOptions(options);\n\n    // Used with rollbar-react for rollbar-react-native compatibility.\n    this.rollbar = this;\n  }\n\n  static init(options, client) {\n    if (_instance) {\n      return _instance.global(options).configure(options);\n    }\n    _instance = new Rollbar(options, client);\n    return _instance;\n  }\n\n  static setComponents(components) {\n    Rollbar.prototype.components = components;\n  }\n\n  global(options) {\n    this.client.global(options);\n    return this;\n  }\n\n  configure(options, payloadData) {\n    if (options.logLevel) {\n      logger.init({ logLevel: options.logLevel });\n    }\n    this.setSessionAttributesFromOptions(options);\n    var oldOptions = this.options;\n    var payload = {};\n    if (payloadData) {\n      payload = { payload: payloadData };\n    }\n\n    this.options = _.handleOptions(oldOptions, options, payload, logger);\n    this.options._configuredOptions = _.handleOptions(\n      oldOptions._configuredOptions,\n      options,\n      payload,\n    );\n\n    this.tracing?.configure(this.options);\n    this.replay?.configure(this.options);\n    this.client.configure(this.options, payloadData);\n    this.instrumenter?.configure(this.options);\n    this.setupUnhandledCapture();\n    return this;\n  }\n\n  lastError() {\n    return this.client.lastError;\n  }\n\n  log() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.log(item);\n    return { uuid: uuid };\n  }\n\n  debug() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.debug(item);\n    return { uuid: uuid };\n  }\n\n  info() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.info(item);\n    return { uuid: uuid };\n  }\n\n  warn() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.warn(item);\n    return { uuid: uuid };\n  }\n\n  warning() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.warning(item);\n    return { uuid: uuid };\n  }\n\n  error() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.error(item);\n    return { uuid: uuid };\n  }\n\n  critical() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.critical(item);\n    return { uuid: uuid };\n  }\n\n  buildJsonPayload(item) {\n    return this.client.buildJsonPayload(item);\n  }\n\n  sendJsonPayload(jsonPayload) {\n    return this.client.sendJsonPayload(jsonPayload);\n  }\n\n  triggerDirectReplay(context) {\n    return this.triggerReplay({ type: 'direct', ...context });\n  }\n\n  triggerReplay(context) {\n    if (!this.replay) return null;\n\n    return this.replay.triggerReplay(context);\n  }\n\n  setupUnhandledCapture() {\n    var gWindow = _gWindow();\n\n    if (!this.unhandledExceptionsInitialized) {\n      if (\n        this.options.captureUncaught ||\n        this.options.handleUncaughtExceptions\n      ) {\n        globals.captureUncaughtExceptions(gWindow, this);\n        if (this.wrapGlobals && this.options.wrapGlobalEventHandlers) {\n          this.wrapGlobals(gWindow, this);\n        }\n        this.unhandledExceptionsInitialized = true;\n      }\n    }\n    if (!this.unhandledRejectionsInitialized) {\n      if (\n        this.options.captureUnhandledRejections ||\n        this.options.handleUnhandledRejections\n      ) {\n        globals.captureUnhandledRejections(gWindow, this);\n        this.unhandledRejectionsInitialized = true;\n      }\n    }\n  }\n\n  handleUncaughtException(message, url, lineno, colno, error, context) {\n    if (\n      !this.options.captureUncaught &&\n      !this.options.handleUncaughtExceptions\n    ) {\n      return;\n    }\n\n    // Chrome will always send 5+ arguments and error will be valid or null, not undefined.\n    // If error is undefined, we have a different caller.\n    // Chrome also sends errors from web workers with null error, but does not invoke\n    // prepareStackTrace() for these. Test for empty url to skip them.\n    if (\n      this.options.inspectAnonymousErrors &&\n      this.isChrome &&\n      error === null &&\n      url === ''\n    ) {\n      return 'anonymous';\n    }\n\n    var item;\n    var stackInfo = _.makeUnhandledStackInfo(\n      message,\n      url,\n      lineno,\n      colno,\n      error,\n      'onerror',\n      'uncaught exception',\n      errorParser,\n    );\n    if (_.isError(error)) {\n      item = this._createItem([message, error, context]);\n      item._unhandledStackInfo = stackInfo;\n    } else if (_.isError(url)) {\n      item = this._createItem([message, url, context]);\n      item._unhandledStackInfo = stackInfo;\n    } else {\n      item = this._createItem([message, context]);\n      item.stackInfo = stackInfo;\n    }\n    item.level = this.options.uncaughtErrorLevel;\n    item._isUncaught = true;\n    this.client.log(item);\n  }\n\n  /**\n   * Chrome only. Other browsers will ignore.\n   *\n   * Use Error.prepareStackTrace to extract information about errors that\n   * do not have a valid error object in onerror().\n   *\n   * In tested version of Chrome, onerror is called first but has no way\n   * to communicate with prepareStackTrace. Use a counter to let this\n   * handler know which errors to send to Rollbar.\n   *\n   * In config options, set inspectAnonymousErrors to enable.\n   */\n  handleAnonymousErrors() {\n    if (!this.options.inspectAnonymousErrors || !this.isChrome) {\n      return;\n    }\n\n    var r = this;\n    function prepareStackTrace(error, _stack) {\n      if (r.options.inspectAnonymousErrors) {\n        if (r.anonymousErrorsPending) {\n          // This is the only known way to detect that onerror saw an anonymous error.\n          // It depends on onerror reliably being called before Error.prepareStackTrace,\n          // which so far holds true on tested versions of Chrome. If versions of Chrome\n          // are tested that behave differently, this logic will need to be updated\n          // accordingly.\n          r.anonymousErrorsPending -= 1;\n\n          if (!error) {\n            // Not likely to get here, but calling handleUncaughtException from here\n            // without an error object would throw off the anonymousErrorsPending counter,\n            // so return now.\n            return;\n          }\n\n          // Allow this to be tracked later.\n          error._isAnonymous = true;\n\n          // url, lineno, colno shouldn't be needed for these errors.\n          // If that changes, update this accordingly, using the unused\n          // _stack param as needed (rather than parse error.toString()).\n          r.handleUncaughtException(error.message, null, null, null, error);\n        }\n      }\n\n      // Workaround to ensure stack is preserved for normal errors.\n      return error.stack;\n    }\n\n    // https://v8.dev/docs/stack-trace-api\n    try {\n      Error.prepareStackTrace = prepareStackTrace;\n    } catch (e) {\n      this.options.inspectAnonymousErrors = false;\n      this.error('anonymous error handler failed', e);\n    }\n  }\n\n  handleUnhandledRejection(reason, promise) {\n    if (\n      !this.options.captureUnhandledRejections &&\n      !this.options.handleUnhandledRejections\n    ) {\n      return;\n    }\n\n    var message = 'unhandled rejection was null or undefined!';\n    if (reason) {\n      if (reason.message) {\n        message = reason.message;\n      } else {\n        var reasonResult = _.stringify(reason);\n        if (reasonResult.value) {\n          message = reasonResult.value;\n        }\n      }\n    }\n    var context =\n      (reason && reason._rollbarContext) ||\n      (promise && promise._rollbarContext);\n\n    var item;\n    if (_.isError(reason)) {\n      item = this._createItem([message, reason, context]);\n    } else {\n      item = this._createItem([message, reason, context]);\n      item.stackInfo = _.makeUnhandledStackInfo(\n        message,\n        '',\n        0,\n        0,\n        null,\n        'unhandledrejection',\n        '',\n        errorParser,\n      );\n    }\n    item.level = this.options.uncaughtErrorLevel;\n    item._isUncaught = true;\n    item._originalArgs = item._originalArgs || [];\n    item._originalArgs.push(promise);\n    this.client.log(item);\n  }\n\n  wrap(f, context, _before) {\n    try {\n      var ctxFn;\n      if (_.isFunction(context)) {\n        ctxFn = context;\n      } else {\n        ctxFn = function () {\n          return context || {};\n        };\n      }\n\n      if (!_.isFunction(f)) {\n        return f;\n      }\n\n      if (f._isWrap) {\n        return f;\n      }\n\n      if (!f._rollbar_wrapped) {\n        f._rollbar_wrapped = function () {\n          if (_before && _.isFunction(_before)) {\n            _before.apply(this, arguments);\n          }\n          try {\n            return f.apply(this, arguments);\n          } catch (exc) {\n            var e = exc;\n            if (e && window._rollbarWrappedError !== e) {\n              if (_.isType(e, 'string')) {\n                e = new String(e);\n              }\n              e._rollbarContext = ctxFn() || {};\n              e._rollbarContext._wrappedSource = f.toString();\n\n              window._rollbarWrappedError = e;\n            }\n            throw e;\n          }\n        };\n\n        f._rollbar_wrapped._isWrap = true;\n\n        if (f.hasOwnProperty) {\n          for (var prop in f) {\n            if (f.hasOwnProperty(prop) && prop !== '_rollbar_wrapped') {\n              f._rollbar_wrapped[prop] = f[prop];\n            }\n          }\n        }\n      }\n\n      return f._rollbar_wrapped;\n    } catch (e) {\n      // Return the original function if the wrap fails.\n      return f;\n    }\n  }\n\n  captureEvent() {\n    var event = _.createTelemetryEvent(arguments);\n    return this.client.captureEvent(event.type, event.metadata, event.level);\n  }\n\n  setSessionUser(user) {\n    if (!this.tracing?.session) return;\n\n    this.tracing.session.setUser(user);\n  }\n\n  setSessionAttributes(attrs) {\n    if (!this.tracing?.session) return;\n\n    attrs = { ...attrs };\n\n    this.tracing.session.setAttributes(attrs);\n  }\n\n  setSessionAttributesFromOptions(options) {\n    const person = options.person || options.payload?.person;\n    if (person) {\n      this.setSessionUser(person);\n    }\n    const code_version =\n      options.client?.javascript?.code_version ||\n      options.codeVersion ||\n      options.code_version ||\n      options.payload?.client?.javascript?.code_version ||\n      options.payload?.code_version ||\n      options.payload?.codeVersion;\n    this.setSessionAttributes({\n      'rollbar.codeVersion': code_version,\n      'rollbar.notifier.name': 'rollbar-browser-js',\n      'rollbar.notifier.version': options.version,\n    });\n  }\n\n  // The following two methods are used internally and are not meant for public use\n  captureDomContentLoaded(e, ts) {\n    if (!ts) {\n      ts = new Date();\n    }\n    return this.client.captureDomContentLoaded(ts);\n  }\n\n  captureLoad(e, ts) {\n    if (!ts) {\n      ts = new Date();\n    }\n    return this.client.captureLoad(ts);\n  }\n\n  loadFull() {\n    logger.info(\n      'Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.',\n    );\n  }\n\n  _createItem(args) {\n    return _.createItem(args, logger, this);\n  }\n\n  // Static version of instance methods support the legacy pattern of a\n  // global `Rollbar` instance, where after calling `Rollbar.init()`,\n  // `Rollbar` can be used as if it were an instance.\n  // If support for this pattern is dropped, these static methods can be removed.\n  static callInstance(method, args) {\n    if (!_instance) {\n      const message = 'Rollbar is not initialized';\n      logger.error(message);\n      const maybeCallback = _getFirstFunction(args);\n      if (maybeCallback) {\n        maybeCallback(new Error(message));\n      }\n      return;\n    }\n    return _instance[method].apply(_instance, args);\n  }\n\n  static global = (...args) => Rollbar.callInstance('global', args);\n  static configure = (...args) => Rollbar.callInstance('configure', args);\n  static lastError = (...args) => Rollbar.callInstance('lastError', args);\n  static log = (...args) => Rollbar.callInstance('log', args);\n  static debug = (...args) => Rollbar.callInstance('debug', args);\n  static info = (...args) => Rollbar.callInstance('info', args);\n  static warn = (...args) => Rollbar.callInstance('warn', args);\n  static warning = (...args) => Rollbar.callInstance('warning', args);\n  static error = (...args) => Rollbar.callInstance('error', args);\n  static critical = (...args) => Rollbar.callInstance('critical', args);\n  static buildJsonPayload = (...args) =>\n    Rollbar.callInstance('buildJsonPayload', args);\n  static sendJsonPayload = (...args) =>\n    Rollbar.callInstance('sendJsonPayload', args);\n  static wrap = (...args) => Rollbar.callInstance('wrap', args);\n  static captureEvent = (...args) => Rollbar.callInstance('captureEvent', args);\n}\n\n/* Internal */\n\nfunction addTransformsToNotifier(notifier, rollbar, gWindow) {\n  notifier\n    .addTransform(transforms.handleDomException)\n    .addTransform(transforms.handleItemWithError)\n    .addTransform(transforms.ensureItemHasSomethingToSay)\n    .addTransform(transforms.addBaseInfo)\n    .addTransform(transforms.addRequestInfo(gWindow))\n    .addTransform(transforms.addClientInfo(gWindow))\n    .addTransform(transforms.addPluginInfo(gWindow))\n    .addTransform(transforms.addBody)\n    .addTransform(sharedTransforms.addMessageWithError)\n    .addTransform(sharedTransforms.addTelemetryData)\n    .addTransform(sharedTransforms.addConfigToPayload)\n    .addTransform(transforms.addScrubber(rollbar.scrub))\n    .addTransform(sharedTransforms.addPayloadOptions)\n    .addTransform(sharedTransforms.userTransform(logger))\n    .addTransform(sharedTransforms.addConfiguredOptions)\n    .addTransform(sharedTransforms.addDiagnosticKeys)\n    .addTransform(sharedTransforms.itemToPayload);\n}\n\nfunction addPredicatesToQueue(queue) {\n  queue\n    .addPredicate(sharedPredicates.checkLevel)\n    .addPredicate(predicates.checkIgnore)\n    .addPredicate(sharedPredicates.userCheckIgnore(logger))\n    .addPredicate(sharedPredicates.urlIsNotBlockListed(logger))\n    .addPredicate(sharedPredicates.urlIsSafeListed(logger))\n    .addPredicate(sharedPredicates.messageIsIgnored(logger));\n}\n\nfunction _getFirstFunction(args) {\n  for (var i = 0, len = args.length; i < len; ++i) {\n    if (_.isFunction(args[i])) {\n      return args[i];\n    }\n  }\n  return undefined;\n}\n\nfunction _gWindow() {\n  return (\n    (typeof window != 'undefined' && window) ||\n    (typeof self != 'undefined' && self)\n  );\n}\n\nimport {\n  version,\n  logLevel,\n  reportLevel,\n  uncaughtErrorLevel,\n  endpoint,\n} from '../defaults.js';\nimport browserDefaults from './defaults.js';\n\nconst defaultOptions = {\n  environment: 'unknown',\n  version: version,\n  scrubFields: browserDefaults.scrubFields,\n  logLevel: logLevel,\n  reportLevel: reportLevel,\n  uncaughtErrorLevel: uncaughtErrorLevel,\n  endpoint: endpoint,\n  verbose: false,\n  enabled: true,\n  transmit: true,\n  sendConfig: false,\n  includeItemsInTelemetry: true,\n  captureIp: true,\n  inspectAnonymousErrors: true,\n  ignoreDuplicateErrors: true,\n  wrapGlobalEventHandlers: false,\n  replay: replayDefaults,\n  tracing: tracingDefaults,\n};\n\nexport default Rollbar;\n","import * as _ from './utility.js';\n\nconst MAX_EVENTS = 100;\n\n// Temporary workaround while solving commonjs -> esm issues in Node 18 - 20.\nfunction fromMillis(millis) {\n  return [Math.trunc(millis / 1000), Math.round((millis % 1000) * 1e6)];\n}\n\nclass Telemeter {\n  constructor(options, tracing) {\n    this.queue = [];\n    this.options = _.merge(options);\n    var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n    this.maxQueueSize = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n    this.tracing = tracing;\n    this.telemetrySpan = this.tracing?.startSpan('rollbar-telemetry', {});\n  }\n\n  configure(options) {\n    var oldOptions = this.options;\n    this.options = _.merge(oldOptions, options);\n    var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n    var newMaxEvents = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n    var deleteCount = 0;\n    if (this.queue.length > newMaxEvents) {\n      deleteCount = this.queue.length - newMaxEvents;\n    }\n    this.maxQueueSize = newMaxEvents;\n    this.queue.splice(0, deleteCount);\n  }\n\n  copyEvents() {\n    var events = Array.prototype.slice.call(this.queue, 0);\n    if (_.isFunction(this.options.filterTelemetry)) {\n      try {\n        var i = events.length;\n        while (i--) {\n          if (this.options.filterTelemetry(events[i])) {\n            events.splice(i, 1);\n          }\n        }\n      } catch (e) {\n        this.options.filterTelemetry = null;\n      }\n    }\n\n    // Filter until supported in legacy telemetry\n    events = events.filter((e) => e.type !== 'connectivity');\n\n    // Remove internal keys from output\n    events = events.map(({ otelAttributes, ...event }) => event);\n\n    return events;\n  }\n\n  exportTelemetrySpan(attributes = {}) {\n    if (this.telemetrySpan) {\n      this.telemetrySpan.end(attributes);\n      this.telemetrySpan = this.tracing.startSpan('rollbar-telemetry', {});\n    }\n  }\n\n  capture(\n    type,\n    metadata,\n    level,\n    rollbarUUID,\n    timestamp = null,\n    otelAttributes = null,\n  ) {\n    var e = {\n      level: getLevel(type, level),\n      type: type,\n      timestamp_ms: timestamp || _.now(),\n      body: metadata,\n      source: 'client',\n    };\n    if (rollbarUUID) {\n      e.uuid = rollbarUUID;\n    }\n    if (otelAttributes) {\n      e.otelAttributes = otelAttributes;\n    }\n\n    try {\n      if (\n        _.isFunction(this.options.filterTelemetry) &&\n        this.options.filterTelemetry(e)\n      ) {\n        return false;\n      }\n    } catch (exc) {\n      this.options.filterTelemetry = null;\n    }\n\n    this.push(e);\n    return e;\n  }\n\n  captureEvent(type, metadata, level, rollbarUUID) {\n    return this.capture(type, metadata, level, rollbarUUID);\n  }\n\n  captureError(err, level, rollbarUUID, timestamp) {\n    const message = err.message || String(err);\n    var metadata = { message };\n    if (err.stack) {\n      metadata.stack = err.stack;\n    }\n    const otelAttributes = {\n      message,\n      level,\n      type: 'error',\n      uuid: rollbarUUID,\n    };\n\n    this.telemetrySpan?.addEvent(\n      'rollbar-occurrence-event',\n      otelAttributes,\n      fromMillis(timestamp),\n    );\n\n    return this.capture(\n      'error',\n      metadata,\n      level,\n      rollbarUUID,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureLog(message, level, rollbarUUID, timestamp) {\n    let otelAttributes = null;\n\n    // If the uuid is present, this is a message occurrence.\n    if (rollbarUUID) {\n      ((otelAttributes = {\n        message,\n        level,\n        type: 'message',\n        uuid: rollbarUUID,\n      }),\n        this.telemetrySpan?.addEvent(\n          'rollbar-occurrence-event',\n          otelAttributes,\n          fromMillis(timestamp),\n        ));\n    } else {\n      otelAttributes = { message, level };\n      this.telemetrySpan?.addEvent(\n        'rollbar-log-event',\n        otelAttributes,\n        fromMillis(timestamp),\n      );\n    }\n\n    return this.capture(\n      'log',\n      { message },\n      level,\n      rollbarUUID,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureNetwork(metadata, subtype, rollbarUUID, requestData) {\n    subtype = subtype || 'xhr';\n    metadata.subtype = metadata.subtype || subtype;\n    if (requestData) {\n      metadata.request = requestData;\n    }\n    const level = this.levelFromStatus(metadata.status_code);\n    const endTimeNano = (metadata.end_time_ms || 0) * 1e6;\n    const otelAttributes = {\n      type: metadata.subtype,\n      method: metadata.method,\n      url: metadata.url,\n      statusCode: metadata.status_code,\n      'request.headers': JSON.stringify(metadata.request_headers || {}),\n      'response.headers': JSON.stringify(metadata.response?.headers || {}),\n      'response.timeUnixNano': endTimeNano.toString(),\n    };\n\n    this.telemetrySpan?.addEvent(\n      'rollbar-network-event',\n      otelAttributes,\n      fromMillis(metadata.start_time_ms),\n    );\n\n    return this.capture(\n      'network',\n      metadata,\n      level,\n      rollbarUUID,\n      metadata.start_time_ms,\n      otelAttributes,\n    );\n  }\n\n  levelFromStatus(statusCode) {\n    if (statusCode >= 200 && statusCode < 400) {\n      return 'info';\n    }\n    if (statusCode === 0 || statusCode >= 400) {\n      return 'error';\n    }\n    return 'info';\n  }\n\n  captureDom(subtype, element, value, checked, rollbarUUID) {\n    var metadata = {\n      subtype: subtype,\n      element: element,\n    };\n    if (value !== undefined) {\n      metadata.value = value;\n    }\n    if (checked !== undefined) {\n      metadata.checked = checked;\n    }\n    return this.capture('dom', metadata, 'info', rollbarUUID);\n  }\n\n  captureInput({ type, isSynthetic, element, value, timestamp }) {\n    const name = 'rollbar-input-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      element,\n      value,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      element,\n      value,\n      endTimeUnixNano: fromMillis(timestamp),\n    };\n    const event = this._getRepeatedEvent(name, otelAttributes);\n    if (event) {\n      return this._updateRepeatedEvent(event, otelAttributes, timestamp);\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureClick({ type, isSynthetic, element, timestamp }) {\n    const name = 'rollbar-click-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      element,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      element,\n      endTimeUnixNano: fromMillis(timestamp),\n    };\n    const event = this._getRepeatedEvent(name, otelAttributes);\n    if (event) {\n      return this._updateRepeatedEvent(event, otelAttributes, timestamp);\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  _getRepeatedEvent(name, attributes) {\n    const lastEvent = this._lastEvent(this.queue);\n\n    if (\n      lastEvent &&\n      lastEvent.body.type === name &&\n      lastEvent.otelAttributes.target === attributes.target\n    ) {\n      return lastEvent;\n    }\n  }\n\n  _updateRepeatedEvent(event, attributes, timestamp) {\n    const duration = Math.max(timestamp - event.timestamp_ms, 1);\n    event.body.value = attributes.value;\n    event.otelAttributes.value = attributes.value;\n    event.otelAttributes.height = attributes.height;\n    event.otelAttributes.width = attributes.width;\n    event.otelAttributes.textZoomRatio = attributes.textZoomRatio;\n    event.otelAttributes['endTimeUnixNano'] = fromMillis(timestamp);\n    event.otelAttributes['durationUnixNano'] = fromMillis(duration);\n    event.otelAttributes.count = (event.otelAttributes.count || 1) + 1;\n    event.otelAttributes.rate = event.otelAttributes.count / (duration / 1000);\n  }\n\n  _lastEvent(list) {\n    return list.length > 0 ? list[list.length - 1] : null;\n  }\n\n  captureFocus({ type, isSynthetic, element, timestamp }) {\n    const name = 'rollbar-focus-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      element,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      element,\n    };\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureResize({\n    type,\n    isSynthetic,\n    width,\n    height,\n    textZoomRatio,\n    timestamp,\n  }) {\n    const name = 'rollbar-resize-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      width,\n      height,\n      textZoomRatio,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      width,\n      height,\n      textZoomRatio,\n    };\n\n    const event = this._getRepeatedEvent(name, otelAttributes);\n    if (event) {\n      return this._updateRepeatedEvent(event, otelAttributes, timestamp);\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureDragDrop({\n    type,\n    isSynthetic,\n    element,\n    dropEffect,\n    effectAllowed,\n    kinds,\n    mediaTypes,\n    timestamp,\n  }) {\n    const name = 'rollbar-dragdrop-event';\n    let metadata = {\n      type: name,\n      subtype: type,\n      isSynthetic,\n    };\n\n    let otelAttributes = {\n      type,\n      isSynthetic,\n    };\n\n    if (type === 'dragstart') {\n      metadata = { ...metadata, element, dropEffect, effectAllowed };\n      otelAttributes = {\n        ...otelAttributes,\n        element,\n        dropEffect,\n        effectAllowed,\n      };\n    }\n\n    if (type === 'drop') {\n      metadata = {\n        ...metadata,\n        element,\n        dropEffect,\n        effectAllowed,\n        kinds,\n        mediaTypes,\n      };\n      otelAttributes = {\n        ...otelAttributes,\n        element,\n        dropEffect,\n        effectAllowed,\n        kinds,\n        mediaTypes,\n      };\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureNavigation(from, to, rollbarUUID, timestamp) {\n    this.telemetrySpan?.addEvent(\n      'rollbar-navigation-event',\n      { 'previous.url.full': from, 'url.full': to },\n      fromMillis(timestamp),\n    );\n\n    return this.capture(\n      'navigation',\n      { from, to },\n      'info',\n      rollbarUUID,\n      timestamp,\n    );\n  }\n\n  captureDomContentLoaded(ts) {\n    return this.capture(\n      'navigation',\n      { subtype: 'DOMContentLoaded' },\n      'info',\n      undefined,\n      ts && ts.getTime(),\n    );\n    /**\n     * If we decide to make this a dom event instead, then use the line below:\n    return this.capture('dom', {subtype: 'DOMContentLoaded'}, 'info', undefined, ts && ts.getTime());\n    */\n  }\n\n  captureLoad(ts) {\n    return this.capture(\n      'navigation',\n      { subtype: 'load' },\n      'info',\n      undefined,\n      ts && ts.getTime(),\n    );\n    /**\n     * If we decide to make this a dom event instead, then use the line below:\n    return this.capture('dom', {subtype: 'load'}, 'info', undefined, ts && ts.getTime());\n    */\n  }\n\n  captureConnectivityChange({ type, isSynthetic, timestamp }) {\n    const name = 'rollbar-connectivity-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n    };\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'connectivity',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  // Only intended to be used internally by the notifier\n  _captureRollbarItem(item) {\n    if (!this.options.includeItemsInTelemetry) {\n      return;\n    }\n    if (item.err) {\n      return this.captureError(item.err, item.level, item.uuid, item.timestamp);\n    }\n    if (item.message) {\n      return this.captureLog(\n        item.message,\n        item.level,\n        item.uuid,\n        item.timestamp,\n      );\n    }\n    if (item.custom) {\n      return this.capture(\n        'log',\n        item.custom,\n        item.level,\n        item.uuid,\n        item.timestamp,\n      );\n    }\n  }\n\n  push(e) {\n    this.queue.push(e);\n    if (this.queue.length > this.maxQueueSize) {\n      this.queue.shift();\n    }\n  }\n}\n\nfunction getLevel(type, level) {\n  if (level) {\n    return level;\n  }\n  var defaultLevel = {\n    error: 'error',\n    manual: 'info',\n  };\n  return defaultLevel[type] || 'info';\n}\n\nexport default Telemeter;\n","/*\n * headers - Detect when fetch Headers are undefined and use a partial polyfill.\n *\n * A full polyfill is not used in order to keep package size as small as possible.\n * Since this is only used internally and is not added to the window object,\n * the full interface doesn't need to be supported.\n *\n * This implementation is modified from whatwg-fetch:\n * https://github.com/github/fetch\n */\nfunction headers(headers) {\n  if (typeof Headers === 'undefined') {\n    return new FetchHeaders(headers);\n  }\n\n  return new Headers(headers);\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name);\n  }\n  return name.toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value);\n  }\n  return value;\n}\n\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function () {\n      var value = items.shift();\n      return { done: value === undefined, value: value };\n    },\n  };\n\n  return iterator;\n}\n\nfunction FetchHeaders(headers) {\n  this.map = {};\n\n  if (headers instanceof FetchHeaders) {\n    headers.forEach(function (value, name) {\n      this.append(name, value);\n    }, this);\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function (header) {\n      this.append(header[0], header[1]);\n    }, this);\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function (name) {\n      this.append(name, headers[name]);\n    }, this);\n  }\n}\n\nFetchHeaders.prototype.append = function (name, value) {\n  name = normalizeName(name);\n  value = normalizeValue(value);\n  var oldValue = this.map[name];\n  this.map[name] = oldValue ? oldValue + ', ' + value : value;\n};\n\nFetchHeaders.prototype.get = function (name) {\n  name = normalizeName(name);\n  return this.has(name) ? this.map[name] : null;\n};\n\nFetchHeaders.prototype.has = function (name) {\n  return this.map.hasOwnProperty(normalizeName(name));\n};\n\nFetchHeaders.prototype.forEach = function (callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this);\n    }\n  }\n};\n\nFetchHeaders.prototype.entries = function () {\n  var items = [];\n  this.forEach(function (value, name) {\n    items.push([name, value]);\n  });\n  return iteratorFor(items);\n};\n\nexport default headers;\n","function replace(obj, name, replacement, replacements, type) {\n  var orig = obj[name];\n  obj[name] = replacement(orig);\n  if (replacements) {\n    replacements[type].push([obj, name, orig]);\n  }\n}\n\nexport default replace;\n","import * as _ from '../utility.js';\n\nfunction traverse(obj, func, seen) {\n  var k, v, i;\n  var isObj = _.isType(obj, 'object');\n  var isArray = _.isType(obj, 'array');\n  var keys = [];\n  var seenIndex;\n\n  // Best might be to use Map here with `obj` as the keys, but we want to support IE < 11.\n  seen = seen || { obj: [], mapped: [] };\n\n  if (isObj) {\n    seenIndex = seen.obj.indexOf(obj);\n\n    if (isObj && seenIndex !== -1) {\n      // Prefer the mapped object if there is one.\n      return seen.mapped[seenIndex] || seen.obj[seenIndex];\n    }\n\n    seen.obj.push(obj);\n    seenIndex = seen.obj.length - 1;\n  }\n\n  if (isObj) {\n    for (k in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, k)) {\n        keys.push(k);\n      }\n    }\n  } else if (isArray) {\n    for (i = 0; i < obj.length; ++i) {\n      keys.push(i);\n    }\n  }\n\n  var result = isObj ? {} : [];\n  var same = true;\n  for (i = 0; i < keys.length; ++i) {\n    k = keys[i];\n    v = obj[k];\n    result[k] = func(k, v, seen);\n    same = same && result[k] === obj[k];\n  }\n\n  if (isObj && !same) {\n    seen.mapped[seenIndex] = result;\n  }\n\n  return !same ? result : obj;\n}\n\nexport default traverse;\n","import * as _ from './utility.js';\nimport traverse from './utility/traverse.js';\n\nfunction scrub(data, scrubFields, scrubPaths) {\n  scrubFields = scrubFields || [];\n\n  if (scrubPaths) {\n    for (var i = 0; i < scrubPaths.length; ++i) {\n      scrubPath(data, scrubPaths[i]);\n    }\n  }\n\n  var paramRes = _getScrubFieldRegexs(scrubFields);\n  var queryRes = _getScrubQueryParamRegexs(scrubFields);\n\n  function redactQueryParam(dummy0, paramPart) {\n    return paramPart + _.redact();\n  }\n\n  function paramScrubber(v) {\n    var i;\n    if (_.isType(v, 'string')) {\n      for (i = 0; i < queryRes.length; ++i) {\n        v = v.replace(queryRes[i], redactQueryParam);\n      }\n    }\n    return v;\n  }\n\n  function valScrubber(k, v) {\n    var i;\n    for (i = 0; i < paramRes.length; ++i) {\n      if (paramRes[i].test(k)) {\n        v = _.redact();\n        break;\n      }\n    }\n    return v;\n  }\n\n  function scrubber(k, v, seen) {\n    var tmpV = valScrubber(k, v);\n    if (tmpV === v) {\n      if (_.isType(v, 'object') || _.isType(v, 'array')) {\n        return traverse(v, scrubber, seen);\n      }\n      return paramScrubber(tmpV);\n    } else {\n      return tmpV;\n    }\n  }\n\n  return traverse(data, scrubber);\n}\n\nfunction scrubPath(obj, path) {\n  var keys = path.split('.');\n  var last = keys.length - 1;\n  try {\n    for (var i = 0; i <= last; ++i) {\n      if (i < last) {\n        obj = obj[keys[i]];\n      } else {\n        obj[keys[i]] = _.redact();\n      }\n    }\n  } catch (e) {\n    // Missing key is OK;\n  }\n}\n\nfunction _getScrubFieldRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '^\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?$';\n    ret.push(new RegExp(pat, 'i'));\n  }\n  return ret;\n}\n\nfunction _getScrubQueryParamRegexs(scrubFields) {\n  var ret = [];\n  var pat;\n  for (var i = 0; i < scrubFields.length; ++i) {\n    pat = '\\\\[?(%5[bB])?' + scrubFields[i] + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?';\n    ret.push(new RegExp('(' + pat + '=)([^&\\\\n]+)', 'igm'));\n  }\n  return ret;\n}\n\nexport default scrub;\n","function getElementType(e) {\n  return (e.getAttribute('type') || '').toLowerCase();\n}\n\nfunction isDescribedElement(element, type, subtypes) {\n  if (element.tagName.toLowerCase() !== type.toLowerCase()) {\n    return false;\n  }\n  if (!subtypes) {\n    return true;\n  }\n  element = getElementType(element);\n  for (var i = 0; i < subtypes.length; i++) {\n    if (subtypes[i] === element) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getElementFromEvent(evt, doc) {\n  if (evt.target) {\n    return evt.target;\n  }\n  if (doc && doc.elementFromPoint) {\n    return doc.elementFromPoint(evt.clientX, evt.clientY);\n  }\n  return undefined;\n}\n\nfunction treeToArray(elem) {\n  var MAX_HEIGHT = 5;\n  var out = [];\n  var nextDescription;\n  for (var height = 0; elem && height < MAX_HEIGHT; height++) {\n    nextDescription = describeElement(elem);\n    if (nextDescription.tagName === 'html') {\n      break;\n    }\n    out.unshift(nextDescription);\n    elem = elem.parentNode;\n  }\n  return out;\n}\n\nfunction elementArrayToString(a) {\n  var MAX_LENGTH = 80;\n  var separator = ' > ',\n    separatorLength = separator.length;\n  var out = [],\n    len = 0,\n    nextStr,\n    totalLength;\n\n  for (var i = a.length - 1; i >= 0; i--) {\n    nextStr = descriptionToString(a[i]);\n    totalLength = len + out.length * separatorLength + nextStr.length;\n    if (i < a.length - 1 && totalLength >= MAX_LENGTH + 3) {\n      out.unshift('...');\n      break;\n    }\n    out.unshift(nextStr);\n    len += nextStr.length;\n  }\n  return out.join(separator);\n}\n\nfunction elementString(elem) {\n  return elementArrayToString(treeToArray(elem));\n}\n\nfunction descriptionToString(desc) {\n  if (!desc || !desc.tagName) {\n    return '';\n  }\n  var out = [desc.tagName];\n  if (desc.id) {\n    out.push('#' + desc.id);\n  }\n  if (desc.classes) {\n    out.push('.' + desc.classes.join('.'));\n  }\n  for (var i = 0; i < desc.attributes.length; i++) {\n    out.push(\n      '[' + desc.attributes[i].key + '=\"' + desc.attributes[i].value + '\"]',\n    );\n  }\n\n  return out.join('');\n}\n\n/**\n * Input: a dom element\n * Output: null if tagName is falsey or input is falsey, else\n *  {\n *    tagName: String,\n *    id: String | undefined,\n *    classes: [String] | undefined,\n *    attributes: [\n *      {\n *        key: OneOf(type, name, title, alt),\n *        value: String\n *      }\n *    ]\n *  }\n */\nfunction describeElement(elem) {\n  if (!elem || !elem.tagName) {\n    return null;\n  }\n  var out = {},\n    className,\n    key,\n    attr,\n    i;\n  out.tagName = elem.tagName.toLowerCase();\n  if (elem.id) {\n    out.id = elem.id;\n  }\n  className = elem.className;\n  if (className && typeof className === 'string') {\n    out.classes = className.split(/\\s+/);\n  }\n  var attributes = ['type', 'name', 'title', 'alt'];\n  out.attributes = [];\n  for (i = 0; i < attributes.length; i++) {\n    key = attributes[i];\n    attr = elem.getAttribute(key);\n    if (attr) {\n      out.attributes.push({ key: key, value: attr });\n    }\n  }\n  return out;\n}\n\nexport {\n  describeElement,\n  descriptionToString,\n  elementArrayToString,\n  elementString,\n  treeToArray,\n  getElementFromEvent,\n  isDescribedElement,\n  getElementType,\n};\n","import * as _ from '../utility.js';\nimport headers from '../utility/headers.js';\nimport replace from '../utility/replace.js';\nimport scrub from '../scrub.js';\nimport * as urlparser from './url.js';\nimport * as domUtil from './domUtility.js';\n\nconst defaults = {\n  network: true,\n  networkResponseHeaders: false,\n  networkResponseBody: false,\n  networkRequestHeaders: false,\n  networkRequestBody: false,\n  networkErrorOnHttp5xx: false,\n  networkErrorOnHttp4xx: false,\n  networkErrorOnHttp0: false,\n  log: true,\n  dom: true,\n  navigation: true,\n  connectivity: true,\n  contentSecurityPolicy: true,\n  errorOnContentSecurityPolicy: false,\n};\n\nfunction restore(replacements, type) {\n  let b;\n  while (replacements[type].length) {\n    b = replacements[type].shift();\n    b[0][b[1]] = b[2];\n  }\n}\n\nfunction nameFromDescription(description) {\n  if (!description || !description.attributes) {\n    return null;\n  }\n  const attrs = description.attributes;\n  for (const a of attrs) {\n    if (a.key === 'name') {\n      return a.value;\n    }\n  }\n  return null;\n}\n\nfunction defaultValueScrubber(scrubFields) {\n  const patterns = [];\n  for (const field of scrubFields) {\n    patterns.push(new RegExp(field, 'i'));\n  }\n  return function (description) {\n    const name = nameFromDescription(description);\n    if (!name) {\n      return false;\n    }\n    for (const p of patterns) {\n      if (p.test(name)) {\n        return true;\n      }\n    }\n    return false;\n  };\n}\n\nclass Instrumenter {\n  constructor(options, telemeter, rollbar, _window, _document) {\n    this.options = options;\n    let autoInstrument = options.autoInstrument;\n    if (options.enabled === false || autoInstrument === false) {\n      this.autoInstrument = {};\n    } else {\n      if (!_.isType(autoInstrument, 'object')) {\n        autoInstrument = defaults;\n      }\n      this.autoInstrument = _.merge(defaults, autoInstrument);\n    }\n    this.scrubTelemetryInputs = !!options.scrubTelemetryInputs;\n    this.telemetryScrubber = options.telemetryScrubber;\n    this.defaultValueScrubber = defaultValueScrubber(options.scrubFields);\n    this.telemeter = telemeter;\n    this.rollbar = rollbar;\n    this.diagnostic = rollbar.client.notifier.diagnostic;\n    this._window = _window || {};\n    this._document = _document || {};\n    this.replacements = {\n      network: [],\n      log: [],\n      navigation: [],\n      connectivity: [],\n    };\n    this.eventRemovers = {\n      dom: [],\n      connectivity: [],\n      contentsecuritypolicy: [],\n    };\n\n    this._location = this._window.location;\n    this._lastHref = this._location && this._location.href;\n  }\n\n  configure(options) {\n    this.options = _.merge(this.options, options);\n    let autoInstrument = options.autoInstrument;\n    const oldSettings = _.merge(this.autoInstrument);\n    if (options.enabled === false || autoInstrument === false) {\n      this.autoInstrument = {};\n    } else {\n      if (!_.isType(autoInstrument, 'object')) {\n        autoInstrument = defaults;\n      }\n      this.autoInstrument = _.merge(defaults, autoInstrument);\n    }\n    this.instrument(oldSettings);\n    if (options.scrubTelemetryInputs !== undefined) {\n      this.scrubTelemetryInputs = !!options.scrubTelemetryInputs;\n    }\n    if (options.telemetryScrubber !== undefined) {\n      this.telemetryScrubber = options.telemetryScrubber;\n    }\n  }\n\n  // eslint-disable-next-line complexity\n  instrument(oldSettings) {\n    if (this.autoInstrument.network && !(oldSettings && oldSettings.network)) {\n      this.instrumentNetwork();\n    } else if (\n      !this.autoInstrument.network &&\n      oldSettings &&\n      oldSettings.network\n    ) {\n      this.deinstrumentNetwork();\n    }\n\n    if (this.autoInstrument.log && !(oldSettings && oldSettings.log)) {\n      this.instrumentConsole();\n    } else if (!this.autoInstrument.log && oldSettings && oldSettings.log) {\n      this.deinstrumentConsole();\n    }\n\n    if (this.autoInstrument.dom && !(oldSettings && oldSettings.dom)) {\n      this.instrumentDom();\n    } else if (!this.autoInstrument.dom && oldSettings && oldSettings.dom) {\n      this.deinstrumentDom();\n    }\n\n    if (\n      this.autoInstrument.navigation &&\n      !(oldSettings && oldSettings.navigation)\n    ) {\n      this.instrumentNavigation();\n    } else if (\n      !this.autoInstrument.navigation &&\n      oldSettings &&\n      oldSettings.navigation\n    ) {\n      this.deinstrumentNavigation();\n    }\n\n    if (\n      this.autoInstrument.connectivity &&\n      !(oldSettings && oldSettings.connectivity)\n    ) {\n      this.instrumentConnectivity();\n    } else if (\n      !this.autoInstrument.connectivity &&\n      oldSettings &&\n      oldSettings.connectivity\n    ) {\n      this.deinstrumentConnectivity();\n    }\n\n    if (\n      this.autoInstrument.contentSecurityPolicy &&\n      !(oldSettings && oldSettings.contentSecurityPolicy)\n    ) {\n      this.instrumentContentSecurityPolicy();\n    } else if (\n      !this.autoInstrument.contentSecurityPolicy &&\n      oldSettings &&\n      oldSettings.contentSecurityPolicy\n    ) {\n      this.deinstrumentContentSecurityPolicy();\n    }\n  }\n\n  deinstrumentNetwork() {\n    restore(this.replacements, 'network');\n  }\n\n  instrumentNetwork() {\n    const self = this;\n\n    function wrapProp(prop, xhr) {\n      if (prop in xhr && _.isFunction(xhr[prop])) {\n        replace(xhr, prop, function (orig) {\n          return self.rollbar.wrap(orig);\n        });\n      }\n    }\n\n    if ('XMLHttpRequest' in this._window) {\n      const xhrp = this._window.XMLHttpRequest.prototype;\n      replace(\n        xhrp,\n        'open',\n        function (orig) {\n          return function (method, url) {\n            const isUrlObject = _isUrlObject(url);\n            if (_.isType(url, 'string') || isUrlObject) {\n              url = isUrlObject ? url.toString() : url;\n              if (this.__rollbar_xhr) {\n                this.__rollbar_xhr.method = method;\n                this.__rollbar_xhr.url = url;\n                this.__rollbar_xhr.status_code = null;\n                this.__rollbar_xhr.start_time_ms = _.now();\n                this.__rollbar_xhr.end_time_ms = null;\n              } else {\n                this.__rollbar_xhr = {\n                  method: method,\n                  url: url,\n                  status_code: null,\n                  start_time_ms: _.now(),\n                  end_time_ms: null,\n                };\n              }\n            }\n            return orig.apply(this, arguments);\n          };\n        },\n        this.replacements,\n        'network',\n      );\n\n      replace(\n        xhrp,\n        'setRequestHeader',\n        function (orig) {\n          return function (header, value) {\n            // If xhr.open is async, __rollbar_xhr may not be initialized yet.\n            if (!this.__rollbar_xhr) {\n              this.__rollbar_xhr = {};\n            }\n            if (_.isType(header, 'string') && _.isType(value, 'string')) {\n              if (self.autoInstrument.networkRequestHeaders) {\n                if (!this.__rollbar_xhr.request_headers) {\n                  this.__rollbar_xhr.request_headers = {};\n                }\n                this.__rollbar_xhr.request_headers[header] = value;\n              }\n              // We want the content type even if request header telemetry is off.\n              if (header.toLowerCase() === 'content-type') {\n                this.__rollbar_xhr.request_content_type = value;\n              }\n            }\n            return orig.apply(this, arguments);\n          };\n        },\n        this.replacements,\n        'network',\n      );\n\n      replace(\n        xhrp,\n        'send',\n        function (orig) {\n          return function (data) {\n            const xhr = this;\n\n            function onreadystatechangeHandler() {\n              if (xhr.__rollbar_xhr) {\n                if (xhr.__rollbar_xhr.status_code === null) {\n                  xhr.__rollbar_xhr.status_code = 0;\n                  if (self.autoInstrument.networkRequestBody) {\n                    xhr.__rollbar_xhr.request = data;\n                  }\n                  xhr.__rollbar_event = self.captureNetwork(\n                    xhr.__rollbar_xhr,\n                    'xhr',\n                    undefined,\n                  );\n                }\n                if (xhr.readyState < 2) {\n                  xhr.__rollbar_xhr.start_time_ms = _.now();\n                }\n                if (xhr.readyState > 3) {\n                  const end_time_ms = _.now();\n                  xhr.__rollbar_xhr.end_time_ms = end_time_ms;\n\n                  let headers = null;\n                  xhr.__rollbar_xhr.response_content_type =\n                    xhr.getResponseHeader('Content-Type');\n                  if (self.autoInstrument.networkResponseHeaders) {\n                    const headersConfig =\n                      self.autoInstrument.networkResponseHeaders;\n                    headers = {};\n                    try {\n                      let header;\n                      if (headersConfig === true) {\n                        const allHeaders = xhr.getAllResponseHeaders();\n                        if (allHeaders) {\n                          const arr = allHeaders.trim().split(/[\\r\\n]+/);\n                          let parts, value;\n                          for (const h of arr) {\n                            parts = h.split(': ');\n                            header = parts.shift();\n                            value = parts.join(': ');\n                            headers[header] = value;\n                          }\n                        }\n                      } else {\n                        for (const h of headersConfig) {\n                          headers[h] = xhr.getResponseHeader(h);\n                        }\n                      }\n                    } catch (e) {\n                      /* we ignore the errors here that could come from different\n                       * browser issues with the xhr methods */\n                    }\n                  }\n                  let body = null;\n                  if (self.autoInstrument.networkResponseBody) {\n                    try {\n                      body = xhr.responseText;\n                    } catch (e) {\n                      /* ignore errors from reading responseText */\n                    }\n                  }\n                  let response = null;\n                  if (body || headers) {\n                    response = {};\n                    if (body) {\n                      if (\n                        self.isJsonContentType(\n                          xhr.__rollbar_xhr.response_content_type,\n                        )\n                      ) {\n                        response.body = self.scrubJson(body);\n                      } else {\n                        response.body = body;\n                      }\n                    }\n                    if (headers) {\n                      response.headers = headers;\n                    }\n                  }\n                  if (response) {\n                    xhr.__rollbar_xhr.response = response;\n                  }\n                  try {\n                    let code = xhr.status;\n                    code = code === 1223 ? 204 : code;\n                    xhr.__rollbar_xhr.status_code = code;\n                    self.addOtelNetworkResponse(\n                      xhr.__rollbar_event,\n                      end_time_ms,\n                      code,\n                    );\n                    xhr.__rollbar_event.level =\n                      self.telemeter.levelFromStatus(code);\n                    self.errorOnHttpStatus(xhr.__rollbar_xhr);\n                  } catch (e) {\n                    /* ignore possible exception from xhr.status */\n                  }\n                }\n              }\n            }\n\n            wrapProp('onload', xhr);\n            wrapProp('onerror', xhr);\n            wrapProp('onprogress', xhr);\n\n            if (\n              'onreadystatechange' in xhr &&\n              _.isFunction(xhr.onreadystatechange)\n            ) {\n              replace(xhr, 'onreadystatechange', function (orig) {\n                return self.rollbar.wrap(\n                  orig,\n                  undefined,\n                  onreadystatechangeHandler,\n                );\n              });\n            } else {\n              xhr.onreadystatechange = onreadystatechangeHandler;\n            }\n            if (xhr.__rollbar_xhr && self.trackHttpErrors()) {\n              xhr.__rollbar_xhr.stack = new Error().stack;\n            }\n            return orig.apply(this, arguments);\n          };\n        },\n        this.replacements,\n        'network',\n      );\n    }\n\n    if ('fetch' in this._window) {\n      replace(\n        this._window,\n        'fetch',\n        function (orig) {\n          return function (fn, t) {\n            const args = [...arguments];\n            const input = args[0];\n            let method = 'GET';\n            let url;\n            const isUrlObject = _isUrlObject(input);\n            if (_.isType(input, 'string') || isUrlObject) {\n              url = isUrlObject ? input.toString() : input;\n            } else if (input) {\n              url = input.url;\n              if (input.method) {\n                method = input.method;\n              }\n            }\n            if (args[1] && args[1].method) {\n              method = args[1].method;\n            }\n            const metadata = {\n              method: method,\n              url: url,\n              status_code: null,\n              start_time_ms: _.now(),\n              end_time_ms: null,\n            };\n            if (args[1] && args[1].headers) {\n              // Argument may be a Headers object, or plain object. Ensure here that\n              // we are working with a Headers object with case-insensitive keys.\n              const reqHeaders = headers(args[1].headers);\n\n              metadata.request_content_type = reqHeaders.get('Content-Type');\n\n              if (self.autoInstrument.networkRequestHeaders) {\n                metadata.request_headers = self.fetchHeaders(\n                  reqHeaders,\n                  self.autoInstrument.networkRequestHeaders,\n                );\n              }\n            }\n\n            if (self.autoInstrument.networkRequestBody) {\n              if (args[1] && args[1].body) {\n                metadata.request = args[1].body;\n              } else if (\n                args[0] &&\n                !_.isType(args[0], 'string') &&\n                args[0].body\n              ) {\n                metadata.request = args[0].body;\n              }\n            }\n            const telemetryEvent = self.captureNetwork(\n              metadata,\n              'fetch',\n              undefined,\n            );\n            if (self.trackHttpErrors()) {\n              metadata.stack = new Error().stack;\n            }\n\n            // Start our handler before returning the promise. This allows resp.clone()\n            // to execute before other handlers touch the response.\n            return orig.apply(this, args).then(function (resp) {\n              const end_time_ms = _.now();\n              metadata.end_time_ms = end_time_ms;\n              metadata.status_code = resp.status;\n              self.addOtelNetworkResponse(\n                telemetryEvent,\n                end_time_ms,\n                resp.status,\n              );\n\n              metadata.response_content_type = resp.headers.get('Content-Type');\n              let headers = null;\n              if (self.autoInstrument.networkResponseHeaders) {\n                headers = self.fetchHeaders(\n                  resp.headers,\n                  self.autoInstrument.networkResponseHeaders,\n                );\n              }\n              let body = null;\n              if (self.autoInstrument.networkResponseBody) {\n                if (typeof resp.text === 'function') {\n                  // Response.text() is not implemented on some platforms\n                  // The response must be cloned to prevent reading (and locking) the original stream.\n                  // This must be done before other handlers touch the response.\n                  body = resp.clone().text(); //returns a Promise\n                }\n              }\n              if (headers || body) {\n                metadata.response = {};\n                if (body) {\n                  // Test to ensure body is a Promise, which it should always be.\n                  if (typeof body.then === 'function') {\n                    body.then(function (text) {\n                      if (\n                        text &&\n                        self.isJsonContentType(metadata.response_content_type)\n                      ) {\n                        metadata.response.body = self.scrubJson(text);\n                      } else {\n                        metadata.response.body = text;\n                      }\n                    });\n                  } else {\n                    metadata.response.body = body;\n                  }\n                }\n                if (headers) {\n                  metadata.response.headers = headers;\n                }\n              }\n              self.errorOnHttpStatus(metadata);\n              return resp;\n            });\n          };\n        },\n        this.replacements,\n        'network',\n      );\n    }\n  }\n\n  captureNetwork(metadata, subtype, rollbarUUID) {\n    if (\n      metadata.request &&\n      this.isJsonContentType(metadata.request_content_type)\n    ) {\n      metadata.request = this.scrubJson(metadata.request);\n    }\n    return this.telemeter.captureNetwork(metadata, subtype, rollbarUUID);\n  }\n\n  isJsonContentType(contentType) {\n    return contentType &&\n      _.isType(contentType, 'string') &&\n      contentType.toLowerCase().includes('json')\n      ? true\n      : false;\n  }\n\n  addOtelNetworkResponse(event, endTimeMs, statusCode) {\n    if (event.otelAttributes) {\n      event.otelAttributes['response.timeUnixNano'] = (\n        endTimeMs * 1e6\n      ).toString();\n      event.otelAttributes.statusCode = statusCode;\n    }\n  }\n\n  scrubJson(json) {\n    return JSON.stringify(scrub(JSON.parse(json), this.options.scrubFields));\n  }\n\n  fetchHeaders(inHeaders, headersConfig) {\n    const outHeaders = {};\n    try {\n      if (headersConfig === true) {\n        if (typeof inHeaders.entries === 'function') {\n          // Headers.entries() is not implemented in IE\n          const allHeaders = inHeaders.entries();\n          let currentHeader = allHeaders.next();\n          while (!currentHeader.done) {\n            outHeaders[currentHeader.value[0]] = currentHeader.value[1];\n            currentHeader = allHeaders.next();\n          }\n        }\n      } else {\n        for (const h of headersConfig) {\n          outHeaders[h] = inHeaders.get(h);\n        }\n      }\n    } catch (e) {\n      /* ignore probable IE errors */\n    }\n    return outHeaders;\n  }\n\n  trackHttpErrors() {\n    return (\n      this.autoInstrument.networkErrorOnHttp5xx ||\n      this.autoInstrument.networkErrorOnHttp4xx ||\n      this.autoInstrument.networkErrorOnHttp0\n    );\n  }\n\n  errorOnHttpStatus(metadata) {\n    const status = metadata.status_code;\n\n    if (\n      (status >= 500 && this.autoInstrument.networkErrorOnHttp5xx) ||\n      (status >= 400 && this.autoInstrument.networkErrorOnHttp4xx) ||\n      (status === 0 && this.autoInstrument.networkErrorOnHttp0)\n    ) {\n      const error = new Error('HTTP request failed with Status ' + status);\n      error.stack = metadata.stack;\n      this.rollbar.error(error, { skipFrames: 1 });\n    }\n  }\n\n  deinstrumentConsole() {\n    let b;\n    while (this.replacements['log'].length) {\n      b = this.replacements['log'].shift();\n      this._window.console[b[0]] = b[1];\n    }\n  }\n\n  instrumentConsole() {\n    if (!this._window?.console?.log) {\n      return;\n    }\n\n    const self = this;\n    const c = this._window.console;\n\n    function wrapConsole(method) {\n      'use strict'; // See https://github.com/rollbar/rollbar.js/pull/778\n\n      const orig = c[method];\n      const origConsole = c;\n      const level = method === 'warn' ? 'warning' : method;\n      c[method] = function () {\n        const args = Array.prototype.slice.call(arguments);\n        const message = _.formatArgsAsString(args);\n        self.telemeter.captureLog(message, level, null, _.now());\n        if (orig) {\n          Function.prototype.apply.call(orig, origConsole, args);\n        }\n      };\n      self.replacements['log'].push([method, orig]);\n    }\n    const methods = ['debug', 'info', 'warn', 'error', 'log'];\n    try {\n      for (const m of methods) {\n        wrapConsole(m);\n      }\n    } catch (e) {\n      this.diagnostic.instrumentConsole = { error: e.message };\n    }\n  }\n\n  deinstrumentDom() {\n    this.removeListeners('dom');\n  }\n\n  instrumentDom() {\n    const self = this;\n    this.addListener(\n      'dom',\n      this._window,\n      ['click', 'dblclick', 'contextmenu'],\n      (e) => this.handleEvent('click', e),\n    );\n    this.addListener(\n      'dom',\n      this._window,\n      ['dragstart', 'dragend', 'dragenter', 'dragleave', 'drop'],\n      (e) => this.handleEvent('dragdrop', e),\n    );\n    this.addListener('dom', this._window, ['blur', 'focus'], (e) =>\n      this.handleEvent('focus', e),\n    );\n    this.addListener('dom', this._window, ['submit', 'invalid'], (e) =>\n      this.handleEvent('form', e),\n    );\n    this.addListener('dom', this._window, ['input', 'change'], (e) =>\n      this.handleEvent('input', e),\n    );\n    this.addListener('dom', this._window, ['resize'], (e) =>\n      this.handleEvent('resize', e),\n    );\n    this.addListener('dom', this._document, ['DOMContentLoaded'], (e) =>\n      this.handleEvent('contentLoaded', e),\n    );\n  }\n\n  handleEvent(name, evt) {\n    try {\n      return {\n        click: this.handleClick,\n        dragdrop: this.handleDrag,\n        focus: this.handleFocus,\n        form: this.handleForm,\n        input: this.handleInput,\n        resize: this.handleResize,\n        contentLoaded: this.handleContentLoaded,\n      }[name].call(this, evt);\n    } catch (exc) {\n      console.log(`${name} handler error`, evt, exc, exc.stack);\n    }\n  }\n\n  handleContentLoaded(evt) {\n    const replayId = this.rollbar.triggerReplay({\n      type: 'navigation',\n      path: new URL(this._location.href).pathname,\n    });\n  }\n\n  handleClick(evt) {\n    const tagName = evt.target?.tagName.toLowerCase();\n    if (['input', 'select', 'textarea'].includes(tagName)) return;\n\n    this.telemeter.captureClick({\n      type: evt.type,\n      isSynthetic: !evt.isTrusted,\n      element: domUtil.elementString(evt.target),\n      timestamp: _.now(),\n    });\n  }\n\n  handleFocus(evt) {\n    const type = evt.type;\n    const element = evt.target?.window\n      ? 'window'\n      : domUtil.elementString(evt.target);\n\n    this.telemeter.captureFocus({\n      type: type,\n      isSynthetic: !evt.isTrusted,\n      element,\n      timestamp: _.now(),\n    });\n  }\n\n  handleForm(evt) {\n    // TODO: implement form event handling\n    const type = evt.type;\n    const elementString = evt.target?.window\n      ? 'window'\n      : domUtil.elementString(evt.target);\n    console.log('handleForm', type, elementString, evt);\n  }\n\n  handleResize(evt) {\n    const textZoomRatio = window.screen.width / window.innerWidth;\n\n    this.telemeter.captureResize({\n      type: evt.type,\n      isSynthetic: !evt.isTrusted,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      textZoomRatio: textZoomRatio,\n      timestamp: _.now(),\n    });\n  }\n\n  handleDrag(evt) {\n    const type = evt.type;\n    let kinds, mediaTypes, dropEffect, effectAllowed;\n\n    if (type === 'drop') {\n      kinds = [];\n      mediaTypes = [];\n      const objs = [...evt.dataTransfer.files, ...evt.dataTransfer.items];\n      for (const o of objs) {\n        if (o.kind && o.type) {\n          kinds.push(o.kind);\n          mediaTypes.push(o.type);\n        }\n      }\n    }\n    if (['drop', 'dragstart'].includes(type)) {\n      dropEffect = evt.dataTransfer?.dropEffect;\n      effectAllowed = evt.dataTransfer?.effectAllowed;\n    }\n\n    this.telemeter.captureDragDrop({\n      type,\n      isSynthetic: !evt.isTrusted,\n      element: domUtil.elementString(evt.target),\n      dropEffect: dropEffect,\n      effectAllowed: effectAllowed,\n      kinds: JSON.stringify(kinds),\n      mediaTypes: JSON.stringify(mediaTypes),\n      timestamp: _.now(),\n    });\n  }\n\n  /*\n   * Uses the `input` event for everything except radio and checkbox inputs.\n   * For those, it uses the `change` event.\n   */\n  handleInput(evt) {\n    const type = evt.type;\n    const tagName = evt.target?.tagName.toLowerCase();\n    let value = evt.target?.value;\n    let inputType = evt.target?.attributes?.type?.value || evt.target?.type;\n\n    switch (type) {\n      case 'input':\n        if (['radio', 'checkbox'].includes(inputType)) return;\n        if (['select', 'textarea'].includes(tagName)) {\n          inputType = tagName;\n        }\n        if (inputType === 'password') {\n          value = null;\n        }\n        break;\n\n      case 'change':\n        if (!['radio', 'checkbox'].includes(inputType)) return;\n        if (inputType === 'checkbox') {\n          value = evt.target?.checked;\n        }\n        break;\n    }\n\n    this.telemeter.captureInput({\n      type: inputType,\n      isSynthetic: !evt.isTrusted,\n      element: domUtil.elementString(evt.target),\n      value,\n      timestamp: _.now(),\n    });\n  }\n\n  deinstrumentNavigation() {\n    const chrome = this._window.chrome;\n    const chromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n    // See https://github.com/angular/angular.js/pull/13945/files\n    const hasPushState =\n      !chromePackagedApp &&\n      this._window.history &&\n      this._window.history.pushState;\n    if (!hasPushState) {\n      return;\n    }\n    restore(this.replacements, 'navigation');\n  }\n\n  instrumentNavigation() {\n    const chrome = this._window.chrome;\n    const chromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n    // See https://github.com/angular/angular.js/pull/13945/files\n    const hasPushState =\n      !chromePackagedApp &&\n      this._window.history &&\n      this._window.history.pushState;\n    if (!hasPushState) {\n      return;\n    }\n    const self = this;\n    replace(\n      this._window,\n      'onpopstate',\n      function (orig) {\n        return function () {\n          const current = self._location.href;\n          self.handleUrlChange(self._lastHref, current);\n          if (orig) {\n            orig.apply(this, arguments);\n          }\n        };\n      },\n      this.replacements,\n      'navigation',\n    );\n\n    replace(\n      this._window.history,\n      'pushState',\n      function (orig) {\n        return function () {\n          const url = arguments.length > 2 ? arguments[2] : undefined;\n          if (url) {\n            self.handleUrlChange(self._lastHref, url + '');\n          }\n          return orig.apply(this, arguments);\n        };\n      },\n      this.replacements,\n      'navigation',\n    );\n  }\n\n  handleUrlChange(from, to) {\n    const parsedHref = urlparser.parse(this._location.href);\n    const parsedTo = urlparser.parse(to);\n    const parsedFrom = urlparser.parse(from);\n    this._lastHref = to;\n    if (\n      parsedHref.protocol === parsedTo.protocol &&\n      parsedHref.host === parsedTo.host\n    ) {\n      to = parsedTo.path + (parsedTo.hash || '');\n    }\n    if (\n      parsedHref.protocol === parsedFrom.protocol &&\n      parsedHref.host === parsedFrom.host\n    ) {\n      from = parsedFrom.path + (parsedFrom.hash || '');\n    }\n    this.telemeter.captureNavigation(from, to, null, _.now());\n    const replayId = this.rollbar.triggerReplay({\n      type: 'navigation',\n      path: to,\n    });\n  }\n\n  deinstrumentConnectivity = function () {\n    this.removeListeners('connectivity');\n  };\n\n  instrumentConnectivity() {\n    const self = this;\n    this.addListener(\n      'connectivity',\n      this._window,\n      ['online', 'offline'],\n      (evt) => self.handleConnectivity(evt),\n    );\n  }\n\n  handleConnectivity(evt) {\n    const type = evt.type;\n\n    this.telemeter.captureConnectivityChange({\n      type,\n      isSynthetic: !evt.isTrusted,\n      timestamp: _.now(),\n    });\n  }\n\n  handleCspEvent(cspEvent) {\n    let message =\n      'Security Policy Violation: ' +\n      'blockedURI: ' +\n      cspEvent.blockedURI +\n      ', ' +\n      'violatedDirective: ' +\n      cspEvent.violatedDirective +\n      ', ' +\n      'effectiveDirective: ' +\n      cspEvent.effectiveDirective +\n      ', ';\n\n    if (cspEvent.sourceFile) {\n      message +=\n        'location: ' +\n        cspEvent.sourceFile +\n        ', ' +\n        'line: ' +\n        cspEvent.lineNumber +\n        ', ' +\n        'col: ' +\n        cspEvent.columnNumber +\n        ', ';\n    }\n\n    message += 'originalPolicy: ' + cspEvent.originalPolicy;\n\n    this.telemeter.captureLog(message, 'error', null, _.now());\n    this.handleCspError(message);\n  }\n\n  handleCspError(message) {\n    if (this.autoInstrument.errorOnContentSecurityPolicy) {\n      this.rollbar.error(message);\n    }\n  }\n\n  deinstrumentContentSecurityPolicy() {\n    this.removeListeners('contentsecuritypolicy');\n  }\n\n  instrumentContentSecurityPolicy() {\n    if (!('addEventListener' in this._document)) {\n      return;\n    }\n\n    const cspHandler = this.handleCspEvent.bind(this);\n    this.addListener(\n      'contentsecuritypolicy',\n      this._document,\n      ['securitypolicyviolation'],\n      cspHandler,\n    );\n  }\n\n  addListener(section, obj, types, handler) {\n    if (obj.addEventListener) {\n      for (const t of types) {\n        const options = { capture: true, passive: true };\n        obj.addEventListener(t, handler, options, true);\n        this.eventRemovers[section].push(function () {\n          obj.removeEventListener(t, handler, options);\n        });\n      }\n    }\n  }\n\n  removeListeners(section) {\n    let r;\n    while (this.eventRemovers[section].length) {\n      r = this.eventRemovers[section].shift();\n      r();\n    }\n  }\n}\n\nfunction _isUrlObject(input) {\n  return typeof URL !== 'undefined' && input instanceof URL;\n}\n\nexport default Instrumenter;\n","function wrapGlobals(window, handler, shim) {\n  if (!window) {\n    return;\n  }\n  // Adapted from https://github.com/bugsnag/bugsnag-js\n  var globals =\n    'EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload'.split(\n      ',',\n    );\n  var i, global;\n  for (i = 0; i < globals.length; ++i) {\n    global = globals[i];\n\n    if (window[global] && window[global].prototype) {\n      _extendListenerPrototype(handler, window[global].prototype, shim);\n    }\n  }\n}\n\nfunction _extendListenerPrototype(handler, prototype, shim) {\n  if (\n    prototype.hasOwnProperty &&\n    prototype.hasOwnProperty('addEventListener')\n  ) {\n    var oldAddEventListener = prototype.addEventListener;\n    while (\n      oldAddEventListener._rollbarOldAdd &&\n      oldAddEventListener.belongsToShim\n    ) {\n      oldAddEventListener = oldAddEventListener._rollbarOldAdd;\n    }\n    var addFn = function (event, callback, bubble) {\n      oldAddEventListener.call(this, event, handler.wrap(callback), bubble);\n    };\n    addFn._rollbarOldAdd = oldAddEventListener;\n    addFn.belongsToShim = shim;\n    prototype.addEventListener = addFn;\n\n    var oldRemoveEventListener = prototype.removeEventListener;\n    while (\n      oldRemoveEventListener._rollbarOldRemove &&\n      oldRemoveEventListener.belongsToShim\n    ) {\n      oldRemoveEventListener = oldRemoveEventListener._rollbarOldRemove;\n    }\n    var removeFn = function (event, callback, bubble) {\n      oldRemoveEventListener.call(\n        this,\n        event,\n        (callback && callback._rollbar_wrapped) || callback,\n        bubble,\n      );\n    };\n    removeFn._rollbarOldRemove = oldRemoveEventListener;\n    removeFn.belongsToShim = shim;\n    prototype.removeEventListener = removeFn;\n  }\n}\n\nexport default wrapGlobals;\n","import * as _ from './utility.js';\nimport traverse from './utility/traverse.js';\n\nfunction raw(payload, jsonBackup) {\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction selectFrames(frames, range) {\n  var len = frames.length;\n  if (len > range * 2) {\n    return frames.slice(0, range).concat(frames.slice(len - range));\n  }\n  return frames;\n}\n\nfunction truncateFrames(payload, jsonBackup, range) {\n  range = typeof range === 'undefined' ? 30 : range;\n  var body = payload.data.body;\n  var frames;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      frames = chain[i].frames;\n      frames = selectFrames(frames, range);\n      chain[i].frames = frames;\n    }\n  } else if (body.trace) {\n    frames = body.trace.frames;\n    frames = selectFrames(frames, range);\n    body.trace.frames = frames;\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction maybeTruncateValue(len, val) {\n  if (!val) {\n    return val;\n  }\n  if (val.length > len) {\n    return val.slice(0, len - 3).concat('...');\n  }\n  return val;\n}\n\nfunction truncateStrings(len, payload, jsonBackup) {\n  function truncator(k, v, seen) {\n    switch (_.typeName(v)) {\n      case 'string':\n        return maybeTruncateValue(len, v);\n      case 'object':\n      case 'array':\n        return traverse(v, truncator, seen);\n      default:\n        return v;\n    }\n  }\n  payload = traverse(payload, truncator);\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction truncateTraceData(traceData) {\n  if (traceData.exception) {\n    delete traceData.exception.description;\n    traceData.exception.message = maybeTruncateValue(\n      255,\n      traceData.exception.message,\n    );\n  }\n  traceData.frames = selectFrames(traceData.frames, 1);\n  return traceData;\n}\n\nfunction minBody(payload, jsonBackup) {\n  var body = payload.data.body;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (var i = 0; i < chain.length; i++) {\n      chain[i] = truncateTraceData(chain[i]);\n    }\n  } else if (body.trace) {\n    body.trace = truncateTraceData(body.trace);\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction needsTruncation(payload, maxSize) {\n  return _.maxByteSize(payload) > maxSize;\n}\n\nfunction truncate(payload, jsonBackup, maxSize) {\n  maxSize = typeof maxSize === 'undefined' ? 512 * 1024 : maxSize;\n  var strategies = [\n    raw,\n    truncateFrames,\n    truncateStrings.bind(null, 1024),\n    truncateStrings.bind(null, 512),\n    truncateStrings.bind(null, 256),\n    minBody,\n  ];\n  var strategy, results, result;\n\n  while ((strategy = strategies.shift())) {\n    results = strategy(payload, jsonBackup);\n    payload = results[0];\n    result = results[1];\n    if (result.error || !needsTruncation(result.value, maxSize)) {\n      return result;\n    }\n  }\n  return result;\n}\n\nexport default {\n  truncate,\n\n  /* for testing */\n  raw,\n  truncateFrames,\n  truncateStrings,\n  maybeTruncateValue,\n};\n","export class Context {\n  constructor(parentContext) {\n    this._currentContext = parentContext ? new Map(parentContext) : new Map();\n  }\n\n  getValue(key) {\n    return this._currentContext.get(key);\n  }\n\n  setValue(key, value) {\n    const context = new Context(this._currentContext);\n    context._currentContext.set(key, value);\n    return context;\n  }\n\n  deleteValue(key) {\n    const context = new Context(self._currentContext);\n    context._currentContext.delete(key);\n    return context;\n  }\n}\n\nexport const ROOT_CONTEXT = new Context();\n","import { ROOT_CONTEXT } from './context.js';\n\nexport class ContextManager {\n  constructor() {\n    this.currentContext = ROOT_CONTEXT;\n  }\n\n  active() {\n    return this.currentContext;\n  }\n\n  enterContext(context) {\n    const previousContext = this.currentContext;\n    this.currentContext = context || ROOT_CONTEXT;\n    return previousContext;\n  }\n\n  exitContext(context) {\n    this.currentContext = context;\n    return this.currentContext;\n  }\n\n  with(context, fn, thisArg, ...args) {\n    const previousContext = this.enterContext(context);\n    try {\n      return fn.call(thisArg, ...args);\n    } finally {\n      this.exitContext(previousContext);\n    }\n  }\n}\n\nexport function createContextKey(key) {\n  // Use Symbol for OpenTelemetry compatibility.\n  return Symbol.for(key);\n}\n","/**\n * Generate a random hexadecimal ID of specified byte length\n *\n * @param {number} bytes - Number of bytes for the ID (default: 16)\n * @returns {string} - Hexadecimal string representation\n */\nfunction gen(bytes = 16) {\n  let randomBytes = new Uint8Array(bytes);\n  crypto.getRandomValues(randomBytes);\n  let randHex = Array.from(randomBytes, (byte) =>\n    byte.toString(16).padStart(2, '0'),\n  ).join('');\n  return randHex;\n}\n\n/**\n * Tracing id generation utils\n *\n * @example\n * import id from './id.js';\n *\n * const spanId = id.gen(8); // => \"a1b2c3d4e5f6...\"\n */\nexport default { gen };\n","import id from './id.js';\n\nconst SESSION_KEY = 'RollbarSession';\n\nexport class Session {\n  _attributes;\n\n  constructor(tracing, options) {\n    this.options = options;\n    this.tracing = tracing;\n    this.window = tracing.window;\n    this.session = null;\n    this._attributes = {};\n  }\n\n  init(attrs = {}) {\n    if (this.session) {\n      return this;\n    }\n    this.getSession() || this.createSession();\n\n    this.initSessionAttributes(attrs);\n\n    return this;\n  }\n\n  getSession() {\n    try {\n      const serializedSession = this.window.sessionStorage.getItem(SESSION_KEY);\n\n      if (!serializedSession) {\n        return null;\n      }\n\n      this.session = JSON.parse(serializedSession);\n    } catch {\n      return null;\n    }\n    return this;\n  }\n\n  createSession() {\n    this.session = {\n      id: id.gen(),\n      createdAt: Date.now(),\n    };\n\n    return this.setSession(this.session);\n  }\n\n  setSession(session) {\n    const sessionString = JSON.stringify(session);\n\n    try {\n      this.window.sessionStorage.setItem(SESSION_KEY, sessionString);\n    } catch {\n      return null;\n    }\n    return this;\n  }\n\n  get attributes() {\n    return this._attributes;\n  }\n\n  setAttributes(attributes) {\n    this._attributes = { ...this._attributes, ...attributes };\n    return this;\n  }\n\n  setUser(user) {\n    this.setAttributes({\n      'user.id': user?.id,\n      'user.email': user?.email,\n      'user.name': user?.name || user?.username,\n    });\n    return this;\n  }\n\n  initSessionAttributes(attrs) {\n    this.setAttributes({\n      'session.id': this.session.id,\n      'browser.brands': navigator.userAgentData?.brands,\n      'browser.language': navigator.language,\n      'browser.mobile': navigator.userAgentData?.mobile,\n      'browser.platform': navigator.userAgentData?.platform,\n      'client.address': '$remote_ip', // updated at the API\n      'rollbar.notifier.framework': 'browser-js',\n      'user_agent.original': navigator.userAgent,\n      ...attrs,\n    });\n    return this;\n  }\n}\n","/**\n * @module hrtime\n *\n * @description Methods for handling OpenTelemetry hrtime.\n */\n\n/**\n * Convert a duration in milliseconds to an OpenTelemetry hrtime tuple.\n *\n * @param {number} millis - The duration in milliseconds.\n * @returns {[number, number]} An array where the first element is seconds\n *   and the second is nanoseconds.\n */\nfunction fromMillis(millis) {\n  return [Math.trunc(millis / 1000), Math.round((millis % 1000) * 1e6)];\n}\n\n/**\n * Convert an OpenTelemetry hrtime tuple back to a duration in milliseconds.\n *\n * @param {[number, number]} hrtime - The hrtime tuple [seconds, nanoseconds].\n * @returns {number} The total duration in milliseconds.\n */\nfunction toMillis(hrtime) {\n  return hrtime[0] * 1e3 + Math.round(hrtime[1] / 1e6);\n}\n\n/**\n * Convert an OpenTelemetry hrtime tuple back to a duration in nanoseconds.\n *\n * @param {[number, number]} hrtime - The hrtime tuple [seconds, nanoseconds].\n * @returns {number} The total duration in nanoseconds.\n */\nfunction toNanos(hrtime) {\n  return hrtime[0] * 1e9 + hrtime[1];\n}\n\n/**\n * Adds two OpenTelemetry hrtime tuples.\n *\n * @param {[number, number]} a - The first hrtime tuple [s, ns].\n * @param {[number, number]} b - The second hrtime tuple [s, ns].\n * @returns {[number, number]} Summed hrtime tuple, normalized.\n *\n */\nfunction add(a, b) {\n  return [a[0] + b[0] + Math.trunc((a[1] + b[1]) / 1e9), (a[1] + b[1]) % 1e9];\n}\n\n/**\n * Get the current high-resolution time as an OpenTelemetry hrtime tuple.\n *\n * @param {boolean} usePerformance=false - If true, uses the Performance API (timeOrigin + now()).\n *\n * @returns {[number, number]} The current hrtime tuple [s, ns].\n */\nfunction now(usePerformance = false) {\n  if (usePerformance) {\n    return add(\n      fromMillis(performance.timeOrigin),\n      fromMillis(performance.now()),\n    );\n  }\n  return fromMillis(Date.now());\n}\n\n/**\n * Check if a value is a valid OpenTelemetry hrtime tuple.\n *\n * An hrtime tuple is an Array of exactly two numbers:\n *   [seconds, nanoseconds]\n *\n * @param {*} value  anything to test\n * @returns {boolean} true if `value` is a [number, number] array of length 2\n *\n * @example\n * isHrTime([ 1, 500 ]);         // true\n * isHrTime([ 0, 1e9 ]);         // true\n * isHrTime([ '1', 500 ]);       // false\n * isHrTime({ 0: 1, 1: 500 });   // false\n */\nfunction isHrTime(value) {\n  return (\n    Array.isArray(value) &&\n    value.length === 2 &&\n    typeof value[0] === 'number' &&\n    typeof value[1] === 'number'\n  );\n}\n\n/**\n * Methods for handling hrtime. OpenTelemetry uses the [seconds, nanoseconds]\n * format for hrtime in the `ReadableSpan` interface.\n *\n * @example\n * import hrtime from '@tracing/hrtime.js';\n *\n * hrtime.fromMillis(1000);\n * hrtime.toMillis([0, 1000]);\n * hrtime.add([0, 0], [0, 1000]);\n * hrtime.now();\n * hrtime.isHrTime([0, 1000]);\n */\nexport default { fromMillis, toMillis, toNanos, add, now, isHrTime };\n","import hrtime from './hrtime.js';\n\n/**\n * SpanExporter is responsible for exporting ReadableSpan objects\n * and transforming them into the OTLP-compatible format.\n */\nexport class SpanExporter {\n  constructor(api, options = {}) {\n    this.api = api;\n    this.options = options;\n  }\n\n  /**\n   * Export spans to the span export queue\n   *\n   * @param {Array} spans - Array of ReadableSpan objects to export\n   * @param {Function} _resultCallback - Optional callback (not used)\n   */\n  export(spans, _resultCallback) {\n    spanExportQueue.push(...spans);\n  }\n\n  /**\n   * Transforms an array of ReadableSpan objects into the OTLP format payload\n   * compatible with the Rollbar API. This follows the OpenTelemetry protocol\n   * specification for traces.\n   *\n   * @returns {Object} OTLP format payload for API transmission\n   */\n  toPayload() {\n    const spans = spanExportQueue.slice();\n    spanExportQueue.length = 0;\n\n    if (!spans || !spans.length) {\n      return { resourceSpans: [] };\n    }\n\n    const resource = (spans[0] && spans[0].resource) || {};\n\n    const scopeMap = new Map();\n\n    for (const span of spans) {\n      const scopeKey = span.instrumentationScope\n        ? `${span.instrumentationScope.name}:${span.instrumentationScope.version}`\n        : 'default:1.0.0';\n\n      if (!scopeMap.has(scopeKey)) {\n        scopeMap.set(scopeKey, {\n          scope: span.instrumentationScope || {\n            name: 'default',\n            version: '1.0.0',\n            attributes: [],\n          },\n          spans: [],\n        });\n      }\n\n      scopeMap.get(scopeKey).spans.push(this._transformSpan(span));\n    }\n\n    return {\n      resourceSpans: [\n        {\n          resource: this._transformResource(resource),\n          scopeSpans: Array.from(scopeMap.values()).map((scopeData) => ({\n            scope: this._transformInstrumentationScope(scopeData.scope),\n            spans: scopeData.spans,\n          })),\n        },\n      ],\n    };\n  }\n\n  /**\n   * Sends the given payload to the Rollbar API.\n   *\n   * @param {String} payload - Serialized OTLP format payload\n   * @param {Object} headers - Optional request headers\n   * @returns {Promise} Promise that resolves when the request completes\n   */\n  post(payload, headers = {}) {\n    return this.api.postSpans(payload, headers);\n  }\n\n  /**\n   * Transforms a ReadableSpan into the OTLP Span format\n   *\n   * @private\n   * @param {Object} span - ReadableSpan object to transform\n   * @returns {Object} OTLP Span format\n   */\n  _transformSpan(span) {\n    const transformAttributes = (attributes) => {\n      return Object.entries(attributes || {}).map(([key, value]) => ({\n        key,\n        value: this._transformAnyValue(value),\n      }));\n    };\n\n    const transformEvents = (events) => {\n      return (events || []).map((event) => ({\n        timeUnixNano: hrtime.toNanos(event.time),\n        name: event.name,\n        attributes: transformAttributes(event.attributes),\n      }));\n    };\n\n    return {\n      traceId: span.spanContext.traceId,\n      spanId: span.spanContext.spanId,\n      parentSpanId: span.parentSpanId || '',\n      name: span.name,\n      kind: span.kind || 1, // INTERNAL by default\n      startTimeUnixNano: hrtime.toNanos(span.startTime),\n      endTimeUnixNano: hrtime.toNanos(span.endTime),\n      attributes: transformAttributes(span.attributes),\n      events: transformEvents(span.events),\n    };\n  }\n\n  /**\n   * Transforms a resource object into OTLP Resource format\n   *\n   * @private\n   * @param {Object} resource - Resource information\n   * @returns {Object} OTLP Resource format\n   */\n  _transformResource(resource) {\n    const attributes = resource.attributes || {};\n    const keyValues = Object.entries(attributes).map(([key, value]) => ({\n      key,\n      value: this._transformAnyValue(value),\n    }));\n\n    return {\n      attributes: keyValues,\n    };\n  }\n\n  /**\n   * Transforms an instrumentation scope into OTLP InstrumentationScope format\n   *\n   * @private\n   * @param {Object} scope - Instrumentation scope information\n   * @returns {Object} OTLP InstrumentationScope format\n   */\n  _transformInstrumentationScope(scope) {\n    return {\n      name: scope.name || '',\n      version: scope.version || '',\n      attributes: (scope.attributes || []).map((attr) => ({\n        key: attr.key,\n        value: this._transformAnyValue(attr.value),\n      })),\n    };\n  }\n\n  /**\n   * Transforms a JavaScript value into an OTLP AnyValue\n   *\n   * @private\n   * @param {any} value - Value to transform\n   * @returns {Object} OTLP AnyValue format\n   */\n  _transformAnyValue(value) {\n    if (value === null || value === undefined) {\n      return { stringValue: '' };\n    }\n\n    const type = typeof value;\n\n    if (type === 'string') {\n      return { stringValue: value };\n    } else if (type === 'number') {\n      if (Number.isInteger(value)) {\n        return { intValue: value.toString() };\n      } else {\n        return { doubleValue: value };\n      }\n    } else if (type === 'boolean') {\n      return { boolValue: value };\n    } else if (Array.isArray(value)) {\n      return {\n        arrayValue: {\n          values: value.map((v) => this._transformAnyValue(v)),\n        },\n      };\n    } else if (type === 'object') {\n      return {\n        kvlistValue: {\n          values: Object.entries(value).map(([k, v]) => ({\n            key: k,\n            value: this._transformAnyValue(v),\n          })),\n        },\n      };\n    }\n\n    return { stringValue: String(value) };\n  }\n}\n\nexport const spanExportQueue = [];\n","import logger from '../logger.js';\n\nexport class SpanProcessor {\n  constructor(exporter, options = {}) {\n    this.exporter = exporter;\n    this.options = options;\n    this.pendingSpans = new Map();\n    this.transforms = [this.userTransform.bind(this)];\n  }\n\n  addTransform(transformFn) {\n    this.transforms.unshift(transformFn);\n  }\n\n  userTransform(span) {\n    if (this.options.transformSpan) {\n      this.options.transformSpan({ span: span });\n    }\n  }\n\n  applyTransforms(span) {\n    for (const transform of this.transforms) {\n      try {\n        transform(span);\n      } catch (e) {\n        logger.error('Error running span transform callback', e);\n      }\n    }\n  }\n\n  onStart(span, _parentContext) {\n    this.pendingSpans.set(span.span.spanContext.spanId, span);\n  }\n\n  onEnd(span) {\n    this.applyTransforms(span.span);\n    this.exporter.export([span.export()]);\n    this.pendingSpans.delete(span.span.spanContext.spanId);\n  }\n}\n","import hrtime from './hrtime.js';\n\nexport class Span {\n  constructor(options) {\n    this.usePerformance = options.usePerformance;\n    this.initReadableSpan(options);\n\n    this.spanProcessor = options.spanProcessor;\n    this.spanProcessor.onStart(this, options.context);\n\n    if (options.attributes) {\n      this.setAttributes(options.attributes);\n    }\n    return this;\n  }\n\n  initReadableSpan(options) {\n    this.span = {\n      name: options.name,\n      kind: options.kind,\n      spanContext: options.spanContext,\n      parentSpanId: options.parentSpanId,\n      startTime: options.startTime || hrtime.now(options.usePerformance),\n      endTime: [0, 0],\n      status: { code: 0, message: '' },\n      attributes: { 'session.id': options.session?.id },\n      links: [],\n      events: [],\n      duration: 0,\n      ended: false,\n      resource: options.resource,\n      instrumentationScope: options.scope,\n      droppedAttributesCount: 0,\n      droppedEventsCount: 0,\n      droppedLinksCount: 0,\n    };\n  }\n\n  spanContext() {\n    return this.span.spanContext;\n  }\n\n  get spanId() {\n    return this.span.spanContext.spanId;\n  }\n\n  get traceId() {\n    return this.span.spanContext.traceId;\n  }\n\n  setAttribute(key, value) {\n    if (value == null || this.span.ended) return this;\n    if (key.length === 0) return this;\n\n    this.span.attributes[key] = value;\n    return this;\n  }\n\n  setAttributes(attributes) {\n    for (const [k, v] of Object.entries(attributes)) {\n      this.setAttribute(k, v);\n    }\n    return this;\n  }\n\n  addEvent(name, attributes = {}, time) {\n    if (this.span.ended) return this;\n\n    this.span.events.push({\n      name,\n      attributes,\n      time: time || hrtime.now(),\n      droppedAttributesCount: 0,\n    });\n\n    return this;\n  }\n\n  isRecording() {\n    return this.span.ended === false;\n  }\n\n  end(attributes, time) {\n    if (attributes) this.setAttributes(attributes);\n    this.span.endTime = time || hrtime.now(this.usePerformance);\n    this.span.ended = true;\n    this.spanProcessor.onEnd(this);\n  }\n\n  export() {\n    return this.span;\n  }\n}\n","import { Span } from './span.js';\nimport id from './id.js';\n\nexport class Tracer {\n  constructor(tracing, spanProcessor) {\n    this.spanProcessor = spanProcessor;\n    this.tracing = tracing;\n  }\n\n  startSpan(\n    name,\n    options = {},\n    context = this.tracing.contextManager.active(),\n  ) {\n    const parentSpan = this.tracing.getSpan(context);\n    const parentSpanContext = parentSpan?.spanContext();\n    const spanId = id.gen(8);\n    let traceId;\n    let traceFlags = 0;\n    let traceState = null;\n    let parentSpanId;\n    if (parentSpanContext) {\n      traceId = parentSpanContext.traceId;\n      traceState = parentSpanContext.traceState;\n      parentSpanId = parentSpanContext.spanId;\n    } else {\n      traceId = id.gen(16);\n    }\n\n    const kind = 0;\n    const spanContext = { traceId, spanId, traceFlags, traceState };\n    const resource = {\n      attributes: {\n        ...(this.tracing.resource?.attributes || {}),\n        ...(options.resource?.attributes || {}),\n      },\n    };\n\n    const span = new Span({\n      resource: resource,\n      scope: this.tracing.scope,\n      session: this.tracing.session.session,\n      context,\n      spanContext,\n      name,\n      kind,\n      parentSpanId,\n      spanProcessor: this.spanProcessor,\n      startTime: options.startTime,\n      usePerformance: options.usePerformance,\n    });\n    return span;\n  }\n}\n","import { ContextManager, createContextKey } from './contextManager.js';\nimport { Session } from './session.js';\nimport { SpanExporter } from './exporter.js';\nimport { SpanProcessor } from './spanProcessor.js';\nimport { Tracer } from './tracer.js';\nimport id from './id.js';\n\nconst SPAN_KEY = createContextKey('Rollbar Context Key SPAN');\n\nexport default class Tracing {\n  constructor(gWindow, api, options) {\n    this.api = api;\n    this.options = options;\n    this.window = gWindow;\n\n    if (this.window.sessionStorage) {\n      this.session = new Session(this, options);\n    }\n    this.createTracer();\n  }\n\n  configure(options) {\n    // Options merge happens before configure is called, so we can just replace.\n    this.options = options;\n  }\n\n  initSession() {\n    if (this.session) {\n      this.session.init();\n    }\n  }\n\n  get sessionId() {\n    if (this.session) {\n      return this.session.session.id;\n    }\n    return null;\n  }\n\n  get resource() {\n    return {\n      attributes: {\n        ...(this.options.resource || {}),\n        'rollbar.environment':\n          this.options.payload?.environment ?? this.options.environment,\n      },\n    };\n  }\n\n  get scope() {\n    return {\n      name: 'rollbar-browser-js',\n      version: this.options.version,\n    };\n  }\n\n  idGen(bytes = 16) {\n    return id.gen(bytes);\n  }\n\n  createTracer() {\n    this.contextManager = new ContextManager();\n    this.exporter = new SpanExporter(this.api, this.options);\n    this.spanProcessor = new SpanProcessor(this.exporter, this.options.tracing);\n    this.tracer = new Tracer(this, this.spanProcessor);\n  }\n\n  getTracer() {\n    return this.tracer;\n  }\n\n  addSpanTransform(transformFn) {\n    this.spanProcessor.addTransform(transformFn);\n  }\n\n  getSpan(context = this.contextManager.active()) {\n    return context.getValue(SPAN_KEY);\n  }\n\n  setSpan(context = this.contextManager.active(), span) {\n    return context.setValue(SPAN_KEY, span);\n  }\n\n  startSpan(name, options = {}, context = this.contextManager.active()) {\n    return this.tracer.startSpan(name, options, context);\n  }\n\n  with(context, fn, thisArg, ...args) {\n    return this.contextManager.with(context, fn, thisArg, ...args);\n  }\n\n  withSpan(name, options, fn, thisArg) {\n    const span = this.startSpan(name, options);\n    return this.with(\n      this.setSpan(this.contextManager.active(), span),\n      fn,\n      thisArg,\n      span,\n    );\n  }\n}\n","import Rollbar from './core.js';\nimport Telemeter from '../telemetry.js';\nimport Instrumenter from './telemetry.js';\nimport wrapGlobals from './wrapGlobals.js';\nimport scrub from '../scrub.js';\nimport truncation from '../truncation.js';\nimport Tracing from '../tracing/tracing.js';\n\nRollbar.setComponents({\n  telemeter: Telemeter,\n  instrumenter: Instrumenter,\n  wrapGlobals: wrapGlobals,\n  scrub: scrub,\n  truncation: truncation,\n  tracing: Tracing,\n});\n\nexport default Rollbar;\n","import rollbar from '../rollbar.js';\n\nvar options = (typeof window !== 'undefined') && window._rollbarConfig;\nvar alias = options && options.globalAlias || 'Rollbar';\nvar shimRunning = (typeof window !== 'undefined') && window[alias] && typeof window[alias].shimId === 'function' && window[alias].shimId() !== undefined;\n\nif ((typeof window !== 'undefined') && !window._rollbarStartTime) {\n  window._rollbarStartTime = (new Date()).getTime();\n}\n\nif (!shimRunning && options) {\n  var Rollbar = new rollbar(options);\n  window[alias] = Rollbar;\n} else if (typeof window !== 'undefined') {\n  window.rollbar = rollbar;\n  window._rollbarDidLoad = true;\n} else if (typeof self !== 'undefined') {\n  self.rollbar = rollbar;\n  self._rollbarDidLoad = true;\n}\n\nexport default rollbar;\n"],"names":["hasOwn","Object","prototype","hasOwnProperty","toStr","toString","isPlainObject","obj","call","hasOwnConstructor","hasIsPrototypeOf","constructor","key","merge","i","src","copy","clone","name","result","current","length","arguments","isType","x","t","typeName","_typeof","Error","match","toLowerCase","isFunction","f","isNativeFunction","reRegExpChar","funcMatchString","Function","replace","reIsNative","RegExp","isObject","test","value","type","isString","String","isFiniteNumber","n","Number","isFinite","isDefined","u","isIterable","isError","e","isPromise","p","then","isBrowser","window","redact","uuid4","d","now","uuid","c","r","Math","random","floor","LEVELS","debug","info","warning","error","critical","sanitizeHref","url","urlObject","URL","password","search","_","sanitizeUrl","baseUrlParts","parseUri","anchor","source","query","parseUriOptions","strictMode","q","parser","strict","loose","str","undefined","o","m","exec","uri","l","$0","$1","$2","addParamsAndAccessTokenToPath","accessToken","options","params","access_token","paramsArray","k","push","join","sort","path","qs","indexOf","h","substring","formatUrl","protocol","port","hostname","stringify","backup","JSON","jsonError","backupError","maxByteSize","string","count","code","charCodeAt","jsonParse","s","parse","makeUnhandledStackInfo","message","lineno","colno","mode","backupMessage","errorParser","location","line","column","func","guessFunctionName","context","gatherContext","href","document","useragent","navigator","userAgent","stack","wrapCallback","logger","err","resp","nonCircularClone","seen","newSeen","includes","slice","createItem","args","notifier","requestKeys","lambdaContext","custom","callback","request","arg","extraArgs","diagnostic","argTypes","typ","DOMException","j","len","item","timestamp","data","setCustomItemKeys","_originalArgs","original_arg_types","level","skipFrames","addErrorContext","errors","contextAdded","rollbarContext","error_context","TELEMETRY_TYPES","TELEMETRY_LEVELS","arrayIncludes","arr","val","createTelemetryEvent","metadata","event","addItemAttributes","itemData","attributes","_iterator","_createForOfIteratorHelper","_step","done","a","get","keys","split","set","temp","replacement","formatArgsAsString","substr","Date","filterIp","requestData","captureIp","newIp","parts","pop","beginning","slashIdx","terminal","concat","handleOptions","input","payload","updateDeprecatedOptions","overwriteScrubFields","scrubFields","hostWhiteList","hostSafeList","log","hostBlackList","hostBlockList","RateLimiter","startTime","counter","perMinCounter","platform","platformOptions","configureGlobal","globalSettings","maxItems","itemsPerMinute","shouldSend","elapsedTime","globalRateLimit","globalRateLimitPerMin","checkRate","shouldSendValue","perMinute","setPlatformOptions","limit","ignoreRateLimit","limitPerMin","rateLimitPayload","environment","msg","body","extra","language","version","framework","Queue","rateLimiter","api","replay","_classCallCheck","predicates","pendingItems","pendingRequests","retryQueue","retryHandle","waitCallback","waitIntervalID","_createClass","configure","_this$api","oldOptions","addPredicate","predicate","addPendingItem","removePendingItem","idx","splice","addItem","originalError","originalItem","_this","predicateResult","_applyPredicates","stop","_maybeLog","transmit","replayId","capture","_makeApiRequest","headers","_dequeuePendingRequest","sendOrDiscardReplay","_this$replay","discard","wait","_this2","_maybeCallWait","clearInterval","setInterval","_this3","rateLimitResponse","postItem","_maybeRetry","shouldRetry","retryInterval","RETRIABLE_ERRORS","maxRetries","retries","_retryApiRequest","_this4","retryObject","shift","verbose","_defineProperty","Notifier","queue","transforms","addTransform","transform","enabled","_applyTransforms","bind","transformIndex","transformsLength","cb","Rollbar","telemeter","tracing","tracer","validateTracer","_configuredOptions","setStackTraceLimit","lastError","lastErrorHash","defaultOptions","global","payloadData","_defaultLogLevel","_log","warn","captureEvent","captureDomContentLoaded","ts","captureLoad","buildJsonPayload","sendJsonPayload","jsonPayload","postJsonPayload","defaultLevel","ignoreDuplicateErrors","_sameAsLastError","_addTracingAttributes","_addTracingInfo","_captureRollbarItem","telemetryEvents","copyEvents","_this$tracing","_this$tracing2","span","getSpan","sessionId","spanId","traceId","addEvent","logLevel","_isUncaught","itemHash","generateItemHash","scope","active","validateSpan","setTag","opentracingSpanId","toSpanId","opentracingTraceId","toTraceId","opentracing_span_id","opentracing_trace_id","stackTraceLimit","spanContext","buildPayload","contextResult","getTransportFromOptions","defaults","timeout","transport","detectTransport","proxy","endpoint","opts","pathname","gWindow","self","defaultTransport","fetch","XMLHttpRequest","transportOptions","method","transportAPI","host","appendPathToPath","base","baseTrailingSlash","pathBeginningSlash","_regeneratorRuntime","defineProperty","Symbol","iterator","asyncIterator","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","y","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","callInvokeWithMethodAndArg","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","async","Promise","reverse","prev","charAt","rval","handle","complete","finish","catch","_catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","apply","_next","_throw","helpers","OTLPDefaultOptions","Api","urllib","truncation","_getTransport","OTLPTransportOptions","_getOTLPTransport","_postPromise","_ref","reject","post","setTimeout","postSpans","_ref2","_callee","_args","_callee$","_context","_x","stringifyResult","truncate","_options$tracing","_objectSpread","levels","disable","_len","Array","_key","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","init","unshift","console","captureUncaughtExceptions","handler","shim","oldOnError","_rollbarOldOnError","onerror","handleAnonymousErrors","fn","_rollbarWindowOnError","old","_rollbarWrappedError","_rollbarContext","ret","handleUncaughtException","anonymousErrorsPending","captureUnhandledRejections","_rollbarURH","belongsToShim","removeEventListener","rejectionHandler","evt","reason","promise","detail","handleUnhandledRejection","addEventListener","makeFetchRequest","controller","timeoutId","AbortController","abort","signal","response","clearTimeout","respHeaders","isItemRoute","endsWith","json","makeXhrRequest","requestFactory","_createXMLHTTPObject","onreadystatechange","readyState","parseResponse","responseText","_isSuccess","getResponseHeader","_isNormalFailure","status","_newRetriableError","ex","exc","open","setRequestHeader","_i","_Object$entries","entries","_Object$entries$_i","_slicedToArray","send","e1","XDomainRequest","xdomainrequest","onprogress","ontimeout","onload","e2","factories","ActiveXObject","xmlhttp","numFactories","Transport","_makeZoneRequest","rootZone","Zone","root","run","_makeRequest","RollbarProxy","_proxyRequest","rollbarProxy","_msg","auth","hash","last","parseInt","pathParts","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","allowEmpty","parseStack","stackString","parseV8OrIeString","parseFFOrSafariString","extractLocation","urlLike","regExp","applySlice","lines","isArray","filtered","filter","map","sanitizedLine","locationParts","functionName","fileName","function","file","col","raw","functionNameRegex","matches","parseOpera9","parseOpera10","parseOpera11","lineRE","tokens","functionCall","argsRaw","parse$1","parseV8OrIE$1","parseFFOrSafari$1","parseOpera$1","parseOpera9$1","parseOpera10$1","parseOpera11$1","stackframesLiteToStackframes","liteStackframes","liteStackframe","lineNumber","columnNumber","parseErrorStack","UNKNOWN_FUNCTION","ERR_CLASS_REGEXP","Frame","stackFrame","_stackFrame","Stack","exception","skip","getStack","parserStack","_mostSpecificErrorName","rawStack","rawException","nested","cause","traceChain","guessErrorClass","errMsg","errClassMatch","errClass","constructorName","handleDomException","handleItemWithError","stackInfo","_savedStackTrace","description","chain","ensureItemHasSomethingToSay","addBaseInfo","server","addRequestInfo","requestInfo","query_string","remoteString","user_ip","addClientInfo","nav","scr","screen","runtime_ms","_rollbarStartTime","round","javascript","browser","cookie_enabled","cookieEnabled","width","height","addPluginInfo","plugins","navPlugins","cur","addBody","addBodyTraceChain","addBodyTrace","addBodyMessage","stackFromItem","_unhandledStackInfo","traces","traceChainLength","trace","buildTrace","trace_chain","guess","className","errorClass","class","frame","pre","contextLength","mid","frames","filename","sendFrameUrl","addScrubber","scrubFn","scrubPaths","itemToPayload","addPayloadOptions","payloadOptions","addTelemetryData","addMessageWithError","tracePath","newExtra","userTransform","newItem","promisedItem","addConfigToPayload","sendConfig","configKey","addFunctionOption","addConfiguredOptions","configuredOptions","configured_options","addDiagnosticKeys","client","is_anonymous","is_uncaught","raw_error","constructor_name","failed","checkIgnore","settings","checkLevel","levelVal","reportLevel","reportLevelVal","userCheckIgnore","isUncaught","onSendCallback","urlIsNotBlockListed","urlIsOnAList","urlIsSafeListed","matchFrames","list","block","urlRegex","listLength","frameLength","safeOrBlock","tracesLength","listName","messageIsIgnored","ignoredMessages","rIgnoredMessage","messages","messagesFromItem","autoStart","triggerDefaults","samplingRatio","preDuration","postDuration","triggers","logErrors","logEmits","inlineStylesheet","inlineImages","collectFonts","maskInputOptions","email","tel","text","color","date","month","number","range","time","week","blockClass","maskTextClass","ignoreClass","slimDOMOptions","script","comment","headFavicon","headWhitespace","headMetaDescKeywords","headMetaSocial","headMetaRobots","headMetaHttpEquiv","headMetaAuthorship","headMetaVerification","uncaughtErrorLevel","itemsPerMin","commonScrubFields","apiScrubFields","requestScrubFields","commonScrubHeaders","_toConsumableArray","Client","API","globals","sharedTransforms","sharedPredicates","replayDefaults","tracingDefaults","_instance","components","Telemeter","Instrumenter","instrumenter","wrapGlobals","scrub","Tracing","Replay","_gWindow","initSession","replayOptions","recorder","start","gDocument","isChrome","chrome","runtime","addTransformsToNotifier","addPredicatesToQueue","setupUnhandledCapture","instrument","setSessionAttributesFromOptions","rollbar","_this$instrumenter","_createItem","triggerDirectReplay","triggerReplay","unhandledExceptionsInitialized","captureUncaught","handleUncaughtExceptions","wrapGlobalEventHandlers","unhandledRejectionsInitialized","handleUnhandledRejections","inspectAnonymousErrors","prepareStackTrace","_stack","_isAnonymous","reasonResult","_before","ctxFn","_isWrap","_rollbar_wrapped","_wrappedSource","prop","setSessionUser","user","session","setUser","setSessionAttributes","attrs","_this$tracing3","setAttributes","_options$payload","_options$client","_options$payload2","_options$payload3","_options$payload4","person","code_version","codeVersion","loadFull","setComponents","callInstance","maybeCallback","_getFirstFunction","_Rollbar","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","_len11","_key11","_len12","_key12","_len13","_key13","_len14","_key14","browserDefaults","includeItemsInTelemetry","MAX_EVENTS","fromMillis","millis","trunc","maxTelemetryEvents","maxQueueSize","max","min","telemetrySpan","startSpan","newMaxEvents","deleteCount","events","filterTelemetry","otelAttributes","_objectWithoutProperties","_excluded","exportTelemetrySpan","end","rollbarUUID","getLevel","timestamp_ms","captureError","_this$telemetrySpan","captureLog","_this$telemetrySpan2","_this$telemetrySpan3","captureNetwork","subtype","_metadata$response","_this$telemetrySpan4","levelFromStatus","status_code","endTimeNano","end_time_ms","statusCode","request_headers","start_time_ms","captureDom","element","checked","captureInput","_this$telemetrySpan5","isSynthetic","endTimeUnixNano","_getRepeatedEvent","_updateRepeatedEvent","captureClick","_ref3","_this$telemetrySpan6","lastEvent","_lastEvent","target","duration","textZoomRatio","rate","captureFocus","_ref4","_this$telemetrySpan7","captureResize","_ref5","_this$telemetrySpan8","captureDragDrop","_ref6","_this$telemetrySpan9","dropEffect","effectAllowed","kinds","mediaTypes","captureNavigation","from","to","_this$telemetrySpan10","getTime","captureConnectivityChange","_ref7","_this$telemetrySpan11","manual","Headers","FetchHeaders","normalizeName","normalizeValue","iteratorFor","items","append","header","getOwnPropertyNames","oldValue","has","thisArg","replacements","orig","traverse","isObj","seenIndex","mapped","same","scrubPath","paramRes","_getScrubFieldRegexs","queryRes","_getScrubQueryParamRegexs","redactQueryParam","dummy0","paramPart","paramScrubber","valScrubber","scrubber","tmpV","pat","getElementType","getAttribute","isDescribedElement","subtypes","tagName","getElementFromEvent","doc","elementFromPoint","clientX","clientY","treeToArray","elem","MAX_HEIGHT","out","nextDescription","describeElement","parentNode","elementArrayToString","MAX_LENGTH","separator","separatorLength","nextStr","totalLength","descriptionToString","elementString","desc","id","classes","attr","urlparser","domUtil","network","networkResponseHeaders","networkResponseBody","networkRequestHeaders","networkRequestBody","networkErrorOnHttp5xx","networkErrorOnHttp4xx","networkErrorOnHttp0","dom","navigation","connectivity","contentSecurityPolicy","errorOnContentSecurityPolicy","restore","b","nameFromDescription","defaultValueScrubber","patterns","_iterator2","_step2","field","_patterns","_window","_document","removeListeners","autoInstrument","scrubTelemetryInputs","telemetryScrubber","eventRemovers","contentsecuritypolicy","_location","_lastHref","oldSettings","instrumentNetwork","deinstrumentNetwork","instrumentConsole","deinstrumentConsole","instrumentDom","deinstrumentDom","instrumentNavigation","deinstrumentNavigation","instrumentConnectivity","deinstrumentConnectivity","instrumentContentSecurityPolicy","deinstrumentContentSecurityPolicy","wrapProp","xhr","xhrp","isUrlObject","_isUrlObject","__rollbar_xhr","request_content_type","onreadystatechangeHandler","__rollbar_event","response_content_type","headersConfig","allHeaders","getAllResponseHeaders","trim","_iterator3","_step3","_iterator4","_step4","isJsonContentType","scrubJson","addOtelNetworkResponse","errorOnHttpStatus","trackHttpErrors","reqHeaders","fetchHeaders","telemetryEvent","contentType","endTimeMs","inHeaders","outHeaders","currentHeader","_iterator5","_step5","_this$_window","wrapConsole","origConsole","methods","_i2","_methods","addListener","handleEvent","click","handleClick","dragdrop","handleDrag","focus","handleFocus","form","handleForm","handleInput","resize","handleResize","contentLoaded","handleContentLoaded","_evt$target","isTrusted","_evt$target2","_evt$target3","innerWidth","innerHeight","objs","dataTransfer","files","_iterator6","_step6","kind","_evt$dataTransfer","_evt$dataTransfer2","_evt$target4","_evt$target5","_evt$target6","_evt$target7","inputType","_evt$target8","chromePackagedApp","app","hasPushState","history","pushState","handleUrlChange","parsedHref","parsedTo","parsedFrom","handleConnectivity","handleCspEvent","cspEvent","blockedURI","violatedDirective","effectiveDirective","sourceFile","originalPolicy","handleCspError","cspHandler","section","types","_iterator7","_step7","_loop","passive","_extendListenerPrototype","oldAddEventListener","_rollbarOldAdd","addFn","bubble","oldRemoveEventListener","_rollbarOldRemove","removeFn","jsonBackup","selectFrames","truncateFrames","maybeTruncateValue","truncateStrings","truncator","truncateTraceData","traceData","minBody","needsTruncation","maxSize","strategies","strategy","results","parentContext","_currentContext","Map","getValue","setValue","deleteValue","delete","ROOT_CONTEXT","ContextManager","currentContext","enterContext","previousContext","exitContext","with","createContextKey","for","gen","bytes","randomBytes","Uint8Array","crypto","getRandomValues","randHex","byte","padStart","SESSION_KEY","Session","_attributes","getSession","createSession","initSessionAttributes","serializedSession","sessionStorage","getItem","_unused","createdAt","setSession","sessionString","setItem","_unused2","username","_navigator$userAgentD","_navigator$userAgentD2","_navigator$userAgentD3","userAgentData","brands","mobile","toMillis","hrtime","toNanos","add","usePerformance","performance","timeOrigin","isHrTime","SpanExporter","export","spans","_resultCallback","spanExportQueue","toPayload","resourceSpans","resource","scopeMap","scopeKey","instrumentationScope","_transformSpan","_transformResource","scopeSpans","scopeData","_transformInstrumentationScope","transformAttributes","_transformAnyValue","transformEvents","timeUnixNano","parentSpanId","startTimeUnixNano","endTime","keyValues","_this5","stringValue","isInteger","intValue","doubleValue","boolValue","arrayValue","kvlistValue","SpanProcessor","exporter","pendingSpans","transformFn","transformSpan","applyTransforms","onStart","_parentContext","onEnd","Span","initReadableSpan","spanProcessor","_options$session","links","ended","droppedAttributesCount","droppedEventsCount","droppedLinksCount","setAttribute","isRecording","Tracer","_this$tracing$resourc","_options$resource","contextManager","parentSpan","parentSpanContext","traceFlags","traceState","SPAN_KEY","createTracer","_this$options$payload","_this$options$payload2","idGen","getTracer","addSpanTransform","setSpan","_this$contextManager","withSpan","default","_rollbarConfig","alias","globalAlias","shimRunning","shimId","_rollbarDidLoad"],"sourceRoot":""}