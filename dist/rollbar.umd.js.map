{"version":3,"file":"rollbar.umd.js","mappings":"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","sources":["webpack://rollbar/webpack/universalModuleDefinition","webpack://rollbar/webpack/bootstrap","webpack://rollbar/webpack/runtime/define property getters","webpack://rollbar/webpack/runtime/hasOwnProperty shorthand","webpack://rollbar/webpack/runtime/make namespace object","webpack://rollbar/./src/utility.js","webpack://rollbar/./src/utility/traverse.js","webpack://rollbar/./src/scrub.js","webpack://rollbar/./src/telemetry.js","webpack://rollbar/./src/tracing/context.js","webpack://rollbar/./src/tracing/contextManager.js","webpack://rollbar/./src/tracing/hrtime.js","webpack://rollbar/./src/tracing/exporter.js","webpack://rollbar/./src/tracing/id.js","webpack://rollbar/./src/tracing/session.js","webpack://rollbar/./src/logger.js","webpack://rollbar/./src/tracing/spanProcessor.js","webpack://rollbar/./src/tracing/span.js","webpack://rollbar/./src/tracing/tracer.js","webpack://rollbar/./src/tracing/tracing.js","webpack://rollbar/./src/truncation.js","webpack://rollbar/./src/apiUtility.js","webpack://rollbar/./src/api.js","webpack://rollbar/./src/defaults.js","webpack://rollbar/./node_modules/error-stack-parser-es/dist/lite.mjs","webpack://rollbar/./node_modules/error-stack-parser-es/dist/index.mjs","webpack://rollbar/./src/errorParser.js","webpack://rollbar/./src/predicates.js","webpack://rollbar/./src/notifier.js","webpack://rollbar/./src/queue.js","webpack://rollbar/./src/rateLimiter.js","webpack://rollbar/./src/rollbar.js","webpack://rollbar/./src/tracing/defaults.js","webpack://rollbar/./src/transforms.js","webpack://rollbar/./src/browser/defaults.js","webpack://rollbar/./src/browser/globalSetup.js","webpack://rollbar/./src/browser/predicates.js","webpack://rollbar/./src/browser/replay/defaults.js","webpack://rollbar/./src/browser/transforms.js","webpack://rollbar/./src/browser/transport/fetch.js","webpack://rollbar/./src/browser/transport/xhr.js","webpack://rollbar/./src/browser/transport.js","webpack://rollbar/./src/browser/url.js","webpack://rollbar/./src/browser/core.js","webpack://rollbar/./src/utility/headers.js","webpack://rollbar/./src/utility/replace.js","webpack://rollbar/./src/browser/domUtility.js","webpack://rollbar/./src/browser/telemetry.js","webpack://rollbar/./src/browser/wrapGlobals.js","webpack://rollbar/./src/browser/rollbar.js","webpack://rollbar/./src/browser/bundles/rollbar.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"rollbar\"] = factory();\n\telse\n\t\troot[\"rollbar\"] = factory();\n})(this, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\n * isType - Given a Javascript value and a string, returns true if the type of the value matches the\n * given string.\n *\n * @param x - any value\n * @param t - a lowercase string containing one of the following type names:\n *    - undefined\n *    - null\n *    - error\n *    - number\n *    - boolean\n *    - string\n *    - symbol\n *    - function\n *    - object\n *    - array\n * @returns true if x is of type t, otherwise false\n */\nfunction isType(x, t) {\n  return t === typeName(x);\n}\n\n/*\n * typeName - Given a Javascript value, returns the type of the object as a string\n */\nfunction typeName(x) {\n  var name = typeof x;\n  if (name !== 'object') {\n    return name;\n  }\n  if (!x) {\n    return 'null';\n  }\n  if (x instanceof Error) {\n    return 'error';\n  }\n  return {}.toString\n    .call(x)\n    .match(/\\s([a-zA-Z]+)/)[1]\n    .toLowerCase();\n}\n\n/* isFunction - a convenience function for checking if a value is a function\n *\n * @param f - any value\n * @returns true if f is a function, otherwise false\n */\nfunction isFunction(f) {\n  return isType(f, 'function');\n}\n\n/* isNativeFunction - a convenience function for checking if a value is a native JS function\n *\n * @param f - any value\n * @returns true if f is a native JS function, otherwise false\n */\nfunction isNativeFunction(f) {\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  var funcMatchString = Function.prototype.toString\n    .call(Object.prototype.hasOwnProperty)\n    .replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?');\n  var reIsNative = RegExp('^' + funcMatchString + '$');\n  return isObject(f) && reIsNative.test(f);\n}\n\n/* isObject - Checks if the argument is an object\n *\n * @param value - any value\n * @returns true is value is an object function is an object)\n */\nfunction isObject(value) {\n  return (\n    value != null && (typeof value == 'object' || typeof value == 'function')\n  );\n}\n\n/* hasOwn - safe helper around Object.hasOwnProperty */\nfunction hasOwn(obj, prop) {\n  if (obj == null) {\n    return false;\n  }\n  if (Object.hasOwn) {\n    return Object.hasOwn(obj, prop);\n  }\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n/* isString - Checks if the argument is a string\n *\n * @param value - any value\n * @returns true if value is a string\n */\nfunction isString(value) {\n  return typeof value === 'string' || value instanceof String;\n}\n\n/**\n * isFiniteNumber - determines whether the passed value is a finite number\n *\n * @param {*} n - any value\n * @returns true if value is a finite number\n */\nfunction isFiniteNumber(n) {\n  return Number.isFinite(n);\n}\n\n/*\n * isIterable - convenience function for checking if a value can be iterated, essentially\n * whether it is an object or an array.\n *\n * @param i - any value\n * @returns true if i is an object or an array as determined by `typeName`\n */\nfunction isIterable(i) {\n  var type = typeName(i);\n  return type === 'object' || type === 'array';\n}\n\n/*\n * isError - convenience function for checking if a value is of an error type\n *\n * @param e - any value\n * @returns true if e is an error\n */\nfunction isError(e) {\n  // Detect both Error and Firefox Exception type\n  return isType(e, 'error') || isType(e, 'exception');\n}\n\n/* isPromise - a convenience function for checking if a value is a promise\n *\n * @param p - any value\n * @returns true if f is a function, otherwise false\n */\nfunction isPromise(p) {\n  return isObject(p) && isType(p.then, 'function');\n}\n\n/**\n * isBrowser - a convenience function for checking if the code is running in a browser\n *\n * @returns true if the code is running in a browser environment\n */\nfunction isBrowser() {\n  return typeof window !== 'undefined';\n}\n\nfunction redact() {\n  return '********';\n}\n\n// from http://stackoverflow.com/a/8809472/1138191\nfunction uuid4() {\n  var d = now();\n  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n    /[xy]/g,\n    function (c) {\n      var r = ((d + Math.random() * 16) % 16) | 0;\n      d = Math.floor(d / 16);\n      return (c === 'x' ? r : (r & 0x7) | 0x8).toString(16);\n    },\n  );\n  return uuid;\n}\n\nvar LEVELS = {\n  debug: 0,\n  info: 1,\n  warning: 2,\n  error: 3,\n  critical: 4,\n};\n\nfunction sanitizeHref(url) {\n  try {\n    const urlObject = new URL(url);\n    if (urlObject.password) {\n      urlObject.password = redact();\n    }\n    if (urlObject.search) {\n      urlObject.search = redact();\n    }\n    return urlObject.toString();\n  } catch (_) {\n    return url; // Return original URL if parsing fails\n  }\n}\n\nfunction sanitizeUrl(url) {\n  var baseUrlParts = parseUri(url);\n  if (!baseUrlParts) {\n    return '(unknown)';\n  }\n\n  // remove a trailing # if there is no anchor\n  if (baseUrlParts.anchor === '') {\n    baseUrlParts.source = baseUrlParts.source.replace('#', '');\n  }\n\n  url = baseUrlParts.source.replace('?' + baseUrlParts.query, '');\n  return url;\n}\n\nvar parseUriOptions = {\n  strictMode: false,\n  key: [\n    'source',\n    'protocol',\n    'authority',\n    'userInfo',\n    'user',\n    'password',\n    'host',\n    'port',\n    'relative',\n    'path',\n    'directory',\n    'file',\n    'query',\n    'anchor',\n  ],\n  q: {\n    name: 'queryKey',\n    parser: /(?:^|&)([^&=]*)=?([^&]*)/g,\n  },\n  parser: {\n    strict:\n      /^(?:([^:/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?))?((((?:[^?#/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n    loose:\n      /^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*\\/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n  },\n};\n\nfunction parseUri(str) {\n  if (!isType(str, 'string')) {\n    return undefined;\n  }\n\n  var o = parseUriOptions;\n  var m = o.parser[o.strictMode ? 'strict' : 'loose'].exec(str);\n  var uri = {};\n\n  for (var i = 0, l = o.key.length; i < l; ++i) {\n    uri[o.key[i]] = m[i] || '';\n  }\n\n  uri[o.q.name] = {};\n  uri[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n    if ($1) {\n      uri[o.q.name][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\nfunction addParamsAndAccessTokenToPath(accessToken, options, params) {\n  params = params || {};\n  params.access_token = accessToken;\n  var paramsArray = [];\n  var k;\n  for (k in params) {\n    if (Object.prototype.hasOwnProperty.call(params, k)) {\n      paramsArray.push([k, params[k]].join('='));\n    }\n  }\n  var query = '?' + paramsArray.sort().join('&');\n\n  options = options || {};\n  options.path = options.path || '';\n  var qs = options.path.indexOf('?');\n  var h = options.path.indexOf('#');\n  var p;\n  if (qs !== -1 && (h === -1 || h > qs)) {\n    p = options.path;\n    options.path = p.substring(0, qs) + query + '&' + p.substring(qs + 1);\n  } else {\n    if (h !== -1) {\n      p = options.path;\n      options.path = p.substring(0, h) + query + p.substring(h);\n    } else {\n      options.path = options.path + query;\n    }\n  }\n}\n\nfunction formatUrl(u, protocol) {\n  protocol = protocol || u.protocol;\n  if (!protocol && u.port) {\n    if (u.port === 80) {\n      protocol = 'http:';\n    } else if (u.port === 443) {\n      protocol = 'https:';\n    }\n  }\n  protocol = protocol || 'https:';\n\n  if (!u.hostname) {\n    return null;\n  }\n  var result = protocol + '//' + u.hostname;\n  if (u.port) {\n    result = result + ':' + u.port;\n  }\n  if (u.path) {\n    result = result + u.path;\n  }\n  return result;\n}\n\nfunction stringify(obj, backup) {\n  var value, error;\n  try {\n    value = JSON.stringify(obj);\n  } catch (jsonError) {\n    if (backup && isFunction(backup)) {\n      try {\n        value = backup(obj);\n      } catch (backupError) {\n        error = backupError;\n      }\n    } else {\n      error = jsonError;\n    }\n  }\n  return { error: error, value: value };\n}\n\nfunction maxByteSize(string) {\n  // The transport will use utf-8, so assume utf-8 encoding.\n  //\n  // This minimal implementation will accurately count bytes for all UCS-2 and\n  // single code point UTF-16. If presented with multi code point UTF-16,\n  // which should be rare, it will safely overcount, not undercount.\n  //\n  // While robust utf-8 encoders exist, this is far smaller and far more performant.\n  // For quickly counting payload size for truncation, smaller is better.\n\n  var count = 0;\n  var length = string.length;\n\n  for (var i = 0; i < length; i++) {\n    var code = string.charCodeAt(i);\n    if (code < 128) {\n      // up to 7 bits\n      count = count + 1;\n    } else if (code < 2048) {\n      // up to 11 bits\n      count = count + 2;\n    } else if (code < 65536) {\n      // up to 16 bits\n      count = count + 3;\n    }\n  }\n\n  return count;\n}\n\nfunction jsonParse(s) {\n  var value, error;\n  try {\n    value = JSON.parse(s);\n  } catch (e) {\n    error = e;\n  }\n  return { error, value };\n}\n\nfunction makeUnhandledStackInfo(\n  message,\n  url,\n  lineno,\n  colno,\n  error,\n  mode,\n  backupMessage,\n  errorParser,\n) {\n  var location = {\n    url: url || '',\n    line: lineno,\n    column: colno,\n  };\n  location.func = errorParser.guessFunctionName(location.url, location.line);\n  location.context = errorParser.gatherContext(location.url, location.line);\n  var href =\n    typeof document !== 'undefined' &&\n    document &&\n    document.location &&\n    document.location.href;\n  var useragent =\n    typeof window !== 'undefined' &&\n    window &&\n    window.navigator &&\n    window.navigator.userAgent;\n  return {\n    mode: mode,\n    message: error ? String(error) : message || backupMessage,\n    url: href,\n    stack: [location],\n    useragent: useragent,\n  };\n}\n\nfunction wrapCallback(logger, f) {\n  return function (err, resp) {\n    try {\n      f(err, resp);\n    } catch (e) {\n      logger.error(e);\n    }\n  };\n}\n\nfunction nonCircularClone(obj) {\n  var seen = [obj];\n\n  function clone(obj, seen) {\n    var value,\n      name,\n      newSeen,\n      result = {};\n\n    try {\n      for (name in obj) {\n        value = obj[name];\n\n        if (value && (isType(value, 'object') || isType(value, 'array'))) {\n          if (seen.includes(value)) {\n            result[name] = 'Removed circular reference: ' + typeName(value);\n          } else {\n            newSeen = seen.slice();\n            newSeen.push(value);\n            result[name] = clone(value, newSeen);\n          }\n          continue;\n        }\n\n        result[name] = value;\n      }\n    } catch (e) {\n      result = 'Failed cloning custom data: ' + e.message;\n    }\n    return result;\n  }\n  return clone(obj, seen);\n}\n\nfunction createItem(args, logger, notifier, requestKeys, lambdaContext) {\n  var message, err, custom, callback, request;\n  var arg;\n  var extraArgs = [];\n  var diagnostic = {};\n  var argTypes = [];\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    argTypes.push(typ);\n    switch (typ) {\n      case 'undefined':\n        break;\n      case 'string':\n        if (message) {\n          extraArgs.push(arg);\n        } else {\n          message = arg;\n        }\n        break;\n      case 'function':\n        callback = wrapCallback(logger, arg);\n        break;\n      case 'date':\n        extraArgs.push(arg);\n        break;\n      case 'error':\n      case 'domexception':\n      case 'exception': // Firefox Exception type\n        if (err) {\n          extraArgs.push(arg);\n        } else {\n          err = arg;\n        }\n        break;\n      case 'object':\n      case 'array':\n        if (\n          arg instanceof Error ||\n          (typeof DOMException !== 'undefined' && arg instanceof DOMException)\n        ) {\n          if (err) {\n            extraArgs.push(arg);\n          } else {\n            err = arg;\n          }\n          break;\n        }\n        if (requestKeys && typ === 'object' && !request) {\n          for (var j = 0, len = requestKeys.length; j < len; ++j) {\n            if (arg[requestKeys[j]] !== undefined) {\n              request = arg;\n              break;\n            }\n          }\n          if (request) {\n            break;\n          }\n        }\n        if (custom) {\n          extraArgs.push(arg);\n        } else {\n          custom = arg;\n        }\n        break;\n      default:\n        if (\n          arg instanceof Error ||\n          (typeof DOMException !== 'undefined' && arg instanceof DOMException)\n        ) {\n          if (err) {\n            extraArgs.push(arg);\n          } else {\n            err = arg;\n          }\n          break;\n        }\n        extraArgs.push(arg);\n    }\n  }\n\n  // if custom is an array this turns it into an object with integer keys\n  if (custom) custom = nonCircularClone(custom);\n\n  if (extraArgs.length > 0) {\n    if (!custom) custom = nonCircularClone({});\n    custom.extraArgs = nonCircularClone(extraArgs);\n  }\n\n  var item = {\n    message: message,\n    err: err,\n    custom: custom,\n    timestamp: now(),\n    callback: callback,\n    notifier: notifier,\n    diagnostic: diagnostic,\n    uuid: uuid4(),\n  };\n\n  item.data = item.data || {};\n\n  setCustomItemKeys(item, custom);\n\n  if (requestKeys && request) {\n    item.request = request;\n  }\n  if (lambdaContext) {\n    item.lambdaContext = lambdaContext;\n  }\n  item._originalArgs = args;\n  item.diagnostic.original_arg_types = argTypes;\n  return item;\n}\n\nfunction setCustomItemKeys(item, custom) {\n  if (custom && custom.level !== undefined) {\n    item.level = custom.level;\n    delete custom.level;\n  }\n  if (custom && custom.skipFrames !== undefined) {\n    item.skipFrames = custom.skipFrames;\n    delete custom.skipFrames;\n  }\n}\n\nfunction addErrorContext(item, errors) {\n  var custom = item.data.custom || {};\n  var contextAdded = false;\n\n  try {\n    for (const error of errors) {\n      if (hasOwn(error, 'rollbarContext')) {\n        custom = merge(custom, nonCircularClone(error.rollbarContext));\n        contextAdded = true;\n      }\n    }\n\n    // Avoid adding an empty object to the data.\n    if (contextAdded) {\n      item.data.custom = custom;\n    }\n  } catch (e) {\n    item.diagnostic.error_context = 'Failed: ' + e.message;\n  }\n}\n\nvar TELEMETRY_TYPES = [\n  'log',\n  'network',\n  'dom',\n  'navigation',\n  'error',\n  'manual',\n];\nvar TELEMETRY_LEVELS = ['critical', 'error', 'warning', 'info', 'debug'];\n\nfunction arrayIncludes(arr, val) {\n  for (const entry of arr) {\n    if (entry === val) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction createTelemetryEvent(args) {\n  var type, metadata, level;\n  var arg;\n\n  for (var i = 0, l = args.length; i < l; ++i) {\n    arg = args[i];\n\n    var typ = typeName(arg);\n    switch (typ) {\n      case 'string':\n        if (!type && arrayIncludes(TELEMETRY_TYPES, arg)) {\n          type = arg;\n        } else if (!level && arrayIncludes(TELEMETRY_LEVELS, arg)) {\n          level = arg;\n        }\n        break;\n      case 'object':\n        metadata = arg;\n        break;\n      default:\n        break;\n    }\n  }\n  var event = {\n    type: type || 'manual',\n    metadata: metadata || {},\n    level: level,\n  };\n\n  return event;\n}\n\nfunction addItemAttributes(itemData, attributes) {\n  itemData.attributes = itemData.attributes || [];\n  for (const a of attributes) {\n    if (a.value === undefined) {\n      continue;\n    }\n    itemData.attributes.push(a);\n  }\n}\n\n/*\n * get - given an obj/array and a keypath, return the value at that keypath or\n *       undefined if not possible.\n *\n * @param obj - an object or array\n * @param path - a string of keys separated by '.' such as 'plugin.jquery.0.message'\n *    which would correspond to 42 in `{plugin: {jquery: [{message: 42}]}}`\n */\nfunction get(obj, path) {\n  if (!obj) {\n    return undefined;\n  }\n  var keys = path.split('.');\n  var result = obj;\n  try {\n    for (var i = 0, len = keys.length; i < len; ++i) {\n      result = result[keys[i]];\n    }\n  } catch (_e) {\n    result = undefined;\n  }\n  return result;\n}\n\nfunction set(obj, path, value) {\n  if (!obj) {\n    return;\n  }\n\n  // Prevent prototype pollution by setting the prototype to null.\n  Object.setPrototypeOf(obj, null);\n\n  var keys = path.split('.');\n  var len = keys.length;\n  if (len < 1) {\n    return;\n  }\n  if (len === 1) {\n    obj[keys[0]] = value;\n    return;\n  }\n  try {\n    var temp = obj[keys[0]] || {};\n    var replacement = temp;\n    for (var i = 1; i < len - 1; ++i) {\n      temp[keys[i]] = temp[keys[i]] || {};\n      temp = temp[keys[i]];\n    }\n    temp[keys[len - 1]] = value;\n    obj[keys[0]] = replacement;\n  } catch (_e) {\n    return;\n  }\n}\n\nfunction formatArgsAsString(args) {\n  var i, len, arg;\n  var result = [];\n  for (i = 0, len = args.length; i < len; ++i) {\n    arg = args[i];\n    switch (typeName(arg)) {\n      case 'object':\n        arg = stringify(arg);\n        arg = arg.error || arg.value;\n        if (arg.length > 500) {\n          arg = arg.substr(0, 497) + '...';\n        }\n        break;\n      case 'null':\n        arg = 'null';\n        break;\n      case 'undefined':\n        arg = 'undefined';\n        break;\n      case 'symbol':\n        arg = arg.toString();\n        break;\n    }\n    result.push(arg);\n  }\n  return result.join(' ');\n}\n\nfunction now() {\n  if (Date.now) {\n    return Date.now();\n  }\n  return Number(new Date());\n}\n\nfunction filterIp(requestData, captureIp) {\n  if (!requestData || !requestData['user_ip'] || captureIp === true) {\n    return;\n  }\n  var newIp = requestData['user_ip'];\n  if (!captureIp) {\n    newIp = null;\n  } else {\n    try {\n      var parts;\n      if (newIp.indexOf('.') !== -1) {\n        parts = newIp.split('.');\n        parts.pop();\n        parts.push('0');\n        newIp = parts.join('.');\n      } else if (newIp.indexOf(':') !== -1) {\n        parts = newIp.split(':');\n        if (parts.length > 2) {\n          var beginning = parts.slice(0, 3);\n          var slashIdx = beginning[2].indexOf('/');\n          if (slashIdx !== -1) {\n            beginning[2] = beginning[2].substring(0, slashIdx);\n          }\n          var terminal = '0000:0000:0000:0000:0000';\n          newIp = beginning.concat(terminal).join(':');\n        }\n      } else {\n        newIp = null;\n      }\n    } catch (_e) {\n      newIp = null;\n    }\n  }\n  requestData['user_ip'] = newIp;\n}\n\nfunction handleOptions(current, input, payload, logger) {\n  var result = merge(current, input, payload);\n  result = updateDeprecatedOptions(result, logger);\n  if (!input || input.overwriteScrubFields) {\n    return result;\n  }\n  if (input.scrubFields) {\n    result.scrubFields = (current.scrubFields || []).concat(input.scrubFields);\n  }\n  return result;\n}\n\nfunction updateDeprecatedOptions(options, logger) {\n  if (options.hostWhiteList && !options.hostSafeList) {\n    options.hostSafeList = options.hostWhiteList;\n    options.hostWhiteList = undefined;\n    logger && logger.log('hostWhiteList is deprecated. Use hostSafeList.');\n  }\n  if (options.hostBlackList && !options.hostBlockList) {\n    options.hostBlockList = options.hostBlackList;\n    options.hostBlackList = undefined;\n    logger && logger.log('hostBlackList is deprecated. Use hostBlockList.');\n  }\n  return options;\n}\n\nfunction merge() {\n  function isPlainObject(obj) {\n    if (!obj || Object.prototype.toString.call(obj) !== '[object Object]') {\n      return false;\n    }\n\n    var hasOwnConstructor = hasOwn(obj, 'constructor');\n    var hasIsPrototypeOf =\n      obj.constructor &&\n      obj.constructor.prototype &&\n      hasOwn(obj.constructor.prototype, 'isPrototypeOf');\n    // Not own constructor property must be Object\n    if (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n      return false;\n    }\n\n    // Own properties are enumerated firstly, so to speed up,\n    // if last one is own, then all properties are own.\n    var key;\n    for (key in obj) {\n      /**/\n    }\n\n    return typeof key === 'undefined' || hasOwn(obj, key);\n  }\n\n  var i,\n    src,\n    copy,\n    clone,\n    name,\n    result = Object.create(null), // no prototype pollution on Object\n    current = null,\n    length = arguments.length;\n\n  for (i = 0; i < length; i++) {\n    current = arguments[i];\n    if (current === null || current === undefined) {\n      continue;\n    }\n\n    for (name in current) {\n      src = result[name];\n      copy = current[name];\n      if (result !== copy) {\n        if (copy && isPlainObject(copy)) {\n          clone = src && isPlainObject(src) ? src : {};\n          result[name] = merge(clone, copy);\n        } else if (typeof copy !== 'undefined') {\n          result[name] = copy;\n        }\n      }\n    }\n  }\n  return result;\n}\n\nexport {\n  addParamsAndAccessTokenToPath,\n  createItem,\n  addErrorContext,\n  createTelemetryEvent,\n  addItemAttributes,\n  filterIp,\n  formatArgsAsString,\n  formatUrl,\n  get,\n  handleOptions,\n  isError,\n  isFiniteNumber,\n  isFunction,\n  hasOwn,\n  isIterable,\n  isNativeFunction,\n  isObject,\n  isString,\n  isType,\n  isPromise,\n  isBrowser,\n  jsonParse,\n  LEVELS,\n  makeUnhandledStackInfo,\n  merge,\n  now,\n  redact,\n  sanitizeHref,\n  sanitizeUrl,\n  set,\n  stringify,\n  maxByteSize,\n  typeName,\n  uuid4,\n};\n","import * as _ from '../utility.js';\n\nfunction traverse(obj, func, seen) {\n  var k, v, i;\n  var isObj = _.isType(obj, 'object');\n  var isArray = _.isType(obj, 'array');\n  var keys = [];\n  var seenIndex;\n\n  // Best might be to use Map here with `obj` as the keys, but we want to support IE < 11.\n  seen = seen || { obj: [], mapped: [] };\n\n  if (isObj) {\n    seenIndex = seen.obj.indexOf(obj);\n\n    if (isObj && seenIndex !== -1) {\n      // Prefer the mapped object if there is one.\n      return seen.mapped[seenIndex] || seen.obj[seenIndex];\n    }\n\n    seen.obj.push(obj);\n    seenIndex = seen.obj.length - 1;\n  }\n\n  if (isObj) {\n    for (k in obj) {\n      if (_.hasOwn(obj, k)) {\n        keys.push(k);\n      }\n    }\n  } else if (isArray) {\n    for (i = 0; i < obj.length; ++i) {\n      keys.push(i);\n    }\n  }\n\n  var result = isObj ? {} : [];\n  var same = true;\n  for (i = 0; i < keys.length; ++i) {\n    k = keys[i];\n    v = obj[k];\n    result[k] = func(k, v, seen);\n    same = same && result[k] === obj[k];\n  }\n\n  if (isObj && !same) {\n    seen.mapped[seenIndex] = result;\n  }\n\n  return !same ? result : obj;\n}\n\nexport default traverse;\n","import traverse from './utility/traverse.js';\nimport * as _ from './utility.js';\n\nfunction scrub(data, scrubFields, scrubPaths) {\n  scrubFields = scrubFields || [];\n\n  if (scrubPaths) {\n    for (const path of scrubPaths) {\n      scrubPath(data, path);\n    }\n  }\n\n  var paramRes = _getScrubFieldRegexs(scrubFields);\n  var queryRes = _getScrubQueryParamRegexs(scrubFields);\n\n  function redactQueryParam(dummy0, paramPart) {\n    return paramPart + _.redact();\n  }\n\n  function paramScrubber(v) {\n    if (_.isType(v, 'string')) {\n      for (const regex of queryRes) {\n        v = v.replace(regex, redactQueryParam);\n      }\n    }\n    return v;\n  }\n\n  function valScrubber(k, v) {\n    for (const regex of paramRes) {\n      if (regex.test(k)) {\n        v = _.redact();\n        break;\n      }\n    }\n    return v;\n  }\n\n  function scrubber(k, v, seen) {\n    var tmpV = valScrubber(k, v);\n    if (tmpV === v) {\n      if (_.isType(v, 'object') || _.isType(v, 'array')) {\n        return traverse(v, scrubber, seen);\n      }\n      return paramScrubber(tmpV);\n    } else {\n      return tmpV;\n    }\n  }\n\n  return traverse(data, scrubber);\n}\n\nfunction scrubPath(obj, path) {\n  var keys = path.split('.');\n  var last = keys.length - 1;\n  try {\n    for (const [index, key] of keys.entries()) {\n      if (index < last) {\n        obj = obj[key];\n      } else {\n        obj[key] = _.redact();\n      }\n    }\n  } catch (_e) {\n    // Missing key is OK;\n  }\n}\n\nfunction _getScrubFieldRegexs(scrubFields) {\n  var ret = [];\n  for (const field of scrubFields) {\n    var pat = '^\\\\[?(%5[bB])?' + field + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?$';\n    ret.push(new RegExp(pat, 'i'));\n  }\n  return ret;\n}\n\nfunction _getScrubQueryParamRegexs(scrubFields) {\n  var ret = [];\n  for (const field of scrubFields) {\n    var pat = '\\\\[?(%5[bB])?' + field + '\\\\[?(%5[bB])?\\\\]?(%5[dD])?';\n    ret.push(new RegExp('(' + pat + '=)([^&\\\\n]+)', 'igm'));\n  }\n  return ret;\n}\n\nexport default scrub;\n","import * as _ from './utility.js';\n\nconst MAX_EVENTS = 100;\n\n// Temporary workaround while solving commonjs -> esm issues in Node 18 - 20.\nfunction fromMillis(millis) {\n  return [Math.trunc(millis / 1000), Math.round((millis % 1000) * 1e6)];\n}\n\nclass Telemeter {\n  constructor(options, tracing) {\n    this.queue = [];\n    this.options = _.merge(options);\n    var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n    this.maxQueueSize = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n    this.tracing = tracing;\n    this.telemetrySpan = this.tracing?.startSpan('rollbar-telemetry', {});\n  }\n\n  configure(options) {\n    var oldOptions = this.options;\n    this.options = _.merge(oldOptions, options);\n    var maxTelemetryEvents = this.options.maxTelemetryEvents || MAX_EVENTS;\n    var newMaxEvents = Math.max(0, Math.min(maxTelemetryEvents, MAX_EVENTS));\n    var deleteCount = 0;\n    if (this.queue.length > newMaxEvents) {\n      deleteCount = this.queue.length - newMaxEvents;\n    }\n    this.maxQueueSize = newMaxEvents;\n    this.queue.splice(0, deleteCount);\n  }\n\n  copyEvents() {\n    var events = Array.prototype.slice.call(this.queue, 0);\n    if (_.isFunction(this.options.filterTelemetry)) {\n      try {\n        var i = events.length;\n        while (i--) {\n          if (this.options.filterTelemetry(events[i])) {\n            events.splice(i, 1);\n          }\n        }\n      } catch (_e) {\n        this.options.filterTelemetry = null;\n      }\n    }\n\n    // Filter until supported in legacy telemetry\n    events = events.filter((e) => e.type !== 'connectivity');\n\n    // Remove internal keys from output\n    events = events.map(\n      ({ otelAttributes: _otelAttributes, ...event }) => event,\n    );\n\n    return events;\n  }\n\n  exportTelemetrySpan(attributes = {}) {\n    if (this.telemetrySpan) {\n      this.telemetrySpan.end(attributes);\n      this.telemetrySpan = this.tracing.startSpan('rollbar-telemetry', {});\n    }\n  }\n\n  capture(\n    type,\n    metadata,\n    level,\n    rollbarUUID,\n    timestamp = null,\n    otelAttributes = null,\n  ) {\n    var e = {\n      level: getLevel(type, level),\n      type: type,\n      timestamp_ms: timestamp || _.now(),\n      body: metadata,\n      source: 'client',\n    };\n    if (rollbarUUID) {\n      e.uuid = rollbarUUID;\n    }\n    if (otelAttributes) {\n      e.otelAttributes = otelAttributes;\n    }\n\n    try {\n      if (\n        _.isFunction(this.options.filterTelemetry) &&\n        this.options.filterTelemetry(e)\n      ) {\n        return false;\n      }\n    } catch (_exc) {\n      this.options.filterTelemetry = null;\n    }\n\n    this.push(e);\n    return e;\n  }\n\n  captureEvent(type, metadata, level, rollbarUUID) {\n    return this.capture(type, metadata, level, rollbarUUID);\n  }\n\n  captureError(err, level, rollbarUUID, timestamp) {\n    const message = err.message || String(err);\n    var metadata = { message };\n    if (err.stack) {\n      metadata.stack = err.stack;\n    }\n    const otelAttributes = {\n      message,\n      level,\n      type: 'error',\n      uuid: rollbarUUID,\n    };\n\n    this.telemetrySpan?.addEvent(\n      'rollbar-occurrence-event',\n      otelAttributes,\n      fromMillis(timestamp),\n    );\n\n    return this.capture(\n      'error',\n      metadata,\n      level,\n      rollbarUUID,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureLog(message, level, rollbarUUID, timestamp) {\n    const event = rollbarUUID\n      ? 'rollbar-occurrence-event'\n      : 'rollbar-log-event';\n    const otelAttributes = {\n      message,\n      level,\n      ...(rollbarUUID ? { type: 'message', uuid: rollbarUUID } : {}),\n    };\n\n    this.telemetrySpan?.addEvent(event, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'log',\n      { message },\n      level,\n      rollbarUUID,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureNetwork(metadata, subtype, rollbarUUID, requestData) {\n    subtype = subtype || 'xhr';\n    metadata.subtype = metadata.subtype || subtype;\n    if (requestData) {\n      metadata.request = requestData;\n    }\n    const level = this.levelFromStatus(metadata.status_code);\n    const endTimeNano = (metadata.end_time_ms || 0) * 1e6;\n    const otelAttributes = {\n      type: metadata.subtype,\n      method: metadata.method,\n      url: metadata.url,\n      statusCode: metadata.status_code,\n      'request.headers': JSON.stringify(metadata.request_headers || {}),\n      'response.headers': JSON.stringify(metadata.response?.headers || {}),\n      'response.timeUnixNano': endTimeNano.toString(),\n    };\n    const requestBody = metadata.request;\n    const responseBody = metadata.response?.body;\n    if (requestBody) {\n      otelAttributes['request.body'] = JSON.stringify(requestBody);\n    }\n    if (responseBody) {\n      otelAttributes['response.body'] = JSON.stringify(responseBody);\n    }\n\n    this.telemetrySpan?.addEvent(\n      'rollbar-network-event',\n      otelAttributes,\n      fromMillis(metadata.start_time_ms),\n    );\n\n    return this.capture(\n      'network',\n      metadata,\n      level,\n      rollbarUUID,\n      metadata.start_time_ms,\n      otelAttributes,\n    );\n  }\n\n  levelFromStatus(statusCode) {\n    if (statusCode >= 200 && statusCode < 400) {\n      return 'info';\n    }\n    if (statusCode === 0 || statusCode >= 400) {\n      return 'error';\n    }\n    return 'info';\n  }\n\n  captureDom(subtype, element, value, checked, rollbarUUID) {\n    var metadata = {\n      subtype: subtype,\n      element: element,\n    };\n    if (value !== undefined) {\n      metadata.value = value;\n    }\n    if (checked !== undefined) {\n      metadata.checked = checked;\n    }\n    return this.capture('dom', metadata, 'info', rollbarUUID);\n  }\n\n  captureInput({ type, isSynthetic, element, value, timestamp }) {\n    const name = 'rollbar-input-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      element,\n      value,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      element,\n      value,\n      endTimeUnixNano: fromMillis(timestamp),\n    };\n    const event = this._getRepeatedEvent(name, otelAttributes);\n    if (event) {\n      return this._updateRepeatedEvent(event, otelAttributes, timestamp);\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureClick({ type, isSynthetic, element, timestamp }) {\n    const name = 'rollbar-click-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      element,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      element,\n      endTimeUnixNano: fromMillis(timestamp),\n    };\n    const event = this._getRepeatedEvent(name, otelAttributes);\n    if (event) {\n      return this._updateRepeatedEvent(event, otelAttributes, timestamp);\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  _getRepeatedEvent(name, attributes) {\n    const lastEvent = this._lastEvent(this.queue);\n\n    if (\n      lastEvent &&\n      lastEvent.body.type === name &&\n      lastEvent.otelAttributes.target === attributes.target\n    ) {\n      return lastEvent;\n    }\n  }\n\n  _updateRepeatedEvent(event, attributes, timestamp) {\n    const duration = Math.max(timestamp - event.timestamp_ms, 1);\n    event.body.value = attributes.value;\n    event.otelAttributes.value = attributes.value;\n    event.otelAttributes.height = attributes.height;\n    event.otelAttributes.width = attributes.width;\n    event.otelAttributes.textZoomRatio = attributes.textZoomRatio;\n    event.otelAttributes['endTimeUnixNano'] = fromMillis(timestamp);\n    event.otelAttributes['durationUnixNano'] = fromMillis(duration);\n    event.otelAttributes.count = (event.otelAttributes.count || 1) + 1;\n    event.otelAttributes.rate = event.otelAttributes.count / (duration / 1000);\n  }\n\n  _lastEvent(list) {\n    return list.length > 0 ? list[list.length - 1] : null;\n  }\n\n  captureFocus({ type, isSynthetic, element, timestamp }) {\n    const name = 'rollbar-focus-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      element,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      element,\n    };\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureResize({\n    type,\n    isSynthetic,\n    width,\n    height,\n    textZoomRatio,\n    timestamp,\n  }) {\n    const name = 'rollbar-resize-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n      width,\n      height,\n      textZoomRatio,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n      width,\n      height,\n      textZoomRatio,\n    };\n\n    const event = this._getRepeatedEvent(name, otelAttributes);\n    if (event) {\n      return this._updateRepeatedEvent(event, otelAttributes, timestamp);\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureDragDrop({\n    type,\n    isSynthetic,\n    element,\n    dropEffect,\n    effectAllowed,\n    kinds,\n    mediaTypes,\n    timestamp,\n  }) {\n    const name = 'rollbar-dragdrop-event';\n    let metadata = {\n      type: name,\n      subtype: type,\n      isSynthetic,\n    };\n\n    let otelAttributes = {\n      type,\n      isSynthetic,\n    };\n\n    if (type === 'dragstart') {\n      metadata = { ...metadata, element, dropEffect, effectAllowed };\n      otelAttributes = {\n        ...otelAttributes,\n        element,\n        dropEffect,\n        effectAllowed,\n      };\n    }\n\n    if (type === 'drop') {\n      metadata = {\n        ...metadata,\n        element,\n        dropEffect,\n        effectAllowed,\n        kinds,\n        mediaTypes,\n      };\n      otelAttributes = {\n        ...otelAttributes,\n        element,\n        dropEffect,\n        effectAllowed,\n        kinds,\n        mediaTypes,\n      };\n    }\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'dom',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  captureNavigation(from, to, rollbarUUID, timestamp) {\n    this.telemetrySpan?.addEvent(\n      'rollbar-navigation-event',\n      { 'previous.url.full': from, 'url.full': to },\n      fromMillis(timestamp),\n    );\n\n    return this.capture(\n      'navigation',\n      { from, to },\n      'info',\n      rollbarUUID,\n      timestamp,\n    );\n  }\n\n  captureDomContentLoaded(ts) {\n    return this.capture(\n      'navigation',\n      { subtype: 'DOMContentLoaded' },\n      'info',\n      undefined,\n      ts && ts.getTime(),\n    );\n    /**\n     * If we decide to make this a dom event instead, then use the line below:\n    return this.capture('dom', {subtype: 'DOMContentLoaded'}, 'info', undefined, ts && ts.getTime());\n    */\n  }\n\n  captureLoad(ts) {\n    return this.capture(\n      'navigation',\n      { subtype: 'load' },\n      'info',\n      undefined,\n      ts && ts.getTime(),\n    );\n    /**\n     * If we decide to make this a dom event instead, then use the line below:\n    return this.capture('dom', {subtype: 'load'}, 'info', undefined, ts && ts.getTime());\n    */\n  }\n\n  captureConnectivityChange({ type, isSynthetic, timestamp }) {\n    const name = 'rollbar-connectivity-event';\n    const metadata = {\n      type: name,\n      subtype: type,\n    };\n    const otelAttributes = {\n      type,\n      isSynthetic,\n    };\n\n    this.telemetrySpan?.addEvent(name, otelAttributes, fromMillis(timestamp));\n\n    return this.capture(\n      'connectivity',\n      metadata,\n      'info',\n      null,\n      timestamp,\n      otelAttributes,\n    );\n  }\n\n  // Only intended to be used internally by the notifier\n  _captureRollbarItem(item) {\n    if (!this.options.includeItemsInTelemetry) {\n      return;\n    }\n    if (item.err) {\n      return this.captureError(item.err, item.level, item.uuid, item.timestamp);\n    }\n    if (item.message) {\n      return this.captureLog(\n        item.message,\n        item.level,\n        item.uuid,\n        item.timestamp,\n      );\n    }\n    if (item.custom) {\n      return this.capture(\n        'log',\n        item.custom,\n        item.level,\n        item.uuid,\n        item.timestamp,\n      );\n    }\n  }\n\n  push(e) {\n    this.queue.push(e);\n    if (this.queue.length > this.maxQueueSize) {\n      this.queue.shift();\n    }\n  }\n}\n\nfunction getLevel(type, level) {\n  if (level) {\n    return level;\n  }\n  var defaultLevel = {\n    error: 'error',\n    manual: 'info',\n  };\n  return defaultLevel[type] || 'info';\n}\n\nexport default Telemeter;\n","export class Context {\n  constructor(parentContext) {\n    this._currentContext = parentContext ? new Map(parentContext) : new Map();\n  }\n\n  getValue(key) {\n    return this._currentContext.get(key);\n  }\n\n  setValue(key, value) {\n    const context = new Context(this._currentContext);\n    context._currentContext.set(key, value);\n    return context;\n  }\n\n  deleteValue(key) {\n    const context = new Context(self._currentContext);\n    context._currentContext.delete(key);\n    return context;\n  }\n}\n\nexport const ROOT_CONTEXT = new Context();\n","import { ROOT_CONTEXT } from './context.js';\n\nexport class ContextManager {\n  constructor() {\n    this.currentContext = ROOT_CONTEXT;\n  }\n\n  active() {\n    return this.currentContext;\n  }\n\n  enterContext(context) {\n    const previousContext = this.currentContext;\n    this.currentContext = context || ROOT_CONTEXT;\n    return previousContext;\n  }\n\n  exitContext(context) {\n    this.currentContext = context;\n    return this.currentContext;\n  }\n\n  with(context, fn, thisArg, ...args) {\n    const previousContext = this.enterContext(context);\n    try {\n      return fn.call(thisArg, ...args);\n    } finally {\n      this.exitContext(previousContext);\n    }\n  }\n}\n\nexport function createContextKey(key) {\n  // Use Symbol for OpenTelemetry compatibility.\n  return Symbol.for(key);\n}\n","/**\n * @module hrtime\n *\n * @description Methods for handling OpenTelemetry hrtime.\n */\n\n/**\n * Convert a duration in milliseconds to an OpenTelemetry hrtime tuple.\n *\n * @param {number} millis - The duration in milliseconds.\n * @returns {[number, number]} An array where the first element is seconds\n *   and the second is nanoseconds.\n */\nfunction fromMillis(millis) {\n  return [Math.trunc(millis / 1000), Math.round((millis % 1000) * 1e6)];\n}\n\n/**\n * Convert an OpenTelemetry hrtime tuple back to a duration in milliseconds.\n *\n * @param {[number, number]} hrtime - The hrtime tuple [seconds, nanoseconds].\n * @returns {number} The total duration in milliseconds.\n */\nfunction toMillis(hrtime) {\n  return hrtime[0] * 1e3 + Math.round(hrtime[1] / 1e6);\n}\n\n/**\n * Convert an OpenTelemetry hrtime tuple back to a duration in nanoseconds.\n *\n * @param {[number, number]} hrtime - The hrtime tuple [seconds, nanoseconds].\n * @returns {number} The total duration in nanoseconds.\n */\nfunction toNanos(hrtime) {\n  return hrtime[0] * 1e9 + hrtime[1];\n}\n\n/**\n * Adds two OpenTelemetry hrtime tuples.\n *\n * @param {[number, number]} a - The first hrtime tuple [s, ns].\n * @param {[number, number]} b - The second hrtime tuple [s, ns].\n * @returns {[number, number]} Summed hrtime tuple, normalized.\n *\n */\nfunction add(a, b) {\n  return [a[0] + b[0] + Math.trunc((a[1] + b[1]) / 1e9), (a[1] + b[1]) % 1e9];\n}\n\n/**\n * Get the current high-resolution time as an OpenTelemetry hrtime tuple.\n *\n * @param {boolean} usePerformance=false - If true, uses the Performance API (timeOrigin + now()).\n *\n * @returns {[number, number]} The current hrtime tuple [s, ns].\n */\nfunction now(usePerformance = false) {\n  if (usePerformance) {\n    return add(\n      fromMillis(performance.timeOrigin),\n      fromMillis(performance.now()),\n    );\n  }\n  return fromMillis(Date.now());\n}\n\n/**\n * Check if a value is a valid OpenTelemetry hrtime tuple.\n *\n * An hrtime tuple is an Array of exactly two numbers:\n *   [seconds, nanoseconds]\n *\n * @param {*} value  anything to test\n * @returns {boolean} true if `value` is a [number, number] array of length 2\n *\n * @example\n * isHrTime([ 1, 500 ]);         // true\n * isHrTime([ 0, 1e9 ]);         // true\n * isHrTime([ '1', 500 ]);       // false\n * isHrTime({ 0: 1, 1: 500 });   // false\n */\nfunction isHrTime(value) {\n  return (\n    Array.isArray(value) &&\n    value.length === 2 &&\n    typeof value[0] === 'number' &&\n    typeof value[1] === 'number'\n  );\n}\n\n/**\n * Methods for handling hrtime. OpenTelemetry uses the [seconds, nanoseconds]\n * format for hrtime in the `ReadableSpan` interface.\n *\n * @example\n * import hrtime from '@tracing/hrtime.js';\n *\n * hrtime.fromMillis(1000);\n * hrtime.toMillis([0, 1000]);\n * hrtime.add([0, 0], [0, 1000]);\n * hrtime.now();\n * hrtime.isHrTime([0, 1000]);\n */\nexport default { fromMillis, toMillis, toNanos, add, now, isHrTime };\n","import hrtime from './hrtime.js';\n\n/**\n * SpanExporter is responsible for exporting ReadableSpan objects\n * and transforming them into the OTLP-compatible format.\n */\nexport class SpanExporter {\n  constructor(api, options = {}) {\n    this.api = api;\n    this.options = options;\n  }\n\n  /**\n   * Export spans to the span export queue\n   *\n   * @param {Array} spans - Array of ReadableSpan objects to export\n   * @param {Function} _resultCallback - Optional callback (not used)\n   */\n  export(spans, _resultCallback) {\n    spanExportQueue.push(...spans);\n  }\n\n  /**\n   * Transforms an array of ReadableSpan objects into the OTLP format payload\n   * compatible with the Rollbar API. This follows the OpenTelemetry protocol\n   * specification for traces.\n   *\n   * @returns {Object} OTLP format payload for API transmission\n   */\n  toPayload() {\n    const spans = spanExportQueue.slice();\n    spanExportQueue.length = 0;\n\n    if (!spans || !spans.length) {\n      return { resourceSpans: [] };\n    }\n\n    const resource = (spans[0] && spans[0].resource) || {};\n\n    const scopeMap = new Map();\n\n    for (const span of spans) {\n      const scopeKey = span.instrumentationScope\n        ? `${span.instrumentationScope.name}:${span.instrumentationScope.version}`\n        : 'default:1.0.0';\n\n      if (!scopeMap.has(scopeKey)) {\n        scopeMap.set(scopeKey, {\n          scope: span.instrumentationScope || {\n            name: 'default',\n            version: '1.0.0',\n            attributes: [],\n          },\n          spans: [],\n        });\n      }\n\n      scopeMap.get(scopeKey).spans.push(this._transformSpan(span));\n    }\n\n    return {\n      resourceSpans: [\n        {\n          resource: this._transformResource(resource),\n          scopeSpans: Array.from(scopeMap.values()).map((scopeData) => ({\n            scope: this._transformInstrumentationScope(scopeData.scope),\n            spans: scopeData.spans,\n          })),\n        },\n      ],\n    };\n  }\n\n  /**\n   * Sends the given payload to the Rollbar API.\n   *\n   * @param {String} payload - Serialized OTLP format payload\n   * @param {Object} headers - Optional request headers\n   * @returns {Promise} Promise that resolves when the request completes\n   */\n  post(payload, headers = {}) {\n    return this.api.postSpans(payload, headers);\n  }\n\n  /**\n   * Transforms a ReadableSpan into the OTLP Span format\n   *\n   * @private\n   * @param {Object} span - ReadableSpan object to transform\n   * @returns {Object} OTLP Span format\n   */\n  _transformSpan(span) {\n    const transformAttributes = (attributes) => {\n      return Object.entries(attributes || {}).map(([key, value]) => ({\n        key,\n        value: this._transformAnyValue(value),\n      }));\n    };\n\n    const transformEvents = (events) => {\n      return (events || []).map((event) => ({\n        timeUnixNano: hrtime.toNanos(event.time),\n        name: event.name,\n        attributes: transformAttributes(event.attributes),\n      }));\n    };\n\n    return {\n      traceId: span.spanContext.traceId,\n      spanId: span.spanContext.spanId,\n      parentSpanId: span.parentSpanId || '',\n      name: span.name,\n      kind: span.kind || 1, // INTERNAL by default\n      startTimeUnixNano: hrtime.toNanos(span.startTime),\n      endTimeUnixNano: hrtime.toNanos(span.endTime),\n      attributes: transformAttributes(span.attributes),\n      events: transformEvents(span.events),\n    };\n  }\n\n  /**\n   * Transforms a resource object into OTLP Resource format\n   *\n   * @private\n   * @param {Object} resource - Resource information\n   * @returns {Object} OTLP Resource format\n   */\n  _transformResource(resource) {\n    const attributes = resource.attributes || {};\n    const keyValues = Object.entries(attributes).map(([key, value]) => ({\n      key,\n      value: this._transformAnyValue(value),\n    }));\n\n    return {\n      attributes: keyValues,\n    };\n  }\n\n  /**\n   * Transforms an instrumentation scope into OTLP InstrumentationScope format\n   *\n   * @private\n   * @param {Object} scope - Instrumentation scope information\n   * @returns {Object} OTLP InstrumentationScope format\n   */\n  _transformInstrumentationScope(scope) {\n    return {\n      name: scope.name || '',\n      version: scope.version || '',\n      attributes: (scope.attributes || []).map((attr) => ({\n        key: attr.key,\n        value: this._transformAnyValue(attr.value),\n      })),\n    };\n  }\n\n  /**\n   * Transforms a JavaScript value into an OTLP AnyValue\n   *\n   * @private\n   * @param {any} value - Value to transform\n   * @returns {Object} OTLP AnyValue format\n   */\n  _transformAnyValue(value) {\n    if (value === null || value === undefined) {\n      return { stringValue: '' };\n    }\n\n    const type = typeof value;\n\n    if (type === 'string') {\n      return { stringValue: value };\n    } else if (type === 'number') {\n      if (Number.isInteger(value)) {\n        return { intValue: value.toString() };\n      } else {\n        return { doubleValue: value };\n      }\n    } else if (type === 'boolean') {\n      return { boolValue: value };\n    } else if (Array.isArray(value)) {\n      return {\n        arrayValue: {\n          values: value.map((v) => this._transformAnyValue(v)),\n        },\n      };\n    } else if (type === 'object') {\n      return {\n        kvlistValue: {\n          values: Object.entries(value).map(([k, v]) => ({\n            key: k,\n            value: this._transformAnyValue(v),\n          })),\n        },\n      };\n    }\n\n    return { stringValue: String(value) };\n  }\n}\n\nexport const spanExportQueue = [];\n","/**\n * Generate a random hexadecimal ID of specified byte length\n *\n * @param {number} bytes - Number of bytes for the ID (default: 16)\n * @returns {string} - Hexadecimal string representation\n */\nfunction gen(bytes = 16) {\n  let randomBytes = new Uint8Array(bytes);\n  crypto.getRandomValues(randomBytes);\n  let randHex = Array.from(randomBytes, (byte) =>\n    byte.toString(16).padStart(2, '0'),\n  ).join('');\n  return randHex;\n}\n\n/**\n * Tracing id generation utils\n *\n * @example\n * import id from './id.js';\n *\n * const spanId = id.gen(8); // => \"a1b2c3d4e5f6...\"\n */\nexport default { gen };\n","import id from './id.js';\n\nconst SESSION_KEY = 'RollbarSession';\n\nexport class Session {\n  _attributes;\n\n  constructor(tracing, options) {\n    this.options = options;\n    this.tracing = tracing;\n    this.window = tracing.window;\n    this.session = null;\n    this._attributes = {};\n  }\n\n  init(attrs = {}) {\n    if (this.session) {\n      return this;\n    }\n    this.getSession() || this.createSession();\n\n    this.initSessionAttributes(attrs);\n\n    return this;\n  }\n\n  getSession() {\n    try {\n      const serializedSession = this.window.sessionStorage.getItem(SESSION_KEY);\n\n      if (!serializedSession) {\n        return null;\n      }\n\n      this.session = JSON.parse(serializedSession);\n    } catch {\n      return null;\n    }\n    return this;\n  }\n\n  createSession() {\n    this.session = {\n      id: id.gen(),\n      createdAt: Date.now(),\n    };\n\n    return this.setSession(this.session);\n  }\n\n  setSession(session) {\n    const sessionString = JSON.stringify(session);\n\n    try {\n      this.window.sessionStorage.setItem(SESSION_KEY, sessionString);\n    } catch {\n      return null;\n    }\n    return this;\n  }\n\n  get attributes() {\n    return this._attributes;\n  }\n\n  setAttributes(attributes) {\n    this._attributes = { ...this._attributes, ...attributes };\n    return this;\n  }\n\n  setUser(user) {\n    this.setAttributes({\n      'user.id': user?.id,\n      'user.email': user?.email,\n      'user.name': user?.name || user?.username,\n    });\n    return this;\n  }\n\n  initSessionAttributes(attrs) {\n    this.setAttributes({\n      'session.id': this.session.id,\n      'browser.brands': navigator.userAgentData?.brands,\n      'browser.language': navigator.language,\n      'browser.mobile': navigator.userAgentData?.mobile,\n      'browser.platform': navigator.userAgentData?.platform,\n      'client.address': '$remote_ip', // updated at the API\n      'rollbar.notifier.framework': 'browser-js',\n      'user_agent.original': navigator.userAgent,\n      ...attrs,\n    });\n    return this;\n  }\n}\n","let log = () => {};\n\nconst levels = {\n  debug: 0,\n  info: 1,\n  warn: 2,\n  error: 3,\n  disable: 4,\n};\n\nconst logger = {\n  error: (...args) => log('error', args),\n  warn: (...args) => log('warn', args),\n  info: (...args) => log('info', args),\n  debug: (...args) => log('debug', args),\n  log: (...args) => log('info', args),\n  init: ({ logLevel }) => {\n    log = function (level, args) {\n      if (levels[level] < levels[logLevel]) return;\n\n      args.unshift('Rollbar:');\n\n      // eslint-disable-next-line no-console\n      console[level].apply(console, args);\n    };\n  },\n};\n\nexport default logger;\n","import logger from '../logger.js';\n\nexport class SpanProcessor {\n  constructor(exporter, options = {}) {\n    this.exporter = exporter;\n    this.options = options;\n    this.pendingSpans = new Map();\n    this.transforms = [this.userTransform.bind(this)];\n  }\n\n  addTransform(transformFn) {\n    this.transforms.unshift(transformFn);\n  }\n\n  userTransform(span) {\n    if (this.options.transformSpan) {\n      this.options.transformSpan({ span: span });\n    }\n  }\n\n  applyTransforms(span) {\n    for (const transform of this.transforms) {\n      try {\n        transform(span);\n      } catch (e) {\n        logger.error('Error running span transform callback', e);\n      }\n    }\n  }\n\n  onStart(span, _parentContext) {\n    this.pendingSpans.set(span.span.spanContext.spanId, span);\n  }\n\n  onEnd(span) {\n    this.applyTransforms(span.span);\n    this.exporter.export([span.export()]);\n    this.pendingSpans.delete(span.span.spanContext.spanId);\n  }\n}\n","import hrtime from './hrtime.js';\n\nexport class Span {\n  constructor(options) {\n    this.usePerformance = options.usePerformance;\n    this.initReadableSpan(options);\n\n    this.spanProcessor = options.spanProcessor;\n    this.spanProcessor.onStart(this, options.context);\n\n    if (options.attributes) {\n      this.setAttributes(options.attributes);\n    }\n    return this;\n  }\n\n  initReadableSpan(options) {\n    this.span = {\n      name: options.name,\n      kind: options.kind,\n      spanContext: options.spanContext,\n      parentSpanId: options.parentSpanId,\n      startTime: options.startTime || hrtime.now(options.usePerformance),\n      endTime: [0, 0],\n      status: { code: 0, message: '' },\n      attributes: { 'session.id': options.session?.id },\n      links: [],\n      events: [],\n      duration: 0,\n      ended: false,\n      resource: options.resource,\n      instrumentationScope: options.scope,\n      droppedAttributesCount: 0,\n      droppedEventsCount: 0,\n      droppedLinksCount: 0,\n    };\n  }\n\n  spanContext() {\n    return this.span.spanContext;\n  }\n\n  get spanId() {\n    return this.span.spanContext.spanId;\n  }\n\n  get traceId() {\n    return this.span.spanContext.traceId;\n  }\n\n  setAttribute(key, value) {\n    if (value == null || this.span.ended) return this;\n    if (key.length === 0) return this;\n\n    this.span.attributes[key] = value;\n    return this;\n  }\n\n  setAttributes(attributes) {\n    for (const [k, v] of Object.entries(attributes)) {\n      this.setAttribute(k, v);\n    }\n    return this;\n  }\n\n  addEvent(name, attributes = {}, time) {\n    if (this.span.ended) return this;\n\n    this.span.events.push({\n      name,\n      attributes,\n      time: time || hrtime.now(),\n      droppedAttributesCount: 0,\n    });\n\n    return this;\n  }\n\n  isRecording() {\n    return this.span.ended === false;\n  }\n\n  end(attributes, time) {\n    if (attributes) this.setAttributes(attributes);\n    this.span.endTime = time || hrtime.now(this.usePerformance);\n    this.span.ended = true;\n    this.spanProcessor.onEnd(this);\n  }\n\n  export() {\n    return this.span;\n  }\n}\n","import id from './id.js';\nimport { Span } from './span.js';\n\nexport class Tracer {\n  constructor(tracing, spanProcessor) {\n    this.spanProcessor = spanProcessor;\n    this.tracing = tracing;\n  }\n\n  startSpan(\n    name,\n    options = {},\n    context = this.tracing.contextManager.active(),\n  ) {\n    const parentSpan = this.tracing.getSpan(context);\n    const parentSpanContext = parentSpan?.spanContext();\n    const spanId = id.gen(8);\n    let traceId;\n    let traceFlags = 0;\n    let traceState = null;\n    let parentSpanId;\n    if (parentSpanContext) {\n      traceId = parentSpanContext.traceId;\n      traceState = parentSpanContext.traceState;\n      parentSpanId = parentSpanContext.spanId;\n    } else {\n      traceId = id.gen(16);\n    }\n\n    const kind = 0;\n    const spanContext = { traceId, spanId, traceFlags, traceState };\n    const resource = {\n      attributes: {\n        ...(this.tracing.resource?.attributes || {}),\n        ...(options.resource?.attributes || {}),\n      },\n    };\n\n    const span = new Span({\n      resource: resource,\n      scope: this.tracing.scope,\n      session: this.tracing.session?.session,\n      context,\n      spanContext,\n      name,\n      kind,\n      parentSpanId,\n      spanProcessor: this.spanProcessor,\n      startTime: options.startTime,\n      usePerformance: options.usePerformance,\n    });\n    return span;\n  }\n}\n","import { ContextManager, createContextKey } from './contextManager.js';\nimport { SpanExporter } from './exporter.js';\nimport id from './id.js';\nimport { Session } from './session.js';\nimport { SpanProcessor } from './spanProcessor.js';\nimport { Tracer } from './tracer.js';\n\nconst SPAN_KEY = createContextKey('Rollbar Context Key SPAN');\n\nexport default class Tracing {\n  constructor(gWindow, api, options) {\n    this.api = api;\n    this.options = options;\n    this.window = gWindow;\n\n    if (this.window.sessionStorage) {\n      this.session = new Session(this, options);\n    }\n    this.createTracer();\n  }\n\n  configure(options) {\n    // Options merge happens before configure is called, so we can just replace.\n    this.options = options;\n  }\n\n  initSession() {\n    if (this.session) {\n      this.session.init();\n    }\n  }\n\n  get sessionId() {\n    if (this.session) {\n      return this.session.session.id;\n    }\n    return null;\n  }\n\n  get resource() {\n    return {\n      attributes: {\n        ...(this.options.resource || {}),\n        'rollbar.environment':\n          this.options.payload?.environment ?? this.options.environment,\n      },\n    };\n  }\n\n  get scope() {\n    return {\n      name: 'rollbar-browser-js',\n      version: this.options.version,\n    };\n  }\n\n  idGen(bytes = 16) {\n    return id.gen(bytes);\n  }\n\n  createTracer() {\n    this.contextManager = new ContextManager();\n    this.exporter = new SpanExporter(this.api, this.options);\n    this.spanProcessor = new SpanProcessor(this.exporter, this.options.tracing);\n    this.tracer = new Tracer(this, this.spanProcessor);\n  }\n\n  getTracer() {\n    return this.tracer;\n  }\n\n  addSpanTransform(transformFn) {\n    this.spanProcessor.addTransform(transformFn);\n  }\n\n  getSpan(context = this.contextManager.active()) {\n    return context.getValue(SPAN_KEY);\n  }\n\n  setSpan(context = this.contextManager.active(), span) {\n    return context.setValue(SPAN_KEY, span);\n  }\n\n  startSpan(name, options = {}, context = this.contextManager.active()) {\n    return this.tracer.startSpan(name, options, context);\n  }\n\n  with(context, fn, thisArg, ...args) {\n    return this.contextManager.with(context, fn, thisArg, ...args);\n  }\n\n  withSpan(name, options, fn, thisArg) {\n    const span = this.startSpan(name, options);\n    return this.with(\n      this.setSpan(this.contextManager.active(), span),\n      fn,\n      thisArg,\n      span,\n    );\n  }\n}\n","import traverse from './utility/traverse.js';\nimport * as _ from './utility.js';\n\nfunction raw(payload, jsonBackup) {\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction selectFrames(frames, range) {\n  var len = frames.length;\n  if (len > range * 2) {\n    return frames.slice(0, range).concat(frames.slice(len - range));\n  }\n  return frames;\n}\n\nfunction truncateFrames(payload, jsonBackup, range) {\n  range = typeof range === 'undefined' ? 30 : range;\n  var body = payload.data.body;\n  var frames;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (const trace of chain) {\n      frames = trace.frames;\n      frames = selectFrames(frames, range);\n      trace.frames = frames;\n    }\n  } else if (body.trace) {\n    frames = body.trace.frames;\n    frames = selectFrames(frames, range);\n    body.trace.frames = frames;\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction maybeTruncateValue(len, val) {\n  if (!val) {\n    return val;\n  }\n  if (val.length > len) {\n    return val.slice(0, len - 3).concat('...');\n  }\n  return val;\n}\n\nfunction truncateStrings(len, payload, jsonBackup) {\n  function truncator(k, v, seen) {\n    switch (_.typeName(v)) {\n      case 'string':\n        return maybeTruncateValue(len, v);\n      case 'object':\n      case 'array':\n        return traverse(v, truncator, seen);\n      default:\n        return v;\n    }\n  }\n  payload = traverse(payload, truncator);\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction truncateTraceData(traceData) {\n  if (traceData.exception) {\n    delete traceData.exception.description;\n    traceData.exception.message = maybeTruncateValue(\n      255,\n      traceData.exception.message,\n    );\n  }\n  traceData.frames = selectFrames(traceData.frames, 1);\n  return traceData;\n}\n\nfunction minBody(payload, jsonBackup) {\n  var body = payload.data.body;\n  if (body.trace_chain) {\n    var chain = body.trace_chain;\n    for (const [index, trace] of chain.entries()) {\n      chain[index] = truncateTraceData(trace);\n    }\n  } else if (body.trace) {\n    body.trace = truncateTraceData(body.trace);\n  }\n  return [payload, _.stringify(payload, jsonBackup)];\n}\n\nfunction needsTruncation(payload, maxSize) {\n  return _.maxByteSize(payload) > maxSize;\n}\n\nfunction truncate(payload, jsonBackup, maxSize) {\n  maxSize = typeof maxSize === 'undefined' ? 512 * 1024 : maxSize;\n  var strategies = [\n    raw,\n    truncateFrames,\n    truncateStrings.bind(null, 1024),\n    truncateStrings.bind(null, 512),\n    truncateStrings.bind(null, 256),\n    minBody,\n  ];\n  var strategy, results, result;\n\n  while ((strategy = strategies.shift())) {\n    results = strategy(payload, jsonBackup);\n    payload = results[0];\n    result = results[1];\n    if (result.error || !needsTruncation(result.value, maxSize)) {\n      return result;\n    }\n  }\n  return result;\n}\n\nexport default {\n  truncate,\n\n  /* for testing */\n  raw,\n  truncateFrames,\n  truncateStrings,\n  maybeTruncateValue,\n};\n","import * as _ from './utility.js';\n\nfunction buildPayload(data) {\n  if (!_.isType(data.context, 'string')) {\n    var contextResult = _.stringify(data.context);\n    if (contextResult.error) {\n      data.context = \"Error: could not serialize 'context'\";\n    } else {\n      data.context = contextResult.value || '';\n    }\n    if (data.context.length > 255) {\n      data.context = data.context.substr(0, 255);\n    }\n  }\n  return {\n    data: data,\n  };\n}\n\nfunction getTransportFromOptions(options, defaults, url) {\n  var hostname = defaults.hostname;\n  var protocol = defaults.protocol;\n  var port = defaults.port;\n  var path = defaults.path;\n  var search = defaults.search;\n  var timeout = options.timeout;\n  var transport = detectTransport(options);\n\n  var proxy = options.proxy;\n  if (options.endpoint) {\n    var opts = url.parse(options.endpoint);\n    hostname = opts.hostname;\n    protocol = opts.protocol;\n    port = opts.port;\n    path = opts.pathname;\n    search = opts.search;\n  }\n  return {\n    timeout: timeout,\n    hostname: hostname,\n    protocol: protocol,\n    port: port,\n    path: path,\n    search: search,\n    proxy: proxy,\n    transport: transport,\n  };\n}\n\nfunction detectTransport(options) {\n  var gWindow =\n    (typeof window !== 'undefined' && window) ||\n    (typeof self !== 'undefined' && self);\n  var transport = options.defaultTransport || 'xhr';\n  if (typeof gWindow.fetch === 'undefined') transport = 'xhr';\n  if (typeof gWindow.XMLHttpRequest === 'undefined') transport = 'fetch';\n  return transport;\n}\n\nfunction transportOptions(transport, method) {\n  var protocol = transport.protocol || 'https:';\n  var port =\n    transport.port ||\n    (protocol === 'http:' ? 80 : protocol === 'https:' ? 443 : undefined);\n  var hostname = transport.hostname;\n  var path = transport.path;\n  var timeout = transport.timeout;\n  var transportAPI = transport.transport;\n  if (transport.search) {\n    path = path + transport.search;\n  }\n  if (transport.proxy) {\n    path = protocol + '//' + hostname + path;\n    hostname = transport.proxy.host || transport.proxy.hostname;\n    port = transport.proxy.port;\n    protocol = transport.proxy.protocol || protocol;\n  }\n  return {\n    timeout: timeout,\n    protocol: protocol,\n    hostname: hostname,\n    path: path,\n    port: port,\n    method: method,\n    transport: transportAPI,\n  };\n}\n\nfunction appendPathToPath(base, path) {\n  var baseTrailingSlash = /\\/$/.test(base);\n  var pathBeginningSlash = /^\\//.test(path);\n\n  if (baseTrailingSlash && pathBeginningSlash) {\n    path = path.substring(1);\n  } else if (!baseTrailingSlash && !pathBeginningSlash) {\n    path = '/' + path;\n  }\n\n  return base + path;\n}\n\nexport {\n  buildPayload,\n  getTransportFromOptions,\n  transportOptions,\n  appendPathToPath,\n};\n","import * as helpers from './apiUtility.js';\nimport { stringify, merge } from './utility.js';\n\nconst defaultOptions = {\n  hostname: 'api.rollbar.com',\n  path: '/api/1/item/',\n  search: null,\n  version: '1',\n  protocol: 'https:',\n  port: 443,\n};\n\nconst OTLPDefaultOptions = {\n  hostname: 'api.rollbar.com',\n  path: '/api/1/session/',\n  search: null,\n  version: '1',\n  protocol: 'https:',\n  port: 443,\n};\n\n/**\n * Api encapsulates methods of communicating with the Rollbar API.  It is a\n * standard interface with some parts implemented differently for server or\n * browser contexts.  It is an object that should be instantiated when used so\n * it can contain non-global options that may be different for another instance\n * of RollbarApi.\n */\nclass Api {\n  /**\n   * @param {Object} options - Configuration supplied from the parent Rollbar instance.\n   * @param {string} options.accessToken - Token used to authenticate API calls.\n   * @param {string} [options.endpoint] - Optional fully qualified URL overriding\n   *   the default `https://api.rollbar.com/api/1/item`.\n   * @param {Object} [options.proxy] - Optional proxy descriptor containing:\n   *   `host`/`hostname` (required), `port`, and `protocol`.\n   * @param {Object} transport - Adapter implementing `post` and `postJsonPayload`.\n   * @param {Object} urllib - Minimal URL helper used for option normalization.\n   * @param {Object} truncation - Optional truncation helper for payload size enforcement.\n   */\n  constructor(options, transport, urllib, truncation) {\n    this.options = options;\n    this.transport = transport;\n    this.url = urllib;\n    this.truncation = truncation;\n    this.accessToken = options.accessToken;\n    this.transportOptions = _getTransport(options, urllib);\n    this.OTLPTransportOptions = _getOTLPTransport(options, urllib);\n  }\n\n  /**\n   * Wraps transport.post in a Promise to support async/await\n   *\n   * @param {Object} options - Options for the API request\n   * @param {string} options.accessToken - The access token for authentication\n   * @param {Object} options.transportOptions - Options for the transport\n   * @param {Object} options.payload - The data payload to send\n   * @returns {Promise} A promise that resolves with the response or rejects with an error\n   * @private\n   */\n  _postPromise({ accessToken, options, payload, headers }) {\n    return new Promise((resolve, reject) => {\n      this.transport.post({\n        accessToken,\n        options,\n        payload,\n        headers,\n        callback: (err, resp) => (err ? reject(err) : resolve(resp)),\n      });\n    });\n  }\n\n  /**\n   *\n   * @param data\n   * @param callback\n   */\n  postItem(data, callback) {\n    const options = helpers.transportOptions(this.transportOptions, 'POST');\n    const payload = helpers.buildPayload(data);\n\n    // ensure the network request is scheduled after the current tick.\n    setTimeout(() => {\n      this.transport.post({\n        accessToken: this.accessToken,\n        options,\n        payload,\n        callback,\n      });\n    }, 0);\n  }\n\n  /**\n   * Posts spans to the Rollbar API using the session endpoint\n   *\n   * @param {Array} payload - The spans to send\n   * @returns {Promise<Object>} A promise that resolves with the API response\n   */\n  async postSpans(payload, headers = {}) {\n    const options = helpers.transportOptions(this.OTLPTransportOptions, 'POST');\n\n    return this._postPromise({\n      accessToken: this.accessToken,\n      options,\n      payload,\n      headers,\n    });\n  }\n\n  /**\n   *\n   * @param data\n   * @param callback\n   */\n  buildJsonPayload(data, callback) {\n    const payload = helpers.buildPayload(data);\n\n    let stringifyResult;\n    if (this.truncation) {\n      stringifyResult = this.truncation.truncate(payload);\n    } else {\n      stringifyResult = stringify(payload);\n    }\n\n    if (stringifyResult.error) {\n      if (callback) {\n        callback(stringifyResult.error);\n      }\n      return null;\n    }\n\n    return stringifyResult.value;\n  }\n\n  /**\n   *\n   * @param jsonPayload\n   * @param callback\n   */\n  postJsonPayload(jsonPayload, callback) {\n    const transportOptions = helpers.transportOptions(\n      this.transportOptions,\n      'POST',\n    );\n    this.transport.postJsonPayload(\n      this.accessToken,\n      transportOptions,\n      jsonPayload,\n      callback,\n    );\n  }\n\n  configure(options) {\n    const oldOptions = this.options;\n    this.options = merge(oldOptions, options);\n    this.transportOptions = _getTransport(this.options, this.url);\n    this.OTLPTransportOptions = _getOTLPTransport(this.options, this.url);\n    if (this.options.accessToken !== undefined) {\n      this.accessToken = this.options.accessToken;\n    }\n    return this;\n  }\n}\n\nfunction _getTransport(options, url) {\n  return helpers.getTransportFromOptions(options, defaultOptions, url);\n}\n\nfunction _getOTLPTransport(options, url) {\n  options = { ...options, endpoint: options.tracing?.endpoint };\n  return helpers.getTransportFromOptions(options, OTLPDefaultOptions, url);\n}\n\nexport default Api;\n","/**\n * Default options shared across platforms\n */\nexport const version = '3.0.0';\nexport const endpoint = 'api.rollbar.com/api/1/item/';\nexport const logLevel = 'debug';\nexport const reportLevel = 'debug';\nexport const uncaughtErrorLevel = 'error';\nexport const maxItems = 0;\nexport const itemsPerMin = 60;\n\nexport const commonScrubFields = [\n  'pw',\n  'pass',\n  'passwd',\n  'password',\n  'secret',\n  'confirm_password',\n  'confirmPassword',\n  'password_confirmation',\n  'passwordConfirmation',\n  'access_token',\n  'accessToken',\n  'X-Rollbar-Access-Token',\n  'secret_key',\n  'secretKey',\n  'secretToken',\n];\n\nexport const apiScrubFields = [\n  'api_key',\n  'authenticity_token',\n  'oauth_token',\n  'token',\n  'user_session_secret',\n];\n\nexport const requestScrubFields = [\n  'request.session.csrf',\n  'request.session._csrf',\n  'request.params._csrf',\n  'request.cookie',\n  'request.cookies',\n];\n\nexport const commonScrubHeaders = [\n  'authorization',\n  'www-authorization',\n  'http_authorization',\n  'omniauth.auth',\n  'cookie',\n  'oauth-access-token',\n  'x-access-token',\n  'x_csrf_token',\n  'http_x_csrf_token',\n  'x-csrf-token',\n];\n\n// For backward compatibility with default export\nexport default {\n  version,\n  endpoint,\n  logLevel,\n  reportLevel,\n  uncaughtErrorLevel,\n  maxItems,\n  itemsPerMin,\n};\n","const FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\nconst CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nconst SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\nfunction parse(error, options) {\n  if (typeof error.stacktrace !== \"undefined\" || typeof error[\"opera#sourceloc\"] !== \"undefined\")\n    return parseOpera(error, options);\n  else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP))\n    return parseV8OrIE(error, options);\n  else if (error.stack)\n    return parseFFOrSafari(error, options);\n  else if (options?.allowEmpty)\n    return [];\n  else\n    throw new Error(\"Cannot parse given Error object\");\n}\nfunction parseStack(stackString, options) {\n  if (stackString.match(CHROME_IE_STACK_REGEXP))\n    return parseV8OrIeString(stackString, options);\n  else\n    return parseFFOrSafariString(stackString, options);\n}\nfunction extractLocation(urlLike) {\n  if (!urlLike.includes(\":\"))\n    return [urlLike, undefined, undefined];\n  const regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n  const parts = regExp.exec(urlLike.replace(/[()]/g, \"\"));\n  return [parts[1], parts[2] || undefined, parts[3] || undefined];\n}\nfunction applySlice(lines, options) {\n  if (options && options.slice != null) {\n    if (Array.isArray(options.slice))\n      return lines.slice(options.slice[0], options.slice[1]);\n    return lines.slice(0, options.slice);\n  }\n  return lines;\n}\nfunction parseV8OrIE(error, options) {\n  return parseV8OrIeString(error.stack, options);\n}\nfunction parseV8OrIeString(stack, options) {\n  const filtered = applySlice(\n    stack.split(\"\\n\").filter((line) => {\n      return !!line.match(CHROME_IE_STACK_REGEXP);\n    }),\n    options\n  );\n  return filtered.map((line) => {\n    if (line.includes(\"(eval \")) {\n      line = line.replace(/eval code/g, \"eval\").replace(/(\\(eval at [^()]*)|(,.*$)/g, \"\");\n    }\n    let sanitizedLine = line.replace(/^\\s+/, \"\").replace(/\\(eval code/g, \"(\").replace(/^.*?\\s+/, \"\");\n    const location = sanitizedLine.match(/ (\\(.+\\)$)/);\n    sanitizedLine = location ? sanitizedLine.replace(location[0], \"\") : sanitizedLine;\n    const locationParts = extractLocation(location ? location[1] : sanitizedLine);\n    const functionName = location && sanitizedLine || undefined;\n    const fileName = [\"eval\", \"<anonymous>\"].includes(locationParts[0]) ? undefined : locationParts[0];\n    return {\n      function: functionName,\n      file: fileName,\n      line: locationParts[1] ? +locationParts[1] : undefined,\n      col: locationParts[2] ? +locationParts[2] : undefined,\n      raw: line\n    };\n  });\n}\nfunction parseFFOrSafari(error, options) {\n  return parseFFOrSafariString(error.stack, options);\n}\nfunction parseFFOrSafariString(stack, options) {\n  const filtered = applySlice(\n    stack.split(\"\\n\").filter((line) => {\n      return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n    }),\n    options\n  );\n  return filtered.map((line) => {\n    if (line.includes(\" > eval\"))\n      line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, \":$1\");\n    if (!line.includes(\"@\") && !line.includes(\":\")) {\n      return {\n        function: line\n      };\n    } else {\n      const functionNameRegex = /(([^\\n\\r\"\\u2028\\u2029]*\".[^\\n\\r\"\\u2028\\u2029]*\"[^\\n\\r@\\u2028\\u2029]*(?:@[^\\n\\r\"\\u2028\\u2029]*\"[^\\n\\r@\\u2028\\u2029]*)*(?:[\\n\\r\\u2028\\u2029][^@]*)?)?[^@]*)@/;\n      const matches = line.match(functionNameRegex);\n      const functionName = matches && matches[1] ? matches[1] : undefined;\n      const locationParts = extractLocation(line.replace(functionNameRegex, \"\"));\n      return {\n        function: functionName,\n        file: locationParts[0],\n        line: locationParts[1] ? +locationParts[1] : undefined,\n        col: locationParts[2] ? +locationParts[2] : undefined,\n        raw: line\n      };\n    }\n  });\n}\nfunction parseOpera(e, options) {\n  if (!e.stacktrace || e.message.includes(\"\\n\") && e.message.split(\"\\n\").length > e.stacktrace.split(\"\\n\").length)\n    return parseOpera9(e);\n  else if (!e.stack)\n    return parseOpera10(e);\n  else\n    return parseOpera11(e, options);\n}\nfunction parseOpera9(e, options) {\n  const lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n  const lines = e.message.split(\"\\n\");\n  const result = [];\n  for (let i = 2, len = lines.length; i < len; i += 2) {\n    const match = lineRE.exec(lines[i]);\n    if (match) {\n      result.push({\n        file: match[2],\n        line: +match[1],\n        raw: lines[i]\n      });\n    }\n  }\n  return applySlice(result, options);\n}\nfunction parseOpera10(e, options) {\n  const lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n  const lines = e.stacktrace.split(\"\\n\");\n  const result = [];\n  for (let i = 0, len = lines.length; i < len; i += 2) {\n    const match = lineRE.exec(lines[i]);\n    if (match) {\n      result.push({\n        function: match[3] || undefined,\n        file: match[2],\n        line: match[1] ? +match[1] : undefined,\n        raw: lines[i]\n      });\n    }\n  }\n  return applySlice(result, options);\n}\nfunction parseOpera11(error, options) {\n  const filtered = applySlice(\n    // @ts-expect-error missing stack property\n    error.stack.split(\"\\n\").filter((line) => {\n      return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n    }),\n    options\n  );\n  return filtered.map((line) => {\n    const tokens = line.split(\"@\");\n    const locationParts = extractLocation(tokens.pop());\n    const functionCall = tokens.shift() || \"\";\n    const functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, \"$2\").replace(/\\([^)]*\\)/g, \"\") || undefined;\n    let argsRaw;\n    if (functionCall.match(/\\(([^)]*)\\)/))\n      argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, \"$1\");\n    const args = argsRaw === undefined || argsRaw === \"[arguments not available]\" ? undefined : argsRaw.split(\",\");\n    return {\n      function: functionName,\n      args,\n      file: locationParts[0],\n      line: locationParts[1] ? +locationParts[1] : undefined,\n      col: locationParts[2] ? +locationParts[2] : undefined,\n      raw: line\n    };\n  });\n}\n\nexport { extractLocation, parse, parseFFOrSafari, parseFFOrSafariString, parseOpera, parseOpera10, parseOpera11, parseOpera9, parseStack, parseV8OrIE, parseV8OrIeString };\n","import { parse as parse$1, parseV8OrIE as parseV8OrIE$1, parseFFOrSafari as parseFFOrSafari$1, parseOpera as parseOpera$1, parseOpera9 as parseOpera9$1, parseOpera10 as parseOpera10$1, parseOpera11 as parseOpera11$1 } from './lite.mjs';\nexport { extractLocation } from './lite.mjs';\n\nfunction stackframesLiteToStackframes(liteStackframes) {\n  return liteStackframes.map((liteStackframe) => {\n    return {\n      functionName: liteStackframe.function,\n      args: liteStackframe.args,\n      fileName: liteStackframe.file,\n      lineNumber: liteStackframe.line,\n      columnNumber: liteStackframe.col,\n      source: liteStackframe.raw\n    };\n  });\n}\nfunction parse(error, options) {\n  return stackframesLiteToStackframes(parse$1(error, options));\n}\nfunction parseV8OrIE(error) {\n  return stackframesLiteToStackframes(parseV8OrIE$1(error));\n}\nfunction parseFFOrSafari(error) {\n  return stackframesLiteToStackframes(parseFFOrSafari$1(error));\n}\nfunction parseOpera(e) {\n  return stackframesLiteToStackframes(parseOpera$1(e));\n}\nfunction parseOpera9(e) {\n  return stackframesLiteToStackframes(parseOpera9$1(e));\n}\nfunction parseOpera10(e) {\n  return stackframesLiteToStackframes(parseOpera10$1(e));\n}\nfunction parseOpera11(error) {\n  return stackframesLiteToStackframes(parseOpera11$1(error));\n}\n\nexport { parse, parseFFOrSafari, parseOpera, parseOpera10, parseOpera11, parseOpera9, parseV8OrIE };\n","import { parse as parseErrorStack } from 'error-stack-parser-es';\n\nvar UNKNOWN_FUNCTION = '?';\nvar ERR_CLASS_REGEXP = new RegExp(\n  '^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ',\n);\n\nfunction guessFunctionName() {\n  return UNKNOWN_FUNCTION;\n}\n\nfunction gatherContext() {\n  return null;\n}\n\nfunction Frame(stackFrame) {\n  var data = {};\n\n  data._stackFrame = stackFrame;\n\n  data.url = stackFrame.fileName;\n  data.line = stackFrame.lineNumber;\n  data.func = stackFrame.functionName;\n  data.column = stackFrame.columnNumber;\n  data.args = stackFrame.args;\n\n  data.context = gatherContext();\n\n  return data;\n}\n\nfunction Stack(exception, skip) {\n  function getStack() {\n    var parserStack = [];\n\n    skip = skip || 0;\n\n    try {\n      parserStack = parseErrorStack(exception);\n    } catch (_e) {\n      parserStack = [];\n    }\n\n    var stack = [];\n\n    for (var i = skip; i < parserStack.length; i++) {\n      stack.push(new Frame(parserStack[i]));\n    }\n\n    return stack;\n  }\n\n  return {\n    stack: getStack(),\n    message: exception.message,\n    name: _mostSpecificErrorName(exception),\n    rawStack: exception.stack,\n    rawException: exception,\n  };\n}\n\nfunction parse(e, skip) {\n  var err = e;\n\n  if (err.nested || err.cause) {\n    var traceChain = [];\n    while (err) {\n      traceChain.push(new Stack(err, skip));\n      err = err.nested || err.cause;\n\n      skip = 0; // Only apply skip value to primary error\n    }\n\n    // Return primary error with full trace chain attached.\n    traceChain[0].traceChain = traceChain;\n    return traceChain[0];\n  } else {\n    return new Stack(err, skip);\n  }\n}\n\nfunction guessErrorClass(errMsg) {\n  if (!errMsg || !errMsg.match) {\n    return ['Unknown error. There was no error message to display.', ''];\n  }\n  var errClassMatch = errMsg.match(ERR_CLASS_REGEXP);\n  var errClass = '(unknown)';\n\n  if (errClassMatch) {\n    errClass = errClassMatch[errClassMatch.length - 1];\n    errMsg = errMsg.replace(\n      (errClassMatch[errClassMatch.length - 2] || '') + errClass + ':',\n      '',\n    );\n    errMsg = errMsg.replace(/(^[\\s]+|[\\s]+$)/g, '');\n  }\n  return [errClass, errMsg];\n}\n\n// * Prefers any value over an empty string\n// * Prefers any value over 'Error' where possible\n// * Prefers name over constructor.name when both are more specific than 'Error'\nfunction _mostSpecificErrorName(error) {\n  var name = error.name && error.name.length && error.name;\n  var constructorName =\n    error.constructor.name &&\n    error.constructor.name.length &&\n    error.constructor.name;\n\n  if (!name || !constructorName) {\n    return name || constructorName;\n  }\n\n  if (name === 'Error') {\n    return constructorName;\n  }\n  return name;\n}\n\nexport default {\n  guessFunctionName,\n  guessErrorClass,\n  gatherContext,\n  parse,\n  Stack,\n  Frame,\n};\n","import * as _ from './utility.js';\n\nfunction checkLevel(item, settings) {\n  var level = item.level;\n  var levelVal = _.LEVELS[level] || 0;\n  var reportLevel = settings.reportLevel;\n  var reportLevelVal = _.LEVELS[reportLevel] || 0;\n\n  if (levelVal < reportLevelVal) {\n    return false;\n  }\n  return true;\n}\n\nfunction userCheckIgnore(logger) {\n  return function (item, settings) {\n    var isUncaught = Boolean(item._isUncaught);\n    delete item._isUncaught;\n    var args = item._originalArgs;\n    delete item._originalArgs;\n    try {\n      if (_.isFunction(settings.onSendCallback)) {\n        settings.onSendCallback(isUncaught, args, item);\n      }\n    } catch (e) {\n      settings.onSendCallback = null;\n      logger.error('Error while calling onSendCallback, removing', e);\n    }\n    try {\n      if (\n        _.isFunction(settings.checkIgnore) &&\n        settings.checkIgnore(isUncaught, args, item)\n      ) {\n        return false;\n      }\n    } catch (e) {\n      settings.checkIgnore = null;\n      logger.error('Error while calling custom checkIgnore(), removing', e);\n    }\n    return true;\n  };\n}\n\nfunction urlIsNotBlockListed(logger) {\n  return function (item, settings) {\n    return !urlIsOnAList(item, settings, 'blocklist', logger);\n  };\n}\n\nfunction urlIsSafeListed(logger) {\n  return function (item, settings) {\n    return urlIsOnAList(item, settings, 'safelist', logger);\n  };\n}\n\nfunction matchFrames(trace, list, block) {\n  if (!trace) {\n    return !block;\n  }\n\n  var frames = trace.frames;\n\n  if (!frames || frames.length === 0) {\n    return !block;\n  }\n\n  var frame, filename, url, urlRegex;\n  var listLength = list.length;\n  var frameLength = frames.length;\n  for (var i = 0; i < frameLength; i++) {\n    frame = frames[i];\n    filename = frame.filename;\n\n    if (!_.isType(filename, 'string')) {\n      return !block;\n    }\n\n    for (var j = 0; j < listLength; j++) {\n      url = list[j];\n      urlRegex = new RegExp(url);\n\n      if (urlRegex.test(filename)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction urlIsOnAList(item, settings, safeOrBlock, logger) {\n  // safelist is the default\n  var block = false;\n  if (safeOrBlock === 'blocklist') {\n    block = true;\n  }\n\n  var list, traces;\n  try {\n    list = block ? settings.hostBlockList : settings.hostSafeList;\n    traces = _.get(item, 'body.trace_chain') || [_.get(item, 'body.trace')];\n\n    // These two checks are important to come first as they are defaults\n    // in case the list is missing or the trace is missing or not well-formed\n    if (!list || list.length === 0) {\n      return !block;\n    }\n    if (traces.length === 0 || !traces[0]) {\n      return !block;\n    }\n\n    var tracesLength = traces.length;\n    for (var i = 0; i < tracesLength; i++) {\n      if (matchFrames(traces[i], list, block)) {\n        return true;\n      }\n    }\n  } catch (\n    e\n    /* istanbul ignore next */\n  ) {\n    if (block) {\n      settings.hostBlockList = null;\n    } else {\n      settings.hostSafeList = null;\n    }\n    var listName = block ? 'hostBlockList' : 'hostSafeList';\n    logger.error(\n      \"Error while reading your configuration's \" +\n        listName +\n        ' option. Removing custom ' +\n        listName +\n        '.',\n      e,\n    );\n    return !block;\n  }\n  return false;\n}\n\nfunction messageIsIgnored(logger) {\n  return function (item, settings) {\n    var i, j, ignoredMessages, len, messageIsIgnored, rIgnoredMessage, messages;\n\n    try {\n      messageIsIgnored = false;\n      ignoredMessages = settings.ignoredMessages;\n\n      if (!ignoredMessages || ignoredMessages.length === 0) {\n        return true;\n      }\n\n      messages = messagesFromItem(item);\n\n      if (messages.length === 0) {\n        return true;\n      }\n\n      len = ignoredMessages.length;\n      for (i = 0; i < len; i++) {\n        rIgnoredMessage = new RegExp(ignoredMessages[i], 'gi');\n\n        for (j = 0; j < messages.length; j++) {\n          messageIsIgnored = rIgnoredMessage.test(messages[j]);\n\n          if (messageIsIgnored) {\n            return false;\n          }\n        }\n      }\n    } catch (\n      _e\n      /* istanbul ignore next */\n    ) {\n      settings.ignoredMessages = null;\n      logger.error(\n        \"Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.\",\n      );\n    }\n\n    return true;\n  };\n}\n\nfunction messagesFromItem(item) {\n  var body = item.body;\n  var messages = [];\n\n  // The payload schema only allows one of trace_chain, message, or trace.\n  // However, existing test cases are based on having both trace and message present.\n  // So here we preserve the ability to collect strings from any combination of these keys.\n  if (body.trace_chain) {\n    var traceChain = body.trace_chain;\n    for (const trace of traceChain) {\n      messages.push(_.get(trace, 'exception.message'));\n    }\n  }\n  if (body.trace) {\n    messages.push(_.get(body, 'trace.exception.message'));\n  }\n  if (body.message) {\n    messages.push(_.get(body, 'message.body'));\n  }\n  return messages;\n}\n\nexport {\n  checkLevel,\n  userCheckIgnore,\n  urlIsNotBlockListed,\n  urlIsSafeListed,\n  messageIsIgnored,\n};\n","import { merge, isFunction } from './utility.js';\n\n/*\n * Notifier - delegates between the client exposed API, the chain of transforms\n * necessary to turn an item into something that can be sent to Rollbar, and the\n * queue which handles the communcation with the Rollbar API servers.\n */\nexport default class Notifier {\n  /**\n   *\n   * @param {Object} queue - an object that conforms to the interface:\n   *    `addItem(item, callback)`\n   * @param {Object} options - an object representing the options to be set for\n   *    this notifier, this should have any defaults already set by the caller\n   */\n  constructor(queue, options) {\n    this.queue = queue;\n    this.options = options;\n    this.transforms = [];\n    this.diagnostic = {};\n  }\n\n  /**\n   * configure - updates the options for this notifier with the passed in object\n   *\n   * @param {Object} options - an object which gets merged with the current\n   *    options set on this notifier\n   * @returns this\n   */\n  configure(options) {\n    this.queue?.configure(options);\n    const oldOptions = this.options;\n    this.options = merge(oldOptions, options);\n    return this;\n  }\n\n  /**\n   * Adds a transform onto the end of the queue of transforms for this notifier\n   *\n   * @param {Function} transform - a function which takes three arguments:\n   *    - item: An Object representing the data to eventually be sent to Rollbar\n   *    - options: The current value of the options for this notifier\n   *    - callback: `function(err: (Null|Error), item: (Null|Object))` the\n   *      transform must call this callback with a null value for error if it\n   *      wants the processing chain to continue, otherwise with an error to\n   *      terminate the processing. The item should be the updated item after\n   *      this transform is finished modifying it.\n   */\n  addTransform(transform) {\n    if (isFunction(transform)) {\n      this.transforms.push(transform);\n    }\n    return this;\n  }\n\n  /**\n   * The internal log function which applies the configured transforms and then\n   * pushes onto the queue to be sent to the backend.\n   *\n   * @param {Object} item - An object with the following structure:\n   *    - message [String] - An optional string to be sent to rollbar\n   *    - error [Error] - An optional error\n   * @param {Function} callback - A function of type `function(err, resp)` which\n   *    will be called with exactly one null argument and one non-null argument.\n   *    The callback will be called once, either during the transform stage if\n   *    an error occurs inside a transform, or in response to the communication\n   *    with the backend. The second argument will be the response from the\n   *    backend in case of success.\n   */\n  log(item, callback) {\n    callback = isFunction(callback) ? callback : () => {};\n\n    if (!this.options.enabled) {\n      return callback(new Error('Rollbar is not enabled'), null);\n    }\n\n    this.queue.addPendingItem(item);\n    const originalError = item.err;\n    this._applyTransforms(item, (err, i) => {\n      if (err) {\n        this.queue.removePendingItem(item);\n        return callback(err, null);\n      }\n      this.queue.addItem(i, callback, originalError, item);\n    });\n  }\n\n  /* Internal */\n\n  /**\n   * Applies the transforms that have been added to this notifier sequentially.\n   * See `addTransform` for more information.\n   *\n   * @param {Object} item - An item to be transformed\n   * @param {Function} callback - A function of type `function(err, item)` which\n   *    will be called with a non-null error and a null item in the case of a\n   *    transform failure, or a null error and non-null item after all\n   *    transforms have been applied.\n   */\n  _applyTransforms(item, callback) {\n    let transformIndex = -1;\n    const transformsLength = this.transforms.length;\n    const transforms = this.transforms;\n    const options = this.options;\n\n    const next = (err, i) => {\n      if (err) {\n        callback(err, null);\n        return;\n      }\n\n      transformIndex++;\n\n      if (transformIndex === transformsLength) {\n        callback(null, i);\n        return;\n      }\n\n      transforms[transformIndex](i, options, next);\n    };\n\n    next(null, item);\n  }\n}\n","import * as _ from './utility.js';\n\n/**\n * Queue - an object which handles which handles a queue of items to be sent to Rollbar.\n *   This object handles rate limiting via a passed in rate limiter, retries based on connection\n *   errors, and filtering of items based on a set of configurable predicates. The communication to\n *   the backend is performed via a given API object.\n */\nclass Queue {\n  /**\n   * @param rateLimiter - An object which conforms to the interface\n   *    `rateLimiter.shouldSend(item) -> bool`\n   * @param api - An object which conforms to the interface\n   *    `api.postItem(payload, function(err, response))`\n   * @param logger - An object used to log verbose messages if desired\n   * @param options - see `Queue.prototype.configure`\n   * @param replay - Optional `Replay` for coordinating session replay with error occurrences\n   */\n  constructor(rateLimiter, api, logger, options, replay) {\n    this.rateLimiter = rateLimiter;\n    this.api = api;\n    this.logger = logger;\n    this.options = options;\n    this.replay = replay;\n    this.predicates = [];\n    this.pendingItems = [];\n    this.pendingRequests = [];\n    this.retryQueue = [];\n    this.retryHandle = null;\n    this.waitCallback = null;\n    this.waitIntervalID = null;\n  }\n\n  /**\n   * configure - updates the options this queue uses\n   *\n   * @param options\n   */\n  configure(options) {\n    this.api?.configure(options);\n    const oldOptions = this.options;\n    this.options = _.merge(oldOptions, options);\n    return this;\n  }\n\n  /**\n   * addPredicate - adds a predicate to the end of the list of predicates for this queue\n   *\n   * @param predicate - function(item, options) -> (bool|{err: Error})\n   *  Returning true means that this predicate passes and the item is okay to go on the queue\n   *  Returning false means do not add the item to the queue, but it is not an error\n   *  Returning {err: Error} means do not add the item to the queue, and the given error explains why\n   *  Returning {err: undefined} is equivalent to returning true but don't do that\n   */\n  addPredicate(predicate) {\n    if (_.isFunction(predicate)) {\n      this.predicates.push(predicate);\n    }\n    return this;\n  }\n\n  addPendingItem(item) {\n    this.pendingItems.push(item);\n  }\n\n  removePendingItem(item) {\n    const idx = this.pendingItems.indexOf(item);\n    if (idx !== -1) {\n      this.pendingItems.splice(idx, 1);\n    }\n  }\n\n  /**\n   * addItem - Send an item to the Rollbar API if all of the predicates are satisfied\n   *\n   * @param item - Item instance with the payload to send to the backend\n   * @param callback - function(error, repsonse) which will be called with the response from the API\n   *  in the case of a success, otherwise response will be null and error will have a value. If both\n   *  error and response are null then the item was stopped by a predicate which did not consider this\n   *  to be an error condition, but nonetheless did not send the item to the API.\n   * @param originalError - The original error before any transformations that is to be logged if any\n   * @param originalItem - The original item before transforms, used in pendingItems queue\n   */\n  addItem(item, callback, originalError, originalItem) {\n    if (!callback || !_.isFunction(callback)) {\n      callback = function () {\n        return;\n      };\n    }\n    const data = item.data;\n    const predicateResult = this._applyPredicates(data);\n    if (predicateResult.stop) {\n      this.removePendingItem(originalItem);\n      callback(predicateResult.err);\n      return;\n    }\n    this._maybeLog(data, originalError);\n    this.removePendingItem(originalItem);\n    if (!this.options.transmit) {\n      callback(new Error('Transmit disabled'));\n      return;\n    }\n\n    if (this.replay && data.body) {\n      item.replayId = this.replay.capture(null, data.uuid, {\n        type: 'occurrence',\n        level: item.level,\n      });\n\n      if (item.replayId) {\n        _.addItemAttributes(item.data, [\n          { key: 'replay_id', value: item.replayId },\n        ]);\n      }\n    }\n\n    this.pendingRequests.push(data);\n    try {\n      this._makeApiRequest(data, (err, resp, headers) => {\n        this._dequeuePendingRequest(data);\n\n        if (item.replayId) {\n          this.replay.sendOrDiscardReplay(item.replayId, err, resp, headers);\n        }\n\n        callback(err, resp);\n      });\n    } catch (err) {\n      this._dequeuePendingRequest(data);\n\n      if (item.replayId) {\n        this.replay?.discard(item.replayId);\n      }\n\n      callback(err);\n    }\n  }\n\n  /**\n   * wait - Stop any further errors from being added to the queue, and get called back when all items\n   *   currently processing have finished sending to the backend.\n   *\n   * @param callback - function() called when all pending items have been sent\n   */\n  wait(callback) {\n    if (!_.isFunction(callback)) {\n      return;\n    }\n    this.waitCallback = callback;\n    if (this._maybeCallWait()) {\n      return;\n    }\n    if (this.waitIntervalID) {\n      this.waitIntervalID = clearInterval(this.waitIntervalID);\n    }\n    this.waitIntervalID = setInterval(() => {\n      this._maybeCallWait();\n    }, 500);\n  }\n\n  /**\n   * Sequentially applies the predicates that have been added to the queue to the\n   * given item with the currently configured options.\n   *\n   * @param item - An item in the queue\n   * @returns {stop: bool, err: (Error|null)} - stop being true means do not add item to the queue,\n   *   the error value should be passed up to a callbak if we are stopping.\n   */\n  _applyPredicates(item) {\n    let p = null;\n    for (let i = 0, len = this.predicates.length; i < len; i++) {\n      p = this.predicates[i](item, this.options);\n      if (!p || p.err !== undefined) {\n        return { stop: true, err: p.err };\n      }\n    }\n    return { stop: false, err: null };\n  }\n\n  /**\n   * Send an item to Rollbar, callback when done, if there is an error make an\n   * effort to retry if we are configured to do so.\n   *\n   * @param item - an item ready to send to the backend\n   * @param callback - function(err, response)\n   */\n  _makeApiRequest(item, callback) {\n    const rateLimitResponse = this.rateLimiter.shouldSend(item);\n    if (rateLimitResponse.shouldSend) {\n      this.api.postItem(item, (err, resp, headers) => {\n        if (err) {\n          this._maybeRetry(err, item, callback);\n        } else {\n          callback(err, resp, headers);\n        }\n      });\n    } else if (rateLimitResponse.error) {\n      callback(rateLimitResponse.error);\n    } else {\n      this.api.postItem(rateLimitResponse.payload, callback);\n    }\n  }\n\n  // These are errors basically mean there is no internet connection\n  static RETRIABLE_ERRORS = [\n    'ECONNRESET',\n    'ENOTFOUND',\n    'ESOCKETTIMEDOUT',\n    'ETIMEDOUT',\n    'ECONNREFUSED',\n    'EHOSTUNREACH',\n    'EPIPE',\n    'EAI_AGAIN',\n  ];\n\n  /**\n   * Given the error returned by the API, decide if we should retry or just callback\n   * with the error.\n   *\n   * @param err - an error returned by the API transport\n   * @param item - the item that was trying to be sent when this error occured\n   * @param callback - function(err, response)\n   */\n  _maybeRetry(err, item, callback) {\n    let shouldRetry = false;\n    if (this.options.retryInterval) {\n      for (let i = 0, len = Queue.RETRIABLE_ERRORS.length; i < len; i++) {\n        if (err.code === Queue.RETRIABLE_ERRORS[i]) {\n          shouldRetry = true;\n          break;\n        }\n      }\n      if (shouldRetry && _.isFiniteNumber(this.options.maxRetries)) {\n        item.retries = item.retries ? item.retries + 1 : 1;\n        if (item.retries > this.options.maxRetries) {\n          shouldRetry = false;\n        }\n      }\n    }\n    if (shouldRetry) {\n      this._retryApiRequest(item, callback);\n    } else {\n      callback(err);\n    }\n  }\n\n  /**\n   * Add an item and a callback to a queue and possibly start a timer to process\n   * that queue based on the retryInterval in the options for this queue.\n   *\n   * @param item - an item that failed to send due to an error we deem retriable\n   * @param callback - function(err, response)\n   */\n  _retryApiRequest(item, callback) {\n    this.retryQueue.push({ item, callback });\n\n    if (!this.retryHandle) {\n      this.retryHandle = setInterval(() => {\n        while (this.retryQueue.length) {\n          const retryObject = this.retryQueue.shift();\n          this._makeApiRequest(retryObject.item, retryObject.callback);\n        }\n      }, this.options.retryInterval);\n    }\n  }\n\n  /**\n   * Removes the item from the pending request queue, this queue is used to\n   * enable to functionality of providing a callback that clients can pass to `wait` to be notified\n   * when the pending request queue has been emptied. This must be called when the API finishes\n   * processing this item. If a `wait` callback is configured, it is called by this function.\n   *\n   * @param item - the item previously added to the pending request queue\n   */\n  _dequeuePendingRequest(item) {\n    const idx = this.pendingRequests.indexOf(item);\n    if (idx !== -1) {\n      this.pendingRequests.splice(idx, 1);\n      this._maybeCallWait();\n    }\n  }\n\n  _maybeLog(data, originalError) {\n    if (this.logger && this.options.verbose) {\n      let message =\n        originalError ||\n        _.get(data, 'body.trace.exception.message') ||\n        _.get(data, 'body.trace_chain.0.exception.message');\n      if (message) {\n        this.logger.error(message);\n        return;\n      }\n      message = _.get(data, 'body.message.body');\n      if (message) {\n        this.logger.log(message);\n      }\n    }\n  }\n\n  _maybeCallWait() {\n    if (\n      _.isFunction(this.waitCallback) &&\n      this.pendingItems.length === 0 &&\n      this.pendingRequests.length === 0\n    ) {\n      if (this.waitIntervalID) {\n        this.waitIntervalID = clearInterval(this.waitIntervalID);\n      }\n      this.waitCallback();\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default Queue;\n","/*\n * RateLimiter - encapsulates the logic for counting items sent to Rollbar.\n *\n * @param options - the same options that are accepted by configureGlobal offered as a convenience\n */\nclass RateLimiter {\n  static globalSettings = {\n    startTime: Date.now(),\n    maxItems: undefined,\n    itemsPerMinute: undefined,\n  };\n\n  constructor(options = {}) {\n    this.startTime = Date.now();\n    this.counter = 0;\n    this.perMinCounter = 0;\n    this.platform = null;\n    this.platformOptions = {};\n    this.configureGlobal(options);\n  }\n\n  /*\n   * configureGlobal - set the global rate limiter options\n   *\n   * @param options - Only the following values are recognized:\n   *    startTime: a timestamp of the form returned by (new Date()).getTime()\n   *    maxItems: the maximum items\n   *    itemsPerMinute: the max number of items to send in a given minute\n   */\n  configureGlobal(options = {}) {\n    const { startTime, maxItems, itemsPerMinute } = options;\n\n    if (startTime !== undefined) {\n      RateLimiter.globalSettings.startTime = startTime;\n    }\n    if (maxItems !== undefined) {\n      RateLimiter.globalSettings.maxItems = maxItems;\n    }\n    if (itemsPerMinute !== undefined) {\n      RateLimiter.globalSettings.itemsPerMinute = itemsPerMinute;\n    }\n  }\n\n  /*\n   * shouldSend - determine if we should send a given item based on rate limit settings\n   *\n   * @param item - the item we are about to send\n   * @returns An object with the following structure:\n   *  error: (Error|null)\n   *  shouldSend: bool\n   *  payload: (Object|null)\n   *  If shouldSend is false, the item passed as a parameter should not be sent to Rollbar, and\n   *  exactly one of error or payload will be non-null. If error is non-null, the returned Error will\n   *  describe the situation, but it means that we were already over a rate limit (either globally or\n   *  per minute) when this item was checked. If error is null, and therefore payload is non-null, it\n   *  means this item put us over the global rate limit and the payload should be sent to Rollbar in\n   *  place of the passed in item.\n   */\n  shouldSend(item, now = Date.now()) {\n    const elapsedTime = now - this.startTime;\n    if (elapsedTime < 0 || elapsedTime >= 60000) {\n      this.startTime = now;\n      this.perMinCounter = 0;\n    }\n\n    const globalRateLimit = RateLimiter.globalSettings.maxItems;\n    const globalRateLimitPerMin = RateLimiter.globalSettings.itemsPerMinute;\n\n    if (checkRate(item, globalRateLimit, this.counter)) {\n      return shouldSendValue(\n        this.platform,\n        this.platformOptions,\n        `${globalRateLimit} max items reached`,\n        false,\n      );\n    }\n\n    if (checkRate(item, globalRateLimitPerMin, this.perMinCounter)) {\n      return shouldSendValue(\n        this.platform,\n        this.platformOptions,\n        `${globalRateLimitPerMin} items per minute reached`,\n        false,\n      );\n    }\n\n    this.counter += 1;\n    this.perMinCounter += 1;\n\n    const underGlobalLimit = !checkRate(item, globalRateLimit, this.counter);\n    const perMinute = underGlobalLimit;\n    const shouldSend =\n      underGlobalLimit &&\n      !checkRate(item, globalRateLimitPerMin, this.perMinCounter);\n\n    return shouldSendValue(\n      this.platform,\n      this.platformOptions,\n      null,\n      shouldSend,\n      globalRateLimit,\n      globalRateLimitPerMin,\n      perMinute,\n    );\n  }\n\n  setPlatformOptions(platform, options) {\n    this.platform = platform;\n    this.platformOptions = options;\n  }\n}\n\n/* Helpers */\n\nfunction checkRate(item, limit, counter) {\n  return !item.ignoreRateLimit && limit >= 1 && counter > limit;\n}\n\nfunction shouldSendValue(\n  platform,\n  options,\n  error,\n  shouldSend,\n  globalRateLimit,\n  limitPerMin,\n  perMinute,\n) {\n  let payload = null;\n  const errorResult = error ? new Error(error) : null;\n\n  if (!errorResult && !shouldSend) {\n    payload = rateLimitPayload(\n      platform,\n      options,\n      globalRateLimit,\n      limitPerMin,\n      perMinute,\n    );\n  }\n\n  return { error: errorResult, shouldSend, payload };\n}\n\nfunction rateLimitPayload(\n  platform,\n  options,\n  globalRateLimit,\n  limitPerMin,\n  perMinute,\n) {\n  const environment =\n    options.environment || (options.payload && options.payload.environment);\n  const msg = perMinute\n    ? 'item per minute limit reached, ignoring errors until timeout'\n    : 'maxItems has been hit, ignoring errors until reset.';\n  const item = {\n    body: {\n      message: {\n        body: msg,\n        extra: {\n          maxItems: globalRateLimit,\n          itemsPerMinute: limitPerMin,\n        },\n      },\n    },\n    language: 'javascript',\n    environment: environment,\n    notifier: {\n      version:\n        (options.notifier && options.notifier.version) || options.version,\n    },\n  };\n  if (platform === 'browser') {\n    item.platform = 'browser';\n    item.framework = 'browser-js';\n    item.notifier.name = 'rollbar-browser-js';\n  } else if (platform === 'server') {\n    item.framework = options.framework || 'node-js';\n    item.notifier.name = options.notifier.name;\n  } else if (platform === 'react-native') {\n    item.framework = options.framework || 'react-native';\n    item.notifier.name = options.notifier.name;\n  }\n  return item;\n}\n\nexport default RateLimiter;\n","import Notifier from './notifier.js';\nimport Queue from './queue.js';\nimport RateLimiter from './rateLimiter.js';\nimport * as _ from './utility.js';\n\n/*\n * Rollbar - the interface to Rollbar\n *\n * @param options\n * @param api\n * @param logger\n */\nfunction Rollbar(options, api, logger, telemeter, tracing, replay, platform) {\n  this.options = _.merge(options);\n  this.logger = logger;\n  Rollbar.rateLimiter.configureGlobal(this.options);\n  Rollbar.rateLimiter.setPlatformOptions(platform, this.options);\n  this.api = api;\n  this.queue = new Queue(\n    Rollbar.rateLimiter,\n    api,\n    logger,\n    this.options,\n    replay,\n  );\n\n  this.tracing = tracing;\n\n  // Legacy OpenTracing support\n  // This must happen before the Notifier is created\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier = new Notifier(this.queue, this.options);\n  this.telemeter = telemeter;\n  setStackTraceLimit(options);\n  this.lastError = null;\n  this.lastErrorHash = 'none';\n}\n\nvar defaultOptions = {\n  maxItems: 0,\n  itemsPerMinute: 60,\n};\n\nRollbar.rateLimiter = new RateLimiter(defaultOptions);\n\nRollbar.prototype.global = function (options) {\n  Rollbar.rateLimiter.configureGlobal(options);\n  return this;\n};\n\nRollbar.prototype.configure = function (options, payloadData) {\n  var oldOptions = this.options;\n  var payload = {};\n  if (payloadData) {\n    payload = { payload: payloadData };\n  }\n\n  this.options = _.merge(oldOptions, options, payload);\n\n  // Legacy OpenTracing support\n  // This must happen before the Notifier is configured\n  var tracer = this.options.tracer || null;\n  if (validateTracer(tracer)) {\n    this.tracer = tracer;\n    // set to a string for api response serialization\n    this.options.tracer = 'opentracing-tracer-enabled';\n    this.options._configuredOptions.tracer = 'opentracing-tracer-enabled';\n  } else {\n    this.tracer = null;\n  }\n\n  this.notifier && this.notifier.configure(this.options);\n  this.telemeter && this.telemeter.configure(this.options);\n  setStackTraceLimit(options);\n  this.global(this.options);\n\n  if (validateTracer(options.tracer)) {\n    this.tracer = options.tracer;\n  }\n\n  return this;\n};\n\nRollbar.prototype.log = function (item) {\n  var level = this._defaultLogLevel();\n  return this._log(level, item);\n};\n\nRollbar.prototype.debug = function (item) {\n  this._log('debug', item);\n};\n\nRollbar.prototype.info = function (item) {\n  this._log('info', item);\n};\n\nRollbar.prototype.warn = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.warning = function (item) {\n  this._log('warning', item);\n};\n\nRollbar.prototype.error = function (item) {\n  this._log('error', item);\n};\n\nRollbar.prototype.critical = function (item) {\n  this._log('critical', item);\n};\n\nRollbar.prototype.wait = function (callback) {\n  this.queue.wait(callback);\n};\n\nRollbar.prototype.captureEvent = function (type, metadata, level) {\n  return this.telemeter && this.telemeter.captureEvent(type, metadata, level);\n};\n\nRollbar.prototype.captureDomContentLoaded = function (ts) {\n  return this.telemeter && this.telemeter.captureDomContentLoaded(ts);\n};\n\nRollbar.prototype.captureLoad = function (ts) {\n  return this.telemeter && this.telemeter.captureLoad(ts);\n};\n\nRollbar.prototype.buildJsonPayload = function (item) {\n  return this.api.buildJsonPayload(item);\n};\n\nRollbar.prototype.sendJsonPayload = function (jsonPayload) {\n  this.api.postJsonPayload(jsonPayload);\n};\n\n/* Internal */\n\nRollbar.prototype._log = function (defaultLevel, item) {\n  var callback;\n  if (item.callback) {\n    callback = item.callback;\n    delete item.callback;\n  }\n  if (this.options.ignoreDuplicateErrors && this._sameAsLastError(item)) {\n    if (callback) {\n      var error = new Error('ignored identical item');\n      error.item = item;\n      callback(error);\n    }\n    return;\n  }\n  try {\n    item.level = item.level || defaultLevel;\n\n    this._addItemAttributes(item);\n\n    // Legacy OpenTracing support\n    this._addTracingInfo(item);\n\n    const telemeter = this.telemeter;\n    if (telemeter) {\n      telemeter._captureRollbarItem(item);\n      item.telemetryEvents = telemeter.copyEvents() || [];\n    }\n\n    this.notifier.log(item, callback);\n  } catch (e) {\n    if (callback) {\n      callback(e);\n    }\n    this.logger.error(e);\n  }\n};\n\nRollbar.prototype._addItemAttributes = function (item) {\n  const span = this.tracing?.getSpan();\n\n  const attributes = [\n    { key: 'session_id', value: this.tracing?.sessionId },\n    { key: 'span_id', value: span?.spanId },\n    { key: 'trace_id', value: span?.traceId },\n  ];\n  if (item._isUncaught) {\n    attributes.push({ key: 'is_uncaught', value: 'true' });\n  }\n  _.addItemAttributes(item.data, attributes);\n\n  span?.addEvent('rollbar.occurrence', [\n    { key: 'rollbar.occurrence.uuid', value: item.uuid },\n  ]);\n};\n\nRollbar.prototype._defaultLogLevel = function () {\n  return this.options.logLevel || 'debug';\n};\n\nRollbar.prototype._sameAsLastError = function (item) {\n  if (!item._isUncaught) {\n    return false;\n  }\n  var itemHash = generateItemHash(item);\n  if (this.lastErrorHash === itemHash) {\n    return true;\n  }\n  this.lastError = item.err;\n  this.lastErrorHash = itemHash;\n  return false;\n};\n\nRollbar.prototype._addTracingInfo = function (item) {\n  // Tracer validation occurs in the constructor\n  // or in the Rollbar.prototype.configure methods\n  if (this.tracer) {\n    // add rollbar occurrence uuid to span\n    var span = this.tracer.scope().active();\n\n    if (validateSpan(span)) {\n      span.setTag('rollbar.error_uuid', item.uuid);\n      span.setTag('rollbar.has_error', true);\n      span.setTag('error', true);\n      span.setTag(\n        'rollbar.item_url',\n        `https://rollbar.com/item/uuid/?uuid=${item.uuid}`,\n      );\n      span.setTag(\n        'rollbar.occurrence_url',\n        `https://rollbar.com/occurrence/uuid/?uuid=${item.uuid}`,\n      );\n\n      // add span ID & trace ID to occurrence\n      var opentracingSpanId = span.context().toSpanId();\n      var opentracingTraceId = span.context().toTraceId();\n\n      if (item.custom) {\n        item.custom.opentracing_span_id = opentracingSpanId;\n        item.custom.opentracing_trace_id = opentracingTraceId;\n      } else {\n        item.custom = {\n          opentracing_span_id: opentracingSpanId,\n          opentracing_trace_id: opentracingTraceId,\n        };\n      }\n    }\n  }\n};\n\nfunction generateItemHash(item) {\n  var message = item.message || '';\n  var stack = (item.err || {}).stack || String(item.err);\n  return message + '::' + stack;\n}\n\n// Node.js, Chrome, Safari, and some other browsers support this property\n// which globally sets the number of stack frames returned in an Error object.\n// If a browser can't use it, no harm done.\nfunction setStackTraceLimit(options) {\n  if (options.stackTraceLimit) {\n    Error.stackTraceLimit = options.stackTraceLimit;\n  }\n}\n\n/**\n * Validate the Tracer object provided to the Client\n * is valid for our Opentracing use case.\n * @param {opentracer.Tracer} tracer\n */\nfunction validateTracer(tracer) {\n  if (!tracer) {\n    return false;\n  }\n\n  if (!tracer.scope || typeof tracer.scope !== 'function') {\n    return false;\n  }\n\n  var scope = tracer.scope();\n\n  if (!scope || !scope.active || typeof scope.active !== 'function') {\n    return false;\n  }\n\n  return true;\n}\n\n/**\n * Validate the Span object provided\n * @param {opentracer.Span} span\n */\nfunction validateSpan(span) {\n  if (!span || !span.context || typeof span.context !== 'function') {\n    return false;\n  }\n\n  var spanContext = span.context();\n\n  if (\n    !spanContext ||\n    !spanContext.toSpanId ||\n    !spanContext.toTraceId ||\n    typeof spanContext.toSpanId !== 'function' ||\n    typeof spanContext.toTraceId !== 'function'\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\nexport default Rollbar;\n","/**\n * Default tracing options\n */\nexport default {\n  enabled: false,\n  endpoint: 'api.rollbar.com/api/1/session/',\n};\n","import * as _ from './utility.js';\n\nfunction itemToPayload(item, options, callback) {\n  if (item._isUncaught) {\n    item.data._isUncaught = true;\n  }\n  if (item._originalArgs) {\n    item.data._originalArgs = item._originalArgs;\n  }\n  callback(null, item);\n}\n\nfunction addPayloadOptions(item, options, callback) {\n  var payloadOptions = options.payload || {};\n  if (payloadOptions.body) {\n    delete payloadOptions.body;\n  }\n\n  item.data = _.merge(item.data, payloadOptions);\n  callback(null, item);\n}\n\nfunction addTelemetryData(item, options, callback) {\n  if (item.telemetryEvents) {\n    _.set(item, 'data.body.telemetry', item.telemetryEvents);\n  }\n  callback(null, item);\n}\n\nfunction addMessageWithError(item, options, callback) {\n  if (!item.message) {\n    callback(null, item);\n    return;\n  }\n  var tracePath = 'data.body.trace_chain.0';\n  var trace = _.get(item, tracePath);\n  if (!trace) {\n    tracePath = 'data.body.trace';\n    trace = _.get(item, tracePath);\n  }\n  if (trace) {\n    if (!(trace.exception && trace.exception.description)) {\n      _.set(item, tracePath + '.exception.description', item.message);\n      callback(null, item);\n      return;\n    }\n    var extra = _.get(item, tracePath + '.extra') || {};\n    var newExtra = _.merge(extra, { message: item.message });\n    _.set(item, tracePath + '.extra', newExtra);\n  }\n  callback(null, item);\n}\n\nfunction userTransform(logger) {\n  return function (item, options, callback) {\n    var newItem = _.merge(item);\n    var response = null;\n    try {\n      if (_.isFunction(options.transform)) {\n        response = options.transform(newItem.data, item);\n      }\n    } catch (e) {\n      options.transform = null;\n      logger.error(\n        'Error while calling custom transform() function. Removing custom transform().',\n        e,\n      );\n      callback(null, item);\n      return;\n    }\n    if (_.isPromise(response)) {\n      response.then(\n        function (promisedItem) {\n          if (promisedItem) {\n            newItem.data = promisedItem;\n          }\n          callback(null, newItem);\n        },\n        function (error) {\n          callback(error, item);\n        },\n      );\n    } else {\n      callback(null, newItem);\n    }\n  };\n}\n\nfunction addConfigToPayload(item, options, callback) {\n  if (!options.sendConfig) {\n    return callback(null, item);\n  }\n  var configKey = '_rollbarConfig';\n  var custom = _.get(item, 'data.custom') || {};\n  custom[configKey] = options;\n  item.data.custom = custom;\n  callback(null, item);\n}\n\nfunction addFunctionOption(options, name) {\n  if (_.isFunction(options[name])) {\n    options[name] = options[name].toString();\n  }\n}\n\nfunction addConfiguredOptions(item, options, callback) {\n  var configuredOptions = options._configuredOptions;\n\n  // These must be stringified or they'll get dropped during serialization.\n  addFunctionOption(configuredOptions, 'transform');\n  addFunctionOption(configuredOptions, 'checkIgnore');\n  addFunctionOption(configuredOptions, 'onSendCallback');\n\n  delete configuredOptions.accessToken;\n  item.data.notifier.configured_options = configuredOptions;\n  callback(null, item);\n}\n\nfunction addDiagnosticKeys(item, options, callback) {\n  var diagnostic = _.merge(\n    item.notifier.client.notifier.diagnostic,\n    item.diagnostic,\n  );\n\n  if (_.get(item, 'err._isAnonymous')) {\n    diagnostic.is_anonymous = true;\n  }\n\n  if (item._isUncaught) {\n    diagnostic.is_uncaught = item._isUncaught;\n  }\n\n  if (item.err) {\n    try {\n      diagnostic.raw_error = {\n        message: item.err.message,\n        name: item.err.name,\n        constructor_name: item.err.constructor && item.err.constructor.name,\n        filename: item.err.fileName,\n        line: item.err.lineNumber,\n        column: item.err.columnNumber,\n        stack: item.err.stack,\n      };\n    } catch (e) {\n      diagnostic.raw_error = { failed: String(e) };\n    }\n  }\n\n  item.data.notifier.diagnostic = _.merge(\n    item.data.notifier.diagnostic,\n    diagnostic,\n  );\n  callback(null, item);\n}\n\nexport {\n  itemToPayload,\n  addPayloadOptions,\n  addTelemetryData,\n  addMessageWithError,\n  userTransform,\n  addConfigToPayload,\n  addConfiguredOptions,\n  addDiagnosticKeys,\n};\n","/**\n * Default browser options\n */\nimport { commonScrubFields } from '../defaults.js';\n\nexport const scrubFields = [\n  ...commonScrubFields,\n  'cc-number',\n  'card number',\n  'cardnumber',\n  'cardnum',\n  'ccnum',\n  'ccnumber',\n  'cc num',\n  'creditcardnumber',\n  'credit card number',\n  'newcreditcardnumber',\n  'new credit card',\n  'creditcardno',\n  'credit card no',\n  'card#',\n  'card #',\n  'cc-csc',\n  'cvc',\n  'cvc2',\n  'cvv2',\n  'ccv2',\n  'security code',\n  'card verification',\n  'name on credit card',\n  'name on card',\n  'nameoncard',\n  'cardholder',\n  'card holder',\n  'name des karteninhabers',\n  'ccname',\n  'card type',\n  'cardtype',\n  'cc type',\n  'cctype',\n  'payment type',\n  'expiration date',\n  'expirationdate',\n  'expdate',\n  'cc-exp',\n  'ccmonth',\n  'ccyear',\n];\n\n// For compatibility with existing code that expects default export with scrubFields property\nexport default { scrubFields };\n","function captureUncaughtExceptions(window, handler, shim) {\n  if (!window) {\n    return;\n  }\n  var oldOnError;\n\n  if (typeof handler._rollbarOldOnError === 'function') {\n    oldOnError = handler._rollbarOldOnError;\n  } else if (window.onerror) {\n    oldOnError = window.onerror;\n    while (oldOnError._rollbarOldOnError) {\n      oldOnError = oldOnError._rollbarOldOnError;\n    }\n    handler._rollbarOldOnError = oldOnError;\n  }\n\n  handler.handleAnonymousErrors();\n\n  var fn = function () {\n    var args = Array.prototype.slice.call(arguments, 0);\n    _rollbarWindowOnError(window, handler, oldOnError, args);\n  };\n  if (shim) {\n    fn._rollbarOldOnError = oldOnError;\n  }\n  window.onerror = fn;\n}\n\nfunction _rollbarWindowOnError(window, r, old, args) {\n  if (window._rollbarWrappedError) {\n    if (!args[4]) {\n      args[4] = window._rollbarWrappedError;\n    }\n    if (!args[5]) {\n      args[5] = window._rollbarWrappedError._rollbarContext;\n    }\n    window._rollbarWrappedError = null;\n  }\n\n  var ret = r.handleUncaughtException.apply(r, args);\n\n  if (old) {\n    old.apply(window, args);\n  }\n\n  // Let other chained onerror handlers above run before setting this.\n  // If an error is thrown and caught within a chained onerror handler,\n  // Error.prepareStackTrace() will see that one before the one we want.\n  if (ret === 'anonymous') {\n    r.anonymousErrorsPending += 1; // See Rollbar.prototype.handleAnonymousErrors()\n  }\n}\n\nfunction captureUnhandledRejections(window, handler, shim) {\n  if (!window) {\n    return;\n  }\n\n  if (\n    typeof window._rollbarURH === 'function' &&\n    window._rollbarURH.belongsToShim\n  ) {\n    window.removeEventListener('unhandledrejection', window._rollbarURH);\n  }\n\n  var rejectionHandler = function (evt) {\n    var reason, promise, detail;\n    try {\n      reason = evt.reason;\n    } catch (_e) {\n      reason = undefined;\n    }\n    try {\n      promise = evt.promise;\n    } catch (_e) {\n      promise = '[unhandledrejection] error getting `promise` from event';\n    }\n    try {\n      detail = evt.detail;\n      if (!reason && detail) {\n        reason = detail.reason;\n        promise = detail.promise;\n      }\n    } catch (_e) {\n      // Ignore\n    }\n    if (!reason) {\n      reason = '[unhandledrejection] error getting `reason` from event';\n    }\n\n    if (handler && handler.handleUnhandledRejection) {\n      handler.handleUnhandledRejection(reason, promise);\n    }\n  };\n  rejectionHandler.belongsToShim = shim;\n  window._rollbarURH = rejectionHandler;\n  window.addEventListener('unhandledrejection', rejectionHandler);\n}\n\nexport { captureUncaughtExceptions, captureUnhandledRejections };\n","import * as _ from '../utility.js';\n\nfunction checkIgnore(item, settings) {\n  if (_.get(settings, 'plugins.jquery.ignoreAjaxErrors')) {\n    return !_.get(item, 'body.message.extra.isAjax');\n  }\n  return true;\n}\n\nexport { checkIgnore };\n","/**\n * Default session replay recording options\n * See https://github.com/rrweb-io/rrweb/blob/master/guide.md#options for details\n */\nexport default {\n  enabled: false, // Whether recording is enabled\n  autoStart: true, // Start recording automatically when Rollbar initializes\n\n  // defaults used by triggers that don't specify them\n  triggerDefaults: {\n    samplingRatio: 1.0,\n    preDuration: 300,\n    postDuration: 5,\n  },\n  triggers: [\n    {\n      type: 'occurrence',\n      level: ['error', 'critical'],\n    },\n  ],\n\n  debug: {\n    logErrors: true, // Whether to log errors emitted by rrweb.\n    logEmits: false, // Whether to log emitted events\n  },\n\n  // Recording options\n  inlineStylesheet: true, // Whether to inline stylesheets to improve replay accuracy\n  inlineImages: false, // Whether to record the image content\n  collectFonts: true, // Whether to collect fonts in the website\n\n  // Privacy options\n  // Fine-grained control over which input types to mask\n  // By default only password inputs are masked if maskInputs is true\n  maskInputOptions: {\n    password: true,\n    email: false,\n    tel: false,\n    text: false,\n    color: false,\n    date: false,\n    'datetime-local': false,\n    month: false,\n    number: false,\n    range: false,\n    search: false,\n    time: false,\n    url: false,\n    week: false,\n  },\n\n  // Mask all input values\n  maskAllInputs: false,\n\n  // Class names to block, mask, or ignore the content of elements.\n  blockClass: 'rb-block',\n  maskTextClass: 'rb-mask',\n  ignoreClass: 'rb-ignore',\n\n  // Remove unnecessary parts of the DOM\n  // By default all removable elements are removed\n  slimDOMOptions: {\n    script: true, // Remove script elements\n    comment: true, // Remove comments\n    headFavicon: true, // Remove favicons in the head\n    headWhitespace: true, // Remove whitespace in head\n    headMetaDescKeywords: true, // Remove meta description and keywords\n    headMetaSocial: true, // Remove social media meta tags\n    headMetaRobots: true, // Remove robots meta directives\n    headMetaHttpEquiv: true, // Remove http-equiv meta directives\n    headMetaAuthorship: true, // Remove authorship meta directives\n    headMetaVerification: true, // Remove verification meta directives\n  },\n\n  // Custom callbacks for advanced use cases\n  // These are undefined by default and can be set programmatically\n  // maskInputFn: undefined,      // Custom function to mask input values\n  // maskTextFn: undefined,       // Custom function to mask text content\n  // errorHandler: undefined,     // Custom error handler for recording errors\n\n  // Plugin system\n  // plugins: []                  // List of plugins to use (must be set programmatically)\n};\n","import errorParser from '../errorParser.js';\nimport logger from '../logger.js';\nimport * as _ from '../utility.js';\n\nfunction handleDomException(item, options, callback) {\n  if (item.err && errorParser.Stack(item.err).name === 'DOMException') {\n    var originalError = new Error();\n    originalError.name = item.err.name;\n    originalError.message = item.err.message;\n    originalError.stack = item.err.stack;\n    originalError.nested = item.err;\n    item.err = originalError;\n  }\n  callback(null, item);\n}\n\nfunction handleItemWithError(item, options, callback) {\n  item.data = item.data || {};\n  if (item.err) {\n    try {\n      item.stackInfo =\n        item.err._savedStackTrace ||\n        errorParser.parse(item.err, item.skipFrames);\n\n      if (options.addErrorContext) {\n        addErrorContext(item);\n      }\n    } catch (e) {\n      logger.error('Error while parsing the error object.', e);\n      try {\n        item.message =\n          item.err.message ||\n          item.err.description ||\n          item.message ||\n          String(item.err);\n      } catch (e2) {\n        item.message = String(item.err) || String(e2);\n      }\n      delete item.err;\n    }\n  }\n  callback(null, item);\n}\n\nfunction addErrorContext(item) {\n  var chain = [];\n  var err = item.err;\n\n  chain.push(err);\n\n  while (err.nested || err.cause) {\n    err = err.nested || err.cause;\n    chain.push(err);\n  }\n\n  _.addErrorContext(item, chain);\n}\n\nfunction ensureItemHasSomethingToSay(item, options, callback) {\n  if (!item.message && !item.stackInfo && !item.custom) {\n    callback(new Error('No message, stack info, or custom data'), null);\n  }\n  callback(null, item);\n}\n\nfunction addBaseInfo(item, options, callback) {\n  var environment =\n    (options.payload && options.payload.environment) || options.environment;\n  item.data = _.merge(item.data, {\n    environment: environment,\n    level: item.level,\n    endpoint: options.endpoint,\n    platform: 'browser',\n    framework: 'browser-js',\n    language: 'javascript',\n    server: {},\n    uuid: item.uuid,\n    notifier: {\n      name: 'rollbar-browser-js',\n      version: options.version,\n    },\n    custom: item.custom,\n  });\n  callback(null, item);\n}\n\nfunction addRequestInfo(window) {\n  return function (item, options, callback) {\n    var requestInfo = {};\n\n    if (window && window.location) {\n      requestInfo.url = window.location.href;\n      requestInfo.query_string = window.location.search;\n    }\n\n    var remoteString = '$remote_ip';\n    if (!options.captureIp) {\n      remoteString = null;\n    } else if (options.captureIp !== true) {\n      remoteString += '_anonymize';\n    }\n    if (remoteString) requestInfo.user_ip = remoteString;\n\n    if (Object.keys(requestInfo).length > 0) {\n      _.set(item, 'data.request', requestInfo);\n    }\n\n    callback(null, item);\n  };\n}\n\nfunction addClientInfo(window) {\n  return function (item, options, callback) {\n    if (!window) {\n      return callback(null, item);\n    }\n    var nav = window.navigator || {};\n    var scr = window.screen || {};\n    _.set(item, 'data.client', {\n      runtime_ms: item.timestamp - window._rollbarStartTime,\n      timestamp: Math.round(item.timestamp / 1000),\n      javascript: {\n        browser: nav.userAgent,\n        language: nav.language,\n        cookie_enabled: nav.cookieEnabled,\n        screen: {\n          width: scr.width,\n          height: scr.height,\n        },\n      },\n    });\n    callback(null, item);\n  };\n}\n\nfunction addPluginInfo(window) {\n  return function (item, options, callback) {\n    if (!window || !window.navigator) {\n      return callback(null, item);\n    }\n    var plugins = [];\n    var navPlugins = window.navigator.plugins || [];\n    var cur;\n    for (var i = 0, l = navPlugins.length; i < l; ++i) {\n      cur = navPlugins[i];\n      plugins.push({ name: cur.name, description: cur.description });\n    }\n    _.set(item, 'data.client.javascript.plugins', plugins);\n    callback(null, item);\n  };\n}\n\nfunction addBody(item, options, callback) {\n  if (item.stackInfo) {\n    if (item.stackInfo.traceChain) {\n      addBodyTraceChain(item, options, callback);\n    } else {\n      addBodyTrace(item, options, callback);\n    }\n  } else {\n    addBodyMessage(item, options, callback);\n  }\n}\n\nfunction addBodyMessage(item, options, callback) {\n  var message = item.message;\n  var custom = item.custom;\n\n  if (!message) {\n    message = 'Item sent with null or missing arguments.';\n  }\n  var result = {\n    body: message,\n  };\n\n  if (custom) {\n    result.extra = _.merge(custom);\n  }\n\n  _.set(item, 'data.body', { message: result });\n  callback(null, item);\n}\n\nfunction stackFromItem(item, stackInfo = null) {\n  // Transform a TraceKit stackInfo object into a Rollbar trace\n  let stack = (stackInfo || item.stackInfo).stack;\n  if (\n    stack &&\n    stack.length === 0 &&\n    item._unhandledStackInfo &&\n    item._unhandledStackInfo.stack\n  ) {\n    stack = item._unhandledStackInfo.stack;\n  }\n  return stack;\n}\n\nfunction addBodyTraceChain(item, options, callback) {\n  var traceChain = item.stackInfo.traceChain;\n  var traces = [];\n\n  var traceChainLength = traceChain.length;\n  for (var i = 0; i < traceChainLength; i++) {\n    var trace = buildTrace(item, traceChain[i], options);\n    traces.push(trace);\n  }\n\n  _.set(item, 'data.body', { trace_chain: traces });\n  callback(null, item);\n}\n\nfunction addBodyTrace(item, options, callback) {\n  var stack = stackFromItem(item);\n\n  if (stack) {\n    var trace = buildTrace(item, item.stackInfo, options);\n    _.set(item, 'data.body', { trace: trace });\n    callback(null, item);\n  } else {\n    var stackInfo = item.stackInfo;\n    var guess = errorParser.guessErrorClass(stackInfo.message);\n    var className = errorClass(stackInfo, guess[0], options);\n    var message = guess[1];\n\n    item.message = className + ': ' + message;\n    addBodyMessage(item, options, callback);\n  }\n}\n\nfunction buildTrace(item, stackInfo, options) {\n  var description = item && item.data.description;\n  var custom = item && item.custom;\n  var stack = stackFromItem(item, stackInfo);\n\n  var guess = errorParser.guessErrorClass(stackInfo.message);\n  var className = errorClass(stackInfo, guess[0], options);\n  var message = guess[1];\n  var trace = {\n    exception: {\n      class: className,\n      message: message,\n    },\n  };\n\n  if (description) {\n    trace.exception.description = description;\n  }\n\n  if (stack) {\n    if (stack.length === 0) {\n      trace.exception.stack = stackInfo.rawStack;\n      trace.exception.raw = String(stackInfo.rawException);\n    }\n    var stackFrame;\n    var frame;\n    var code;\n    var pre;\n    var post;\n    var contextLength;\n    var i, mid;\n\n    trace.frames = [];\n    for (i = 0; i < stack.length; ++i) {\n      stackFrame = stack[i];\n      frame = {\n        filename: stackFrame.url ? _.sanitizeUrl(stackFrame.url) : '(unknown)',\n        lineno: stackFrame.line || null,\n        method:\n          !stackFrame.func || stackFrame.func === '?'\n            ? '[anonymous]'\n            : stackFrame.func,\n        colno: stackFrame.column,\n      };\n      if (options.sendFrameUrl) {\n        frame.url = stackFrame.url;\n      }\n      if (\n        frame.method &&\n        frame.method.endsWith &&\n        frame.method.endsWith('_rollbar_wrapped')\n      ) {\n        continue;\n      }\n\n      code = pre = post = null;\n      contextLength = stackFrame.context ? stackFrame.context.length : 0;\n      if (contextLength) {\n        mid = Math.floor(contextLength / 2);\n        pre = stackFrame.context.slice(0, mid);\n        code = stackFrame.context[mid];\n        post = stackFrame.context.slice(mid);\n      }\n\n      if (code) {\n        frame.code = code;\n      }\n\n      if (pre || post) {\n        frame.context = {};\n        if (pre && pre.length) {\n          frame.context.pre = pre;\n        }\n        if (post && post.length) {\n          frame.context.post = post;\n        }\n      }\n\n      if (stackFrame.args) {\n        frame.args = stackFrame.args;\n      }\n\n      trace.frames.push(frame);\n    }\n\n    // NOTE(cory): reverse the frames since rollbar.com expects the most recent call last\n    trace.frames.reverse();\n\n    if (custom) {\n      trace.extra = _.merge(custom);\n    }\n  }\n\n  return trace;\n}\n\nfunction errorClass(stackInfo, guess, options) {\n  if (stackInfo.name) {\n    return stackInfo.name;\n  } else if (options.guessErrorClass) {\n    return guess;\n  } else {\n    return '(unknown)';\n  }\n}\n\nfunction addScrubber(scrubFn) {\n  return function (item, options, callback) {\n    if (scrubFn) {\n      var scrubFields = options.scrubFields || [];\n      var scrubPaths = options.scrubPaths || [];\n      item.data = scrubFn(item.data, scrubFields, scrubPaths);\n    }\n    callback(null, item);\n  };\n}\n\nexport {\n  handleDomException,\n  handleItemWithError,\n  ensureItemHasSomethingToSay,\n  addBaseInfo,\n  addRequestInfo,\n  addClientInfo,\n  addPluginInfo,\n  addBody,\n  addScrubber,\n};\n","import logger from '../../logger.js';\nimport * as _ from '../../utility.js';\n\nfunction makeFetchRequest({\n  accessToken,\n  url,\n  method,\n  payload,\n  headers,\n  callback,\n  timeout,\n}) {\n  var controller;\n  var timeoutId;\n\n  if (_.isFiniteNumber(timeout)) {\n    controller = new AbortController();\n    timeoutId = setTimeout(function () {\n      controller.abort();\n    }, timeout);\n  }\n\n  headers = {\n    'Content-Type': 'application/json',\n    'X-Rollbar-Access-Token': accessToken,\n    signal: controller && controller.signal,\n    ...headers,\n  };\n\n  fetch(url, {\n    method,\n    headers,\n    body: payload,\n  })\n    .then(function (response) {\n      if (timeoutId) clearTimeout(timeoutId);\n      const respHeaders = response.headers;\n\n      const isItemRoute = url.endsWith('/api/1/item/');\n      const headers = isItemRoute\n        ? {\n            'Rollbar-Replay-Enabled': respHeaders.get('Rollbar-Replay-Enabled'),\n            'Rollbar-Replay-RateLimit-Remaining': respHeaders.get(\n              'Rollbar-Replay-RateLimit-Remaining',\n            ),\n            'Rollbar-Replay-RateLimit-Reset': respHeaders.get(\n              'Rollbar-Replay-RateLimit-Reset',\n            ),\n          }\n        : {};\n\n      const json = response.json();\n      callback(null, json, headers);\n    })\n    .catch(function (error) {\n      logger.error(error.message);\n      callback(error);\n    });\n}\n\nexport default makeFetchRequest;\n","/*global XDomainRequest*/\n\nimport logger from '../../logger.js';\nimport * as _ from '../../utility.js';\n\nfunction makeXhrRequest({\n  accessToken,\n  url,\n  method,\n  payload,\n  headers,\n  callback,\n  requestFactory,\n  timeout,\n}) {\n  var request;\n  if (requestFactory) {\n    request = requestFactory();\n  } else {\n    request = _createXMLHTTPObject();\n  }\n  if (!request) {\n    // Give up, no way to send requests\n    return callback(new Error('No way to send a request'));\n  }\n  try {\n    try {\n      var onreadystatechange = function () {\n        try {\n          if (onreadystatechange && request.readyState === 4) {\n            onreadystatechange = undefined;\n\n            var parseResponse = _.jsonParse(request.responseText);\n            if (_isSuccess(request)) {\n              const isItemRoute = url.endsWith('/api/1/item/');\n\n              const headers = isItemRoute\n                ? {\n                    'Rollbar-Replay-Enabled': request.getResponseHeader(\n                      'Rollbar-Replay-Enabled',\n                    ),\n                    'Rollbar-Replay-RateLimit-Remaining':\n                      request.getResponseHeader(\n                        'Rollbar-Replay-RateLimit-Remaining',\n                      ),\n                    'Rollbar-Replay-RateLimit-Reset': request.getResponseHeader(\n                      'Rollbar-Replay-RateLimit-Reset',\n                    ),\n                  }\n                : {};\n              callback(parseResponse.error, parseResponse.value, headers);\n              return;\n            } else if (_isNormalFailure(request)) {\n              if (request.status === 403) {\n                // likely caused by using a server access token\n                var message =\n                  parseResponse.value && parseResponse.value.message;\n                logger.error(message);\n              }\n              // return valid http status codes\n              callback(new Error(String(request.status)));\n            } else {\n              // IE will return a status 12000+ on some sort of connection failure,\n              // so we return a blank error\n              // http://msdn.microsoft.com/en-us/library/aa383770%28VS.85%29.aspx\n              var msg =\n                'XHR response had no status code (likely connection failure)';\n              callback(_newRetriableError(msg));\n            }\n          }\n        } catch (ex) {\n          //jquery source mentions firefox may error out while accessing the\n          //request members if there is a network error\n          //https://github.com/jquery/jquery/blob/a938d7b1282fc0e5c52502c225ae8f0cef219f0a/src/ajax/xhr.js#L111\n          var exc;\n          if (ex && ex.stack) {\n            exc = ex;\n          } else {\n            exc = new Error(ex);\n          }\n          callback(exc);\n        }\n      };\n\n      request.open(method, url, true);\n      if (request.setRequestHeader) {\n        request.setRequestHeader('Content-Type', 'application/json');\n        request.setRequestHeader('X-Rollbar-Access-Token', accessToken);\n        for (const [h, v] of Object.entries(headers ?? {})) {\n          request.setRequestHeader(h, v);\n        }\n      }\n\n      if (_.isFiniteNumber(timeout)) {\n        request.timeout = timeout;\n      }\n\n      request.onreadystatechange = onreadystatechange;\n      request.send(payload);\n    } catch (_e1) {\n      // Sending using the normal xmlhttprequest object didn't work, try XDomainRequest\n      if (typeof XDomainRequest !== 'undefined') {\n        // Assume we are in a really old browser which has a bunch of limitations:\n        // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n\n        // Extreme paranoia: if we have XDomainRequest then we have a window, but just in case\n        if (!window || !window.location) {\n          return callback(\n            new Error(\n              'No window available during request, unknown environment',\n            ),\n          );\n        }\n\n        // If the current page is http, try and send over http\n        if (\n          window.location.href.substring(0, 5) === 'http:' &&\n          url.substring(0, 5) === 'https'\n        ) {\n          url = 'http' + url.substring(5);\n        }\n\n        var xdomainrequest = new XDomainRequest();\n        xdomainrequest.onprogress = () => {};\n        xdomainrequest.ontimeout = function () {\n          var msg = 'Request timed out';\n          var code = 'ETIMEDOUT';\n          callback(_newRetriableError(msg, code));\n        };\n        xdomainrequest.onerror = function () {\n          callback(new Error('Error during request'));\n        };\n        xdomainrequest.onload = function () {\n          var parseResponse = _.jsonParse(xdomainrequest.responseText);\n          callback(parseResponse.error, parseResponse.value);\n        };\n        xdomainrequest.open(method, url, true);\n        xdomainrequest.send(payload);\n      } else {\n        callback(new Error('Cannot find a method to transport a request'));\n      }\n    }\n  } catch (e2) {\n    callback(e2);\n  }\n}\n\nfunction _createXMLHTTPObject() {\n  /* global ActiveXObject:false */\n\n  var factories = [\n    function () {\n      return new XMLHttpRequest();\n    },\n    function () {\n      return new ActiveXObject('Msxml2.XMLHTTP');\n    },\n    function () {\n      return new ActiveXObject('Msxml3.XMLHTTP');\n    },\n    function () {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    },\n  ];\n  var xmlhttp;\n  var i;\n  var numFactories = factories.length;\n  for (i = 0; i < numFactories; i++) {\n    try {\n      xmlhttp = factories[i]();\n      break;\n    } catch (_e) {\n      // pass\n    }\n  }\n  return xmlhttp;\n}\n\nfunction _isSuccess(r) {\n  return r && r.status && r.status === 200;\n}\n\nfunction _isNormalFailure(r) {\n  return r && _.isType(r.status, 'number') && r.status >= 400 && r.status < 600;\n}\n\nfunction _newRetriableError(message, code) {\n  var err = new Error(message);\n  err.code = code || 'ENOTFOUND';\n  return err;\n}\n\nexport default makeXhrRequest;\n","import * as _ from '../utility.js';\n\nimport makeFetchRequest from './transport/fetch.js';\nimport makeXhrRequest from './transport/xhr.js';\n\n/*\n * accessToken may be embedded in payload but that should not\n *   be assumed\n *\n * options: {\n *   hostname\n *   protocol\n *   path\n *   port\n *   method\n *   transport ('xhr' | 'fetch')\n * }\n *\n *  params is an object containing key/value pairs. These\n *    will be appended to the path as 'key=value&key=value'\n *\n * payload is an unserialized object\n */\nfunction Transport(truncation) {\n  this.truncation = truncation;\n}\n\nTransport.prototype.get = function (\n  accessToken,\n  options,\n  params,\n  callback,\n  requestFactory,\n) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = () => {};\n  }\n  _.addParamsAndAccessTokenToPath(accessToken, options, params);\n\n  var method = 'GET';\n  var url = _.formatUrl(options);\n  this._makeZoneRequest({\n    accessToken,\n    url,\n    method,\n    callback,\n    requestFactory,\n    timeout: options.timeout,\n    transport: options.transport,\n  });\n};\n\nTransport.prototype.post = function ({\n  accessToken,\n  options,\n  payload,\n  headers,\n  callback,\n  requestFactory,\n}) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = () => {};\n  }\n\n  if (!payload) {\n    return callback(new Error('Cannot send empty request'));\n  }\n\n  var stringifyResult;\n  // Check payload.body to ensure only items are truncated.\n  if (this.truncation && payload.body) {\n    stringifyResult = this.truncation.truncate(payload);\n  } else {\n    stringifyResult = _.stringify(payload);\n  }\n  if (stringifyResult.error) {\n    return callback(stringifyResult.error);\n  }\n\n  var method = 'POST';\n  var url = _.formatUrl(options);\n  this._makeZoneRequest({\n    accessToken,\n    url,\n    method,\n    payload: stringifyResult.value,\n    headers,\n    callback,\n    requestFactory,\n    timeout: options.timeout,\n    transport: options.transport,\n  });\n};\n\nTransport.prototype.postJsonPayload = function (\n  accessToken,\n  options,\n  payload,\n  callback,\n  requestFactory,\n) {\n  if (!callback || !_.isFunction(callback)) {\n    callback = () => {};\n  }\n\n  var method = 'POST';\n  var url = _.formatUrl(options);\n  this._makeZoneRequest({\n    accessToken,\n    url,\n    method,\n    payload,\n    callback,\n    requestFactory,\n    timeout: options.timeout,\n    transport: options.transport,\n  });\n};\n\n// Wraps `_makeRequest` if zone.js is being used, ensuring that Rollbar\n// API calls are not intercepted by any child forked zones.\n// This is equivalent to `NgZone.runOutsideAngular` in Angular.\nTransport.prototype._makeZoneRequest = function () {\n  var gWindow =\n    (typeof window !== 'undefined' && window) ||\n    (typeof self !== 'undefined' && self);\n  // Whenever zone.js is loaded and `Zone` is exposed globally, access\n  // the root zone to ensure that requests are always made within it.\n  // This approach is framework-agnostic, regardless of which\n  // framework zone.js is used with.\n  var rootZone = gWindow && gWindow.Zone && gWindow.Zone.root;\n  var args = Array.prototype.slice.call(arguments);\n\n  if (rootZone) {\n    rootZone.run(() => {\n      this._makeRequest.apply(undefined, args);\n    });\n  } else {\n    this._makeRequest.apply(undefined, args);\n  }\n};\n\nTransport.prototype._makeRequest = function (params) {\n  const { payload, callback, transport } = params;\n  if (typeof RollbarProxy !== 'undefined') {\n    return _proxyRequest(payload, callback);\n  }\n\n  if (transport === 'fetch') {\n    makeFetchRequest(params);\n  } else {\n    makeXhrRequest(params);\n  }\n};\n\n/* global RollbarProxy */\nfunction _proxyRequest(json, callback) {\n  var rollbarProxy = new RollbarProxy();\n  rollbarProxy.sendJsonPayload(\n    json,\n    function (_msg) {\n      /* do nothing */\n    },\n    function (err) {\n      callback(new Error(err));\n    },\n  );\n}\n\nexport default Transport;\n","// See https://nodejs.org/docs/latest/api/url.html\nfunction parse(url) {\n  var result = {\n    protocol: null,\n    auth: null,\n    host: null,\n    path: null,\n    hash: null,\n    href: url,\n    hostname: null,\n    port: null,\n    pathname: null,\n    search: null,\n    query: null,\n  };\n\n  var i, last;\n  i = url.indexOf('//');\n  if (i !== -1) {\n    result.protocol = url.substring(0, i);\n    last = i + 2;\n  } else {\n    last = 0;\n  }\n\n  i = url.indexOf('@', last);\n  if (i !== -1) {\n    result.auth = url.substring(last, i);\n    last = i + 1;\n  }\n\n  i = url.indexOf('/', last);\n  if (i === -1) {\n    i = url.indexOf('?', last);\n    if (i === -1) {\n      i = url.indexOf('#', last);\n      if (i === -1) {\n        result.host = url.substring(last);\n      } else {\n        result.host = url.substring(last, i);\n        result.hash = url.substring(i);\n      }\n      result.hostname = result.host.split(':')[0];\n      result.port = result.host.split(':')[1];\n      if (result.port) {\n        result.port = parseInt(result.port, 10);\n      }\n      return result;\n    } else {\n      result.host = url.substring(last, i);\n      result.hostname = result.host.split(':')[0];\n      result.port = result.host.split(':')[1];\n      if (result.port) {\n        result.port = parseInt(result.port, 10);\n      }\n      last = i;\n    }\n  } else {\n    result.host = url.substring(last, i);\n    result.hostname = result.host.split(':')[0];\n    result.port = result.host.split(':')[1];\n    if (result.port) {\n      result.port = parseInt(result.port, 10);\n    }\n    last = i;\n  }\n\n  i = url.indexOf('#', last);\n  if (i === -1) {\n    result.path = url.substring(last);\n  } else {\n    result.path = url.substring(last, i);\n    result.hash = url.substring(i);\n  }\n\n  if (result.path) {\n    var pathParts = result.path.split('?');\n    result.pathname = pathParts[0];\n    result.query = pathParts[1];\n    result.search = result.query ? '?' + result.query : null;\n  }\n  return result;\n}\n\nexport { parse };\n","import API from '../api.js';\nimport defaults from '../defaults.js';\nimport errorParser from '../errorParser.js';\nimport logger from '../logger.js';\nimport * as sharedPredicates from '../predicates.js';\nimport Client from '../rollbar.js';\nimport tracingDefaults from '../tracing/defaults.js';\nimport * as sharedTransforms from '../transforms.js';\nimport * as _ from '../utility.js';\n\nimport browserDefaults from './defaults.js';\nimport * as globals from './globalSetup.js';\nimport * as predicates from './predicates.js';\nimport replayDefaults from './replay/defaults.js';\nimport * as transforms from './transforms.js';\nimport Transport from './transport.js';\nimport * as urllib from './url.js';\n\n// Used to support global `Rollbar` instance.\nlet _instance = null;\n\nclass Rollbar {\n  constructor(options, client) {\n    logger.init({ logLevel: options.logLevel || 'error' });\n    this.options = _.handleOptions(defaultOptions, options, null, logger);\n    this.options._configuredOptions = options;\n    this.components = this.components || {};\n    const Telemeter = this.components.telemeter;\n    const Instrumenter = this.components.instrumenter;\n    this.wrapGlobals = this.components.wrapGlobals;\n    this.scrub = this.components.scrub;\n    const truncation = this.components.truncation;\n    const Tracing = this.components.tracing;\n    const Replay = this.components.replay;\n\n    const transport = new Transport(truncation);\n    const api = new API(this.options, transport, urllib, truncation);\n    if (Tracing) {\n      this.tracing = new Tracing(_gWindow(), api, this.options);\n      this.tracing.initSession();\n    }\n    if (Telemeter) {\n      this.telemeter = new Telemeter(this.options, this.tracing);\n    }\n\n    if (Replay && _.isBrowser()) {\n      const replayOptions = this.options.replay;\n      this.replay = new Replay({\n        tracing: this.tracing,\n        telemeter: this.telemeter,\n        options: replayOptions,\n      });\n\n      if (replayOptions.enabled && replayOptions.autoStart) {\n        this.replay.recorder.start();\n      }\n    }\n\n    this.client =\n      client ||\n      new Client(\n        this.options,\n        api,\n        logger,\n        this.telemeter,\n        this.tracing,\n        this.replay,\n        'browser',\n      );\n    var gWindow = _gWindow();\n    var gDocument = typeof document !== 'undefined' && document;\n    this.isChrome = gWindow.chrome && gWindow.chrome.runtime; // check .runtime to avoid Edge browsers\n    this.anonymousErrorsPending = 0;\n    addTransformsToNotifier(this.client.notifier, this, gWindow);\n    addPredicatesToQueue(this.client.queue);\n    this.setupUnhandledCapture();\n    if (Instrumenter) {\n      this.instrumenter = new Instrumenter(\n        this.options,\n        this.client.telemeter,\n        this,\n        gWindow,\n        gDocument,\n      );\n      this.instrumenter.instrument();\n    }\n\n    this.setSessionAttributesFromOptions(options);\n\n    // Used with rollbar-react for rollbar-react-native compatibility.\n    this.rollbar = this;\n  }\n\n  static init(options, client) {\n    if (_instance) {\n      return _instance.global(options).configure(options);\n    }\n    _instance = new Rollbar(options, client);\n    return _instance;\n  }\n\n  static setComponents(components) {\n    Rollbar.prototype.components = components;\n  }\n\n  global(options) {\n    this.client.global(options);\n    return this;\n  }\n\n  configure(options, payloadData) {\n    if (options.logLevel) {\n      logger.init({ logLevel: options.logLevel });\n    }\n    this.setSessionAttributesFromOptions(options);\n    var oldOptions = this.options;\n    var payload = {};\n    if (payloadData) {\n      payload = { payload: payloadData };\n    }\n\n    this.options = _.handleOptions(oldOptions, options, payload, logger);\n    this.options._configuredOptions = _.handleOptions(\n      oldOptions._configuredOptions,\n      options,\n      payload,\n    );\n\n    this.tracing?.configure(this.options);\n    this.replay?.configure(this.options.replay);\n    this.client.configure(this.options, payloadData);\n    this.instrumenter?.configure(this.options);\n    this.setupUnhandledCapture();\n    return this;\n  }\n\n  lastError() {\n    return this.client.lastError;\n  }\n\n  log() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.log(item);\n    return { uuid: uuid };\n  }\n\n  debug() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.debug(item);\n    return { uuid: uuid };\n  }\n\n  info() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.info(item);\n    return { uuid: uuid };\n  }\n\n  warn() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.warn(item);\n    return { uuid: uuid };\n  }\n\n  warning() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.warning(item);\n    return { uuid: uuid };\n  }\n\n  error() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.error(item);\n    return { uuid: uuid };\n  }\n\n  critical() {\n    var item = this._createItem(arguments);\n    var uuid = item.uuid;\n    this.client.critical(item);\n    return { uuid: uuid };\n  }\n\n  buildJsonPayload(item) {\n    return this.client.buildJsonPayload(item);\n  }\n\n  sendJsonPayload(jsonPayload) {\n    return this.client.sendJsonPayload(jsonPayload);\n  }\n\n  triggerDirectReplay(context) {\n    return this.triggerReplay({ type: 'direct', ...context });\n  }\n\n  triggerReplay(context) {\n    if (!this.replay) return null;\n\n    return this.replay.triggerReplay(context);\n  }\n\n  setupUnhandledCapture() {\n    var gWindow = _gWindow();\n\n    if (!this.unhandledExceptionsInitialized) {\n      if (\n        this.options.captureUncaught ||\n        this.options.handleUncaughtExceptions\n      ) {\n        globals.captureUncaughtExceptions(gWindow, this);\n        if (this.wrapGlobals && this.options.wrapGlobalEventHandlers) {\n          this.wrapGlobals(gWindow, this);\n        }\n        this.unhandledExceptionsInitialized = true;\n      }\n    }\n    if (!this.unhandledRejectionsInitialized) {\n      if (\n        this.options.captureUnhandledRejections ||\n        this.options.handleUnhandledRejections\n      ) {\n        globals.captureUnhandledRejections(gWindow, this);\n        this.unhandledRejectionsInitialized = true;\n      }\n    }\n  }\n\n  handleUncaughtException(message, url, lineno, colno, error, context) {\n    if (\n      !this.options.captureUncaught &&\n      !this.options.handleUncaughtExceptions\n    ) {\n      return;\n    }\n\n    // Chrome will always send 5+ arguments and error will be valid or null, not undefined.\n    // If error is undefined, we have a different caller.\n    // Chrome also sends errors from web workers with null error, but does not invoke\n    // prepareStackTrace() for these. Test for empty url to skip them.\n    if (\n      this.options.inspectAnonymousErrors &&\n      this.isChrome &&\n      error === null &&\n      url === ''\n    ) {\n      return 'anonymous';\n    }\n\n    var item;\n    var stackInfo = _.makeUnhandledStackInfo(\n      message,\n      url,\n      lineno,\n      colno,\n      error,\n      'onerror',\n      'uncaught exception',\n      errorParser,\n    );\n    if (_.isError(error)) {\n      item = this._createItem([message, error, context]);\n      item._unhandledStackInfo = stackInfo;\n    } else if (_.isError(url)) {\n      item = this._createItem([message, url, context]);\n      item._unhandledStackInfo = stackInfo;\n    } else {\n      item = this._createItem([message, context]);\n      item.stackInfo = stackInfo;\n    }\n    item.level = this.options.uncaughtErrorLevel;\n    item._isUncaught = true;\n    this.client.log(item);\n  }\n\n  /**\n   * Chrome only. Other browsers will ignore.\n   *\n   * Use Error.prepareStackTrace to extract information about errors that\n   * do not have a valid error object in onerror().\n   *\n   * In tested version of Chrome, onerror is called first but has no way\n   * to communicate with prepareStackTrace. Use a counter to let this\n   * handler know which errors to send to Rollbar.\n   *\n   * In config options, set inspectAnonymousErrors to enable.\n   */\n  handleAnonymousErrors() {\n    if (!this.options.inspectAnonymousErrors || !this.isChrome) {\n      return;\n    }\n\n    const prepareStackTrace = (error, _stack) => {\n      if (this.options.inspectAnonymousErrors) {\n        if (this.anonymousErrorsPending) {\n          // This is the only known way to detect that onerror saw an anonymous error.\n          // It depends on onerror reliably being called before Error.prepareStackTrace,\n          // which so far holds true on tested versions of Chrome. If versions of Chrome\n          // are tested that behave differently, this logic will need to be updated\n          // accordingly.\n          this.anonymousErrorsPending -= 1;\n\n          if (!error) {\n            // Not likely to get here, but calling handleUncaughtException from here\n            // without an error object would throw off the anonymousErrorsPending counter,\n            // so return now.\n            return;\n          }\n\n          // Allow this to be tracked later.\n          error._isAnonymous = true;\n\n          // url, lineno, colno shouldn't be needed for these errors.\n          // If that changes, update this accordingly, using the unused\n          // _stack param as needed (rather than parse error.toString()).\n          this.handleUncaughtException(error.message, null, null, null, error);\n        }\n      }\n\n      // Workaround to ensure stack is preserved for normal errors.\n      return error.stack;\n    };\n\n    // https://v8.dev/docs/stack-trace-api\n    try {\n      Error.prepareStackTrace = prepareStackTrace;\n    } catch (e) {\n      this.options.inspectAnonymousErrors = false;\n      this.error('anonymous error handler failed', e);\n    }\n  }\n\n  handleUnhandledRejection(reason, promise) {\n    if (\n      !this.options.captureUnhandledRejections &&\n      !this.options.handleUnhandledRejections\n    ) {\n      return;\n    }\n\n    var message = 'unhandled rejection was null or undefined!';\n    if (reason) {\n      if (reason.message) {\n        message = reason.message;\n      } else {\n        var reasonResult = _.stringify(reason);\n        if (reasonResult.value) {\n          message = reasonResult.value;\n        }\n      }\n    }\n    var context =\n      (reason && reason._rollbarContext) ||\n      (promise && promise._rollbarContext);\n\n    var item;\n    if (_.isError(reason)) {\n      item = this._createItem([message, reason, context]);\n    } else {\n      item = this._createItem([message, reason, context]);\n      item.stackInfo = _.makeUnhandledStackInfo(\n        message,\n        '',\n        0,\n        0,\n        null,\n        'unhandledrejection',\n        '',\n        errorParser,\n      );\n    }\n    item.level = this.options.uncaughtErrorLevel;\n    item._isUncaught = true;\n    item._originalArgs = item._originalArgs || [];\n    item._originalArgs.push(promise);\n    this.client.log(item);\n  }\n\n  wrap(f, context, _before) {\n    try {\n      var ctxFn;\n      if (_.isFunction(context)) {\n        ctxFn = context;\n      } else {\n        ctxFn = function () {\n          return context || {};\n        };\n      }\n\n      if (!_.isFunction(f)) {\n        return f;\n      }\n\n      if (f._isWrap) {\n        return f;\n      }\n\n      if (!f._rollbar_wrapped) {\n        f._rollbar_wrapped = function () {\n          if (_before && _.isFunction(_before)) {\n            _before.apply(this, arguments);\n          }\n          try {\n            return f.apply(this, arguments);\n          } catch (exc) {\n            var e = exc;\n            if (e && window._rollbarWrappedError !== e) {\n              if (_.isType(e, 'string')) {\n                e = new String(e);\n              }\n              e._rollbarContext = ctxFn() || {};\n              e._rollbarContext._wrappedSource = f.toString();\n\n              window._rollbarWrappedError = e;\n            }\n            throw e;\n          }\n        };\n\n        f._rollbar_wrapped._isWrap = true;\n\n        for (var prop in f) {\n          if (_.hasOwn(f, prop) && prop !== '_rollbar_wrapped') {\n            f._rollbar_wrapped[prop] = f[prop];\n          }\n        }\n      }\n\n      return f._rollbar_wrapped;\n    } catch (_e) {\n      // Return the original function if the wrap fails.\n      return f;\n    }\n  }\n\n  captureEvent() {\n    var event = _.createTelemetryEvent(arguments);\n    return this.client.captureEvent(event.type, event.metadata, event.level);\n  }\n\n  setSessionUser(user) {\n    if (!this.tracing?.session) return;\n\n    this.tracing.session.setUser(user);\n  }\n\n  setSessionAttributes(attrs) {\n    if (!this.tracing?.session) return;\n\n    attrs = { ...attrs };\n\n    this.tracing.session.setAttributes(attrs);\n  }\n\n  setSessionAttributesFromOptions(options) {\n    const person = options.person || options.payload?.person;\n    if (person) {\n      this.setSessionUser(person);\n    }\n    const code_version =\n      options.client?.javascript?.code_version ||\n      options.codeVersion ||\n      options.code_version ||\n      options.payload?.client?.javascript?.code_version ||\n      options.payload?.code_version ||\n      options.payload?.codeVersion;\n    this.setSessionAttributes({\n      'rollbar.codeVersion': code_version,\n      'rollbar.notifier.name': 'rollbar-browser-js',\n      'rollbar.notifier.version': options.version,\n    });\n  }\n\n  // The following two methods are used internally and are not meant for public use\n  captureDomContentLoaded(e, ts) {\n    if (!ts) {\n      ts = new Date();\n    }\n    return this.client.captureDomContentLoaded(ts);\n  }\n\n  captureLoad(e, ts) {\n    if (!ts) {\n      ts = new Date();\n    }\n    return this.client.captureLoad(ts);\n  }\n\n  loadFull() {\n    logger.info(\n      'Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.',\n    );\n  }\n\n  _createItem(args) {\n    return _.createItem(args, logger, this);\n  }\n\n  // Static version of instance methods support the legacy pattern of a\n  // global `Rollbar` instance, where after calling `Rollbar.init()`,\n  // `Rollbar` can be used as if it were an instance.\n  // If support for this pattern is dropped, these static methods can be removed.\n  static callInstance(method, args) {\n    if (!_instance) {\n      const message = 'Rollbar is not initialized';\n      logger.error(message);\n      const maybeCallback = _getFirstFunction(args);\n      if (maybeCallback) {\n        maybeCallback(new Error(message));\n      }\n      return;\n    }\n    return _instance[method].apply(_instance, args);\n  }\n\n  static global = (...args) => Rollbar.callInstance('global', args);\n  static configure = (...args) => Rollbar.callInstance('configure', args);\n  static lastError = (...args) => Rollbar.callInstance('lastError', args);\n  static log = (...args) => Rollbar.callInstance('log', args);\n  static debug = (...args) => Rollbar.callInstance('debug', args);\n  static info = (...args) => Rollbar.callInstance('info', args);\n  static warn = (...args) => Rollbar.callInstance('warn', args);\n  static warning = (...args) => Rollbar.callInstance('warning', args);\n  static error = (...args) => Rollbar.callInstance('error', args);\n  static critical = (...args) => Rollbar.callInstance('critical', args);\n  static buildJsonPayload = (...args) =>\n    Rollbar.callInstance('buildJsonPayload', args);\n  static sendJsonPayload = (...args) =>\n    Rollbar.callInstance('sendJsonPayload', args);\n  static wrap = (...args) => Rollbar.callInstance('wrap', args);\n  static captureEvent = (...args) => Rollbar.callInstance('captureEvent', args);\n}\n\n/* Internal */\n\nfunction addTransformsToNotifier(notifier, rollbar, gWindow) {\n  notifier\n    .addTransform(transforms.handleDomException)\n    .addTransform(transforms.handleItemWithError)\n    .addTransform(transforms.ensureItemHasSomethingToSay)\n    .addTransform(transforms.addBaseInfo)\n    .addTransform(transforms.addRequestInfo(gWindow))\n    .addTransform(transforms.addClientInfo(gWindow))\n    .addTransform(transforms.addPluginInfo(gWindow))\n    .addTransform(transforms.addBody)\n    .addTransform(sharedTransforms.addMessageWithError)\n    .addTransform(sharedTransforms.addTelemetryData)\n    .addTransform(sharedTransforms.addConfigToPayload)\n    .addTransform(transforms.addScrubber(rollbar.scrub))\n    .addTransform(sharedTransforms.addPayloadOptions)\n    .addTransform(sharedTransforms.userTransform(logger))\n    .addTransform(sharedTransforms.addConfiguredOptions)\n    .addTransform(sharedTransforms.addDiagnosticKeys)\n    .addTransform(sharedTransforms.itemToPayload);\n}\n\nfunction addPredicatesToQueue(queue) {\n  queue\n    .addPredicate(sharedPredicates.checkLevel)\n    .addPredicate(predicates.checkIgnore)\n    .addPredicate(sharedPredicates.userCheckIgnore(logger))\n    .addPredicate(sharedPredicates.urlIsNotBlockListed(logger))\n    .addPredicate(sharedPredicates.urlIsSafeListed(logger))\n    .addPredicate(sharedPredicates.messageIsIgnored(logger));\n}\n\nfunction _getFirstFunction(args) {\n  for (var i = 0, len = args.length; i < len; ++i) {\n    if (_.isFunction(args[i])) {\n      return args[i];\n    }\n  }\n  return undefined;\n}\n\nfunction _gWindow() {\n  return (\n    (typeof window !== 'undefined' && window) ||\n    (typeof self !== 'undefined' && self)\n  );\n}\n\nconst defaultOptions = {\n  environment: 'unknown',\n  version: defaults.version,\n  scrubFields: browserDefaults.scrubFields,\n  logLevel: defaults.logLevel,\n  reportLevel: defaults.reportLevel,\n  uncaughtErrorLevel: defaults.uncaughtErrorLevel,\n  endpoint: defaults.endpoint,\n  verbose: false,\n  enabled: true,\n  transmit: true,\n  sendConfig: false,\n  includeItemsInTelemetry: true,\n  captureIp: true,\n  inspectAnonymousErrors: true,\n  ignoreDuplicateErrors: true,\n  wrapGlobalEventHandlers: false,\n  replay: replayDefaults,\n  tracing: tracingDefaults,\n};\n\nexport default Rollbar;\n","import { hasOwn } from '../utility.js';\n\n/*\n * headers - Detect when fetch Headers are undefined and use a partial polyfill.\n *\n * A full polyfill is not used in order to keep package size as small as possible.\n * Since this is only used internally and is not added to the window object,\n * the full interface doesn't need to be supported.\n *\n * This implementation is modified from whatwg-fetch:\n * https://github.com/github/fetch\n */\nfunction headers(headers) {\n  if (typeof Headers === 'undefined') {\n    return new FetchHeaders(headers);\n  }\n\n  return new Headers(headers);\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name);\n  }\n  return name.toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value);\n  }\n  return value;\n}\n\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function () {\n      var value = items.shift();\n      return { done: value === undefined, value: value };\n    },\n  };\n\n  return iterator;\n}\n\nfunction FetchHeaders(headers) {\n  this.map = {};\n\n  if (headers instanceof FetchHeaders) {\n    headers.forEach(function (value, name) {\n      this.append(name, value);\n    }, this);\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function (header) {\n      this.append(header[0], header[1]);\n    }, this);\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function (name) {\n      this.append(name, headers[name]);\n    }, this);\n  }\n}\n\nFetchHeaders.prototype.append = function (name, value) {\n  name = normalizeName(name);\n  value = normalizeValue(value);\n  var oldValue = this.map[name];\n  this.map[name] = oldValue ? oldValue + ', ' + value : value;\n};\n\nFetchHeaders.prototype.get = function (name) {\n  name = normalizeName(name);\n  return this.has(name) ? this.map[name] : null;\n};\n\nFetchHeaders.prototype.has = function (name) {\n  return hasOwn(this.map, normalizeName(name));\n};\n\nFetchHeaders.prototype.forEach = function (callback, thisArg) {\n  for (var name in this.map) {\n    if (hasOwn(this.map, name)) {\n      callback.call(thisArg, this.map[name], name, this);\n    }\n  }\n};\n\nFetchHeaders.prototype.entries = function () {\n  var items = [];\n  this.forEach(function (value, name) {\n    items.push([name, value]);\n  });\n  return iteratorFor(items);\n};\n\nexport default headers;\n","function replace(obj, name, replacement, replacements, type) {\n  var orig = obj[name];\n  obj[name] = replacement(orig);\n  if (replacements) {\n    replacements[type].push([obj, name, orig]);\n  }\n}\n\nexport default replace;\n","function getElementType(e) {\n  return (e.getAttribute('type') || '').toLowerCase();\n}\n\nfunction isDescribedElement(element, type, subtypes) {\n  if (element.tagName.toLowerCase() !== type.toLowerCase()) {\n    return false;\n  }\n  if (!subtypes) {\n    return true;\n  }\n  const elementType = getElementType(element);\n  for (const subtype of subtypes) {\n    if (subtype === elementType) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getElementFromEvent(evt, doc) {\n  if (evt.target) {\n    return evt.target;\n  }\n  if (doc && doc.elementFromPoint) {\n    return doc.elementFromPoint(evt.clientX, evt.clientY);\n  }\n  return undefined;\n}\n\nfunction treeToArray(elem) {\n  var MAX_HEIGHT = 5;\n  var out = [];\n  var nextDescription;\n  for (var height = 0; elem && height < MAX_HEIGHT; height++) {\n    nextDescription = describeElement(elem);\n    if (!nextDescription || nextDescription.tagName === 'html') {\n      break;\n    }\n    out.unshift(nextDescription);\n    elem = elem.parentNode;\n  }\n  return out;\n}\n\nfunction elementArrayToString(a) {\n  var MAX_LENGTH = 80;\n  var separator = ' > ',\n    separatorLength = separator.length;\n  var out = [],\n    len = 0,\n    nextStr,\n    totalLength;\n\n  for (var i = a.length - 1; i >= 0; i--) {\n    nextStr = descriptionToString(a[i]);\n    totalLength = len + out.length * separatorLength + nextStr.length;\n    if (i < a.length - 1 && totalLength >= MAX_LENGTH + 3) {\n      out.unshift('...');\n      break;\n    }\n    out.unshift(nextStr);\n    len += nextStr.length;\n  }\n  return out.join(separator);\n}\n\nfunction elementString(elem) {\n  return elementArrayToString(treeToArray(elem));\n}\n\nfunction descriptionToString(desc) {\n  if (!desc || !desc.tagName) {\n    return '';\n  }\n  var out = [desc.tagName];\n  if (desc.id) {\n    out.push('#' + desc.id);\n  }\n  if (desc.classes) {\n    out.push('.' + desc.classes.join('.'));\n  }\n  for (const attribute of desc.attributes) {\n    out.push('[' + attribute.key + '=\"' + attribute.value + '\"]');\n  }\n\n  return out.join('');\n}\n\n/**\n * Input: a dom element\n * Output: null if tagName is falsey or input is falsey, else\n *  {\n *    tagName: String,\n *    id: String | undefined,\n *    classes: [String] | undefined,\n *    attributes: [\n *      {\n *        key: OneOf(type, name, title, alt),\n *        value: String\n *      }\n *    ]\n *  }\n */\nfunction describeElement(elem) {\n  if (!elem || !elem.tagName) {\n    return null;\n  }\n  var out = {},\n    className;\n  out.tagName = elem.tagName.toLowerCase();\n  if (elem.id) {\n    out.id = elem.id;\n  }\n  className = elem.className;\n  if (className && typeof className === 'string') {\n    out.classes = className.split(/\\s+/);\n  }\n  var attributes = ['type', 'name', 'title', 'alt'];\n  out.attributes = [];\n  for (const attribute of attributes) {\n    const attr = elem.getAttribute(attribute);\n    if (attr) {\n      out.attributes.push({ key: attribute, value: attr });\n    }\n  }\n  return out;\n}\n\n/*\n * Detects if the given element matches any of the given class names (string or regex),\n * or CSS selectors.\n * @param {HTMLElement} element - The DOM element to check.\n * @param {Array<string|RegExp>} classes - An array of class names (string or regex) to match against.\n * @param {Array<string>} selectors - An array of CSS selectors to match against.\n * @return {boolean} - True if the element matches any of the classes or selectors, false otherwise.\n */\nfunction isMatchingElement(element, classes, selectors) {\n  try {\n    for (const cls of classes) {\n      if (typeof cls === 'string') {\n        if (element.classList.contains(cls)) {\n          return true;\n        }\n      } else {\n        for (const c of element.classList) {\n          if (cls.test(c)) {\n            return true;\n          }\n        }\n      }\n    }\n    for (const sel of selectors) {\n      if (element.matches(sel)) {\n        return true;\n      }\n    }\n  } catch (_e) {\n    // ignore errors from invalid arguments\n  }\n  return false;\n}\n\nexport {\n  describeElement,\n  descriptionToString,\n  elementArrayToString,\n  elementString,\n  treeToArray,\n  getElementFromEvent,\n  isDescribedElement,\n  getElementType,\n  isMatchingElement,\n};\n","/* eslint-disable @typescript-eslint/no-this-alias */\n// TODO(matux): refactor to remove no-this-alias disable\n\nimport logger from '../logger.js';\nimport scrub from '../scrub.js';\nimport headers from '../utility/headers.js';\nimport replace from '../utility/replace.js';\nimport * as _ from '../utility.js';\n\nimport * as domUtil from './domUtility.js';\nimport * as urlparser from './url.js';\n\nconst defaults = {\n  network: true,\n  networkResponseHeaders: false,\n  networkResponseBody: false,\n  networkRequestHeaders: false,\n  networkRequestBody: false,\n  networkErrorOnHttp5xx: false,\n  networkErrorOnHttp4xx: false,\n  networkErrorOnHttp0: false,\n  log: true,\n  dom: true,\n  navigation: true,\n  connectivity: true,\n  contentSecurityPolicy: true,\n  errorOnContentSecurityPolicy: false,\n};\n\nfunction restore(replacements, type) {\n  let b;\n  while (replacements[type].length) {\n    b = replacements[type].shift();\n    b[0][b[1]] = b[2];\n  }\n}\n\nfunction nameFromDescription(description) {\n  if (!description || !description.attributes) {\n    return null;\n  }\n  const attrs = description.attributes;\n  for (const a of attrs) {\n    if (a.key === 'name') {\n      return a.value;\n    }\n  }\n  return null;\n}\n\nfunction defaultValueScrubber(scrubFields) {\n  const patterns = [];\n  for (const field of scrubFields) {\n    patterns.push(new RegExp(field, 'i'));\n  }\n  return function (description) {\n    const name = nameFromDescription(description);\n    if (!name) {\n      return false;\n    }\n    for (const p of patterns) {\n      if (p.test(name)) {\n        return true;\n      }\n    }\n    return false;\n  };\n}\n\nclass Instrumenter {\n  constructor(options, telemeter, rollbar, _window, _document) {\n    this.options = options;\n    let autoInstrument = options.autoInstrument;\n    if (options.enabled === false || autoInstrument === false) {\n      this.autoInstrument = {};\n    } else {\n      if (!_.isType(autoInstrument, 'object')) {\n        autoInstrument = defaults;\n      }\n      this.autoInstrument = _.merge(defaults, autoInstrument);\n    }\n    this.configureScrubbing();\n    this.telemeter = telemeter;\n    this.rollbar = rollbar;\n    this.diagnostic = rollbar.client.notifier.diagnostic;\n    this._window = _window || {};\n    this._document = _document || {};\n    this.replacements = {\n      network: [],\n      log: [],\n      navigation: [],\n      connectivity: [],\n    };\n    this.eventRemovers = {\n      dom: [],\n      connectivity: [],\n      contentsecuritypolicy: [],\n    };\n\n    this._location = this._window.location;\n    this._lastHref = this._location && this._location.href;\n  }\n\n  configureScrubbing() {\n    const options = this.options;\n    this.scrubTelemetryInputs = Boolean(\n      options.scrubTelemetryInputs ?? options.replay?.maskAllInputs,\n    );\n    this.telemetryScrubber = options.telemetryScrubber;\n    this.defaultValueScrubber = defaultValueScrubber(options.scrubFields);\n    this.maskInputFn = options.replay?.maskInputFn;\n    this.maskInputOptions = options.replay?.maskInputOptions || {};\n    this.scrubClasses = [\n      options.replay?.blockClass,\n      options.replay?.ignoreClass,\n      options.replay?.maskTextClass,\n    ].filter(Boolean);\n    this.scrubSelectors = [\n      options.replay?.blockSelector,\n      options.replay?.ignoreSelector,\n      options.replay?.maskTextSelector,\n    ].filter(Boolean);\n  }\n\n  configure(options) {\n    this.options = _.merge(this.options, options);\n    let autoInstrument = options.autoInstrument;\n    const oldSettings = _.merge(this.autoInstrument);\n    if (options.enabled === false || autoInstrument === false) {\n      this.autoInstrument = {};\n    } else {\n      if (!_.isType(autoInstrument, 'object')) {\n        autoInstrument = defaults;\n      }\n      this.autoInstrument = _.merge(defaults, autoInstrument);\n    }\n    this.configureScrubbing();\n    this.instrument(oldSettings);\n  }\n\n  // eslint-disable-next-line complexity\n  instrument(oldSettings) {\n    if (this.autoInstrument.network && !(oldSettings && oldSettings.network)) {\n      this.instrumentNetwork();\n    } else if (\n      !this.autoInstrument.network &&\n      oldSettings &&\n      oldSettings.network\n    ) {\n      this.deinstrumentNetwork();\n    }\n\n    if (this.autoInstrument.log && !(oldSettings && oldSettings.log)) {\n      this.instrumentConsole();\n    } else if (!this.autoInstrument.log && oldSettings && oldSettings.log) {\n      this.deinstrumentConsole();\n    }\n\n    if (this.autoInstrument.dom && !(oldSettings && oldSettings.dom)) {\n      this.instrumentDom();\n    } else if (!this.autoInstrument.dom && oldSettings && oldSettings.dom) {\n      this.deinstrumentDom();\n    }\n\n    if (\n      this.autoInstrument.navigation &&\n      !(oldSettings && oldSettings.navigation)\n    ) {\n      this.instrumentNavigation();\n    } else if (\n      !this.autoInstrument.navigation &&\n      oldSettings &&\n      oldSettings.navigation\n    ) {\n      this.deinstrumentNavigation();\n    }\n\n    if (\n      this.autoInstrument.connectivity &&\n      !(oldSettings && oldSettings.connectivity)\n    ) {\n      this.instrumentConnectivity();\n    } else if (\n      !this.autoInstrument.connectivity &&\n      oldSettings &&\n      oldSettings.connectivity\n    ) {\n      this.deinstrumentConnectivity();\n    }\n\n    if (\n      this.autoInstrument.contentSecurityPolicy &&\n      !(oldSettings && oldSettings.contentSecurityPolicy)\n    ) {\n      this.instrumentContentSecurityPolicy();\n    } else if (\n      !this.autoInstrument.contentSecurityPolicy &&\n      oldSettings &&\n      oldSettings.contentSecurityPolicy\n    ) {\n      this.deinstrumentContentSecurityPolicy();\n    }\n  }\n\n  deinstrumentNetwork() {\n    restore(this.replacements, 'network');\n  }\n\n  instrumentNetwork() {\n    const self = this;\n\n    function wrapProp(prop, xhr) {\n      if (prop in xhr && _.isFunction(xhr[prop])) {\n        replace(xhr, prop, function (orig) {\n          return self.rollbar.wrap(orig);\n        });\n      }\n    }\n\n    if ('XMLHttpRequest' in this._window) {\n      const xhrp = this._window.XMLHttpRequest.prototype;\n      replace(\n        xhrp,\n        'open',\n        function (orig) {\n          return function (method, url) {\n            const isUrlObject = _isUrlObject(url);\n            if (_.isType(url, 'string') || isUrlObject) {\n              url = isUrlObject ? url.toString() : url;\n              if (this.__rollbar_xhr) {\n                this.__rollbar_xhr.method = method;\n                this.__rollbar_xhr.url = url;\n                this.__rollbar_xhr.status_code = null;\n                this.__rollbar_xhr.start_time_ms = _.now();\n                this.__rollbar_xhr.end_time_ms = null;\n              } else {\n                this.__rollbar_xhr = {\n                  method: method,\n                  url: url,\n                  status_code: null,\n                  start_time_ms: _.now(),\n                  end_time_ms: null,\n                };\n              }\n            }\n            return orig.apply(this, arguments);\n          };\n        },\n        this.replacements,\n        'network',\n      );\n\n      replace(\n        xhrp,\n        'setRequestHeader',\n        function (orig) {\n          return function (header, value) {\n            // If xhr.open is async, __rollbar_xhr may not be initialized yet.\n            if (!this.__rollbar_xhr) {\n              this.__rollbar_xhr = {};\n            }\n            if (_.isType(header, 'string') && _.isType(value, 'string')) {\n              if (self.autoInstrument.networkRequestHeaders) {\n                if (!this.__rollbar_xhr.request_headers) {\n                  this.__rollbar_xhr.request_headers = {};\n                }\n                this.__rollbar_xhr.request_headers[header] = value;\n              }\n              // We want the content type even if request header telemetry is off.\n              if (header.toLowerCase() === 'content-type') {\n                this.__rollbar_xhr.request_content_type = value;\n              }\n            }\n            return orig.apply(this, arguments);\n          };\n        },\n        this.replacements,\n        'network',\n      );\n\n      replace(\n        xhrp,\n        'send',\n        function (orig) {\n          return function (data) {\n            const xhr = this;\n\n            function onreadystatechangeHandler() {\n              if (xhr.__rollbar_xhr) {\n                if (xhr.__rollbar_xhr.status_code === null) {\n                  xhr.__rollbar_xhr.status_code = 0;\n                  if (self.autoInstrument.networkRequestBody) {\n                    xhr.__rollbar_xhr.request = data;\n                  }\n                  xhr.__rollbar_event = self.captureNetwork(\n                    xhr.__rollbar_xhr,\n                    'xhr',\n                    undefined,\n                  );\n                }\n                if (xhr.readyState < 2) {\n                  xhr.__rollbar_xhr.start_time_ms = _.now();\n                }\n                if (xhr.readyState > 3) {\n                  const end_time_ms = _.now();\n                  xhr.__rollbar_xhr.end_time_ms = end_time_ms;\n\n                  let headers = null;\n                  xhr.__rollbar_xhr.response_content_type =\n                    xhr.getResponseHeader('Content-Type');\n                  if (self.autoInstrument.networkResponseHeaders) {\n                    const headersConfig =\n                      self.autoInstrument.networkResponseHeaders;\n                    headers = {};\n                    try {\n                      let header;\n                      if (headersConfig === true) {\n                        const allHeaders = xhr.getAllResponseHeaders();\n                        if (allHeaders) {\n                          const arr = allHeaders.trim().split(/[\\r\\n]+/);\n                          let parts, value;\n                          for (const h of arr) {\n                            parts = h.split(': ');\n                            header = parts.shift();\n                            value = parts.join(': ');\n                            headers[header] = value;\n                          }\n                        }\n                      } else {\n                        for (const h of headersConfig) {\n                          headers[h] = xhr.getResponseHeader(h);\n                        }\n                      }\n                    } catch (_e) {\n                      /* we ignore the errors here that could come from different\n                       * browser issues with the xhr methods */\n                    }\n                  }\n                  let body = null;\n                  if (self.autoInstrument.networkResponseBody) {\n                    try {\n                      body = xhr.responseText;\n                    } catch (_e) {\n                      /* ignore errors from reading responseText */\n                    }\n                  }\n                  let response = null;\n                  if (body || headers) {\n                    response = {};\n                    if (body) {\n                      if (\n                        self.isJsonContentType(\n                          xhr.__rollbar_xhr.response_content_type,\n                        )\n                      ) {\n                        response.body = self.scrubJson(body);\n                      } else {\n                        response.body = body;\n                      }\n                    }\n                    if (headers) {\n                      response.headers = headers;\n                    }\n                  }\n                  if (response) {\n                    xhr.__rollbar_xhr.response = response;\n                  }\n                  try {\n                    let code = xhr.status;\n                    code = code === 1223 ? 204 : code;\n                    xhr.__rollbar_xhr.status_code = code;\n                    self.addOtelNetworkResponse(\n                      xhr.__rollbar_event,\n                      end_time_ms,\n                      code,\n                    );\n                    xhr.__rollbar_event.level =\n                      self.telemeter.levelFromStatus(code);\n                    self.errorOnHttpStatus(xhr.__rollbar_xhr);\n                  } catch (_e) {\n                    /* ignore possible exception from xhr.status */\n                  }\n                }\n              }\n            }\n\n            wrapProp('onload', xhr);\n            wrapProp('onerror', xhr);\n            wrapProp('onprogress', xhr);\n\n            if (\n              'onreadystatechange' in xhr &&\n              _.isFunction(xhr.onreadystatechange)\n            ) {\n              replace(xhr, 'onreadystatechange', function (orig) {\n                return self.rollbar.wrap(\n                  orig,\n                  undefined,\n                  onreadystatechangeHandler,\n                );\n              });\n            } else {\n              xhr.onreadystatechange = onreadystatechangeHandler;\n            }\n            if (xhr.__rollbar_xhr && self.trackHttpErrors()) {\n              xhr.__rollbar_xhr.stack = new Error().stack;\n            }\n            return orig.apply(this, arguments);\n          };\n        },\n        this.replacements,\n        'network',\n      );\n    }\n\n    if ('fetch' in this._window) {\n      replace(\n        this._window,\n        'fetch',\n        function (orig) {\n          return function (_fn, _t) {\n            const args = [...arguments];\n            const input = args[0];\n            let method = 'GET';\n            let url;\n            const isUrlObject = _isUrlObject(input);\n            if (_.isType(input, 'string') || isUrlObject) {\n              url = isUrlObject ? input.toString() : input;\n            } else if (input) {\n              url = input.url;\n              if (input.method) {\n                method = input.method;\n              }\n            }\n            if (args[1] && args[1].method) {\n              method = args[1].method;\n            }\n            const metadata = {\n              method: method,\n              url: url,\n              status_code: null,\n              start_time_ms: _.now(),\n              end_time_ms: null,\n            };\n            if (args[1] && args[1].headers) {\n              // Argument may be a Headers object, or plain object. Ensure here that\n              // we are working with a Headers object with case-insensitive keys.\n              const reqHeaders = headers(args[1].headers);\n\n              metadata.request_content_type = reqHeaders.get('Content-Type');\n\n              if (self.autoInstrument.networkRequestHeaders) {\n                metadata.request_headers = self.fetchHeaders(\n                  reqHeaders,\n                  self.autoInstrument.networkRequestHeaders,\n                );\n              }\n            }\n\n            if (self.autoInstrument.networkRequestBody) {\n              if (args[1] && args[1].body) {\n                metadata.request = args[1].body;\n              } else if (\n                args[0] &&\n                !_.isType(args[0], 'string') &&\n                args[0].body\n              ) {\n                metadata.request = args[0].body;\n              }\n            }\n            const telemetryEvent = self.captureNetwork(\n              metadata,\n              'fetch',\n              undefined,\n            );\n            if (self.trackHttpErrors()) {\n              metadata.stack = new Error().stack;\n            }\n\n            // Start our handler before returning the promise. This allows resp.clone()\n            // to execute before other handlers touch the response.\n            return orig.apply(this, args).then(function (resp) {\n              const end_time_ms = _.now();\n              metadata.end_time_ms = end_time_ms;\n              metadata.status_code = resp.status;\n              self.addOtelNetworkResponse(\n                telemetryEvent,\n                end_time_ms,\n                resp.status,\n              );\n\n              metadata.response_content_type = resp.headers.get('Content-Type');\n              let headers = null;\n              if (self.autoInstrument.networkResponseHeaders) {\n                headers = self.fetchHeaders(\n                  resp.headers,\n                  self.autoInstrument.networkResponseHeaders,\n                );\n              }\n              let body = null;\n              if (self.autoInstrument.networkResponseBody) {\n                if (typeof resp.text === 'function') {\n                  // Response.text() is not implemented on some platforms\n                  // The response must be cloned to prevent reading (and locking) the original stream.\n                  // This must be done before other handlers touch the response.\n                  body = resp.clone().text(); //returns a Promise\n                }\n              }\n              if (headers || body) {\n                metadata.response = {};\n                if (body) {\n                  // Test to ensure body is a Promise, which it should always be.\n                  if (typeof body.then === 'function') {\n                    body.then(function (text) {\n                      if (\n                        text &&\n                        self.isJsonContentType(metadata.response_content_type)\n                      ) {\n                        metadata.response.body = self.scrubJson(text);\n                      } else {\n                        metadata.response.body = text;\n                      }\n                    });\n                  } else {\n                    metadata.response.body = body;\n                  }\n                }\n                if (headers) {\n                  metadata.response.headers = headers;\n                }\n              }\n              self.errorOnHttpStatus(metadata);\n              return resp;\n            });\n          };\n        },\n        this.replacements,\n        'network',\n      );\n    }\n  }\n\n  captureNetwork(metadata, subtype, rollbarUUID) {\n    if (\n      metadata.request &&\n      this.isJsonContentType(metadata.request_content_type)\n    ) {\n      metadata.request = this.scrubJson(metadata.request);\n    }\n    return this.telemeter.captureNetwork(metadata, subtype, rollbarUUID);\n  }\n\n  isJsonContentType(contentType) {\n    return contentType &&\n      _.isType(contentType, 'string') &&\n      contentType.toLowerCase().includes('json')\n      ? true\n      : false;\n  }\n\n  addOtelNetworkResponse(event, endTimeMs, statusCode) {\n    if (event.otelAttributes) {\n      event.otelAttributes['response.timeUnixNano'] = (\n        endTimeMs * 1e6\n      ).toString();\n      event.otelAttributes.statusCode = statusCode;\n    }\n  }\n\n  scrubJson(json) {\n    return JSON.stringify(scrub(JSON.parse(json), this.options.scrubFields));\n  }\n\n  fetchHeaders(inHeaders, headersConfig) {\n    const outHeaders = {};\n    try {\n      if (headersConfig === true) {\n        if (typeof inHeaders.entries === 'function') {\n          // Headers.entries() is not implemented in IE\n          const allHeaders = inHeaders.entries();\n          let currentHeader = allHeaders.next();\n          while (!currentHeader.done) {\n            outHeaders[currentHeader.value[0]] = currentHeader.value[1];\n            currentHeader = allHeaders.next();\n          }\n        }\n      } else {\n        for (const h of headersConfig) {\n          outHeaders[h] = inHeaders.get(h);\n        }\n      }\n    } catch (_e) {\n      /* ignore probable IE errors */\n    }\n    return outHeaders;\n  }\n\n  trackHttpErrors() {\n    return (\n      this.autoInstrument.networkErrorOnHttp5xx ||\n      this.autoInstrument.networkErrorOnHttp4xx ||\n      this.autoInstrument.networkErrorOnHttp0\n    );\n  }\n\n  errorOnHttpStatus(metadata) {\n    const status = metadata.status_code;\n\n    if (\n      (status >= 500 && this.autoInstrument.networkErrorOnHttp5xx) ||\n      (status >= 400 && this.autoInstrument.networkErrorOnHttp4xx) ||\n      (status === 0 && this.autoInstrument.networkErrorOnHttp0)\n    ) {\n      const error = new Error('HTTP request failed with Status ' + status);\n      error.stack = metadata.stack;\n      this.rollbar.error(error, { skipFrames: 1 });\n    }\n  }\n\n  deinstrumentConsole() {\n    let b;\n    while (this.replacements['log'].length) {\n      b = this.replacements['log'].shift();\n      this._window.console[b[0]] = b[1];\n    }\n  }\n\n  instrumentConsole() {\n    if (!this._window?.console?.log) {\n      return;\n    }\n\n    const self = this;\n    const c = this._window.console;\n\n    function wrapConsole(method) {\n      // eslint-disable-next-line strict\n      'use strict'; // See https://github.com/rollbar/rollbar.js/pull/778\n\n      const orig = c[method];\n      const origConsole = c;\n      const level = method === 'warn' ? 'warning' : method;\n      c[method] = function () {\n        const args = Array.prototype.slice.call(arguments);\n        const message = _.formatArgsAsString(args);\n        self.telemeter.captureLog(message, level, null, _.now());\n        if (orig) {\n          Function.prototype.apply.call(orig, origConsole, args);\n        }\n      };\n      self.replacements['log'].push([method, orig]);\n    }\n    const methods = ['debug', 'info', 'warn', 'error', 'log'];\n    try {\n      for (const m of methods) {\n        wrapConsole(m);\n      }\n    } catch (e) {\n      this.diagnostic.instrumentConsole = { error: e.message };\n    }\n  }\n\n  deinstrumentDom() {\n    this.removeListeners('dom');\n  }\n\n  instrumentDom() {\n    this.addListener(\n      'dom',\n      this._window,\n      ['click', 'dblclick', 'contextmenu'],\n      (e) => this.handleEvent('click', e),\n    );\n    this.addListener(\n      'dom',\n      this._window,\n      ['dragstart', 'dragend', 'dragenter', 'dragleave', 'drop'],\n      (e) => this.handleEvent('dragdrop', e),\n    );\n    this.addListener('dom', this._window, ['blur', 'focus'], (e) =>\n      this.handleEvent('focus', e),\n    );\n    this.addListener('dom', this._window, ['submit', 'invalid'], (e) =>\n      this.handleEvent('form', e),\n    );\n    this.addListener('dom', this._window, ['input', 'change'], (e) =>\n      this.handleEvent('input', e),\n    );\n    this.addListener('dom', this._window, ['resize'], (e) =>\n      this.handleEvent('resize', e),\n    );\n    this.addListener('dom', this._document, ['DOMContentLoaded'], (e) =>\n      this.handleEvent('contentLoaded', e),\n    );\n  }\n\n  handleEvent(name, evt) {\n    try {\n      return {\n        click: this.handleClick,\n        dragdrop: this.handleDrag,\n        focus: this.handleFocus,\n        form: this.handleForm,\n        input: this.handleInput,\n        resize: this.handleResize,\n        contentLoaded: this.handleContentLoaded,\n      }[name].call(this, evt);\n    } catch (exc) {\n      logger.log(`${name} handler error`, evt, exc, exc.stack);\n    }\n  }\n\n  handleContentLoaded(_evt) {\n    this.rollbar.triggerReplay({\n      type: 'navigation',\n      path: new URL(this._location.href).pathname,\n    });\n  }\n\n  handleClick(evt) {\n    const tagName = evt.target?.tagName.toLowerCase();\n    if (['input', 'select', 'textarea'].includes(tagName)) return;\n\n    this.telemeter.captureClick({\n      type: evt.type,\n      isSynthetic: !evt.isTrusted,\n      element: domUtil.elementString(evt.target),\n      timestamp: _.now(),\n    });\n  }\n\n  handleFocus(evt) {\n    const type = evt.type;\n    const element = evt.target?.window\n      ? 'window'\n      : domUtil.elementString(evt.target);\n\n    this.telemeter.captureFocus({\n      type: type,\n      isSynthetic: !evt.isTrusted,\n      element,\n      timestamp: _.now(),\n    });\n  }\n\n  handleForm(_evt) {\n    // TODO: implement form event handling\n    //const type = evt.type;\n    //const elementString = evt.target?.window\n    //  ? 'window'\n    //  : domUtil.elementString(evt.target);\n  }\n\n  handleResize(evt) {\n    const textZoomRatio = window.screen.width / window.innerWidth;\n\n    this.telemeter.captureResize({\n      type: evt.type,\n      isSynthetic: !evt.isTrusted,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      textZoomRatio: textZoomRatio,\n      timestamp: _.now(),\n    });\n  }\n\n  handleDrag(evt) {\n    const type = evt.type;\n    let kinds, mediaTypes, dropEffect, effectAllowed;\n\n    if (type === 'drop') {\n      kinds = [];\n      mediaTypes = [];\n      const objs = [...evt.dataTransfer.files, ...evt.dataTransfer.items];\n      for (const o of objs) {\n        if (o.kind && o.type) {\n          kinds.push(o.kind);\n          mediaTypes.push(o.type);\n        }\n      }\n    }\n    if (['drop', 'dragstart'].includes(type)) {\n      dropEffect = evt.dataTransfer?.dropEffect;\n      effectAllowed = evt.dataTransfer?.effectAllowed;\n    }\n\n    this.telemeter.captureDragDrop({\n      type,\n      isSynthetic: !evt.isTrusted,\n      element: domUtil.elementString(evt.target),\n      dropEffect: dropEffect,\n      effectAllowed: effectAllowed,\n      kinds: JSON.stringify(kinds),\n      mediaTypes: JSON.stringify(mediaTypes),\n      timestamp: _.now(),\n    });\n  }\n\n  /*\n   * Applies Rollbar telemetry scrubbing options to the dom input value.\n   * When replay options are present, applies those as well.\n   */\n  scrubInputValue(value, element, tagName, inputType) {\n    const mask = '******';\n\n    if (inputType === 'password') {\n      return mask;\n    }\n\n    if (this.scrubTelemetryInputs) {\n      return mask;\n    } else {\n      const description = domUtil.describeElement(element);\n      if (this.telemetryScrubber) {\n        if (this.telemetryScrubber(description)) {\n          return mask;\n        }\n      } else if (this.defaultValueScrubber(description)) {\n        return mask;\n      }\n    }\n\n    // Apply replay options regardless of other scrubbing\n    if (\n      domUtil.isMatchingElement(element, this.scrubClasses, this.scrubSelectors)\n    ) {\n      return mask;\n    }\n\n    // This check is last since maskInputFn returns a modified value rather\n    // than a boolean, which would cause an early return even if the value\n    // was not scrubbed.\n    if (\n      this.maskInputOptions[tagName.toLowerCase()] ||\n      this.maskInputOptions[inputType]\n    ) {\n      if (this.maskInputFn) {\n        return this.maskInputFn(value, element);\n      } else {\n        return mask;\n      }\n    }\n\n    return value;\n  }\n\n  /*\n   * Uses the `input` event for everything except radio and checkbox inputs.\n   * For those, it uses the `change` event.\n   */\n  handleInput(evt) {\n    const type = evt.type;\n    const tagName = evt.target?.tagName.toLowerCase();\n    let value = evt.target?.value;\n    let inputType = evt.target?.attributes?.type?.value || evt.target?.type;\n\n    if (value !== undefined) {\n      value = this.scrubInputValue(value, evt.target, tagName, inputType);\n    }\n\n    switch (type) {\n      case 'input':\n        if (['radio', 'checkbox'].includes(inputType)) return;\n        if (['select', 'textarea'].includes(tagName)) {\n          inputType = tagName;\n        }\n        break;\n\n      case 'change':\n        if (!['radio', 'checkbox'].includes(inputType)) return;\n        if (inputType === 'checkbox') {\n          value = evt.target?.checked;\n        }\n        break;\n    }\n\n    this.telemeter.captureInput({\n      type: inputType,\n      isSynthetic: !evt.isTrusted,\n      element: domUtil.elementString(evt.target),\n      value,\n      timestamp: _.now(),\n    });\n  }\n\n  deinstrumentNavigation() {\n    const chrome = this._window.chrome;\n    const chromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n    // See https://github.com/angular/angular.js/pull/13945/files\n    const hasPushState =\n      !chromePackagedApp &&\n      this._window.history &&\n      this._window.history.pushState;\n    if (!hasPushState) {\n      return;\n    }\n    restore(this.replacements, 'navigation');\n  }\n\n  instrumentNavigation() {\n    const chrome = this._window.chrome;\n    const chromePackagedApp = chrome && chrome.app && chrome.app.runtime;\n    // See https://github.com/angular/angular.js/pull/13945/files\n    const hasPushState =\n      !chromePackagedApp &&\n      this._window.history &&\n      this._window.history.pushState;\n    if (!hasPushState) {\n      return;\n    }\n    const self = this;\n    replace(\n      this._window,\n      'onpopstate',\n      function (orig) {\n        return function () {\n          const current = self._location.href;\n          self.handleUrlChange(self._lastHref, current);\n          if (orig) {\n            orig.apply(this, arguments);\n          }\n        };\n      },\n      this.replacements,\n      'navigation',\n    );\n\n    replace(\n      this._window.history,\n      'pushState',\n      function (orig) {\n        return function () {\n          const url = arguments.length > 2 ? arguments[2] : undefined;\n          if (url) {\n            self.handleUrlChange(self._lastHref, String(url));\n          }\n          return orig.apply(this, arguments);\n        };\n      },\n      this.replacements,\n      'navigation',\n    );\n  }\n\n  handleUrlChange(from, to) {\n    const parsedHref = urlparser.parse(this._location.href);\n    const parsedTo = urlparser.parse(to);\n    const parsedFrom = urlparser.parse(from);\n    this._lastHref = to;\n    if (\n      parsedHref.protocol === parsedTo.protocol &&\n      parsedHref.host === parsedTo.host\n    ) {\n      to = parsedTo.path + (parsedTo.hash || '');\n    }\n    if (\n      parsedHref.protocol === parsedFrom.protocol &&\n      parsedHref.host === parsedFrom.host\n    ) {\n      from = parsedFrom.path + (parsedFrom.hash || '');\n    }\n    this.telemeter.captureNavigation(from, to, null, _.now());\n    this.rollbar.triggerReplay({\n      type: 'navigation',\n      path: to,\n    });\n  }\n\n  deinstrumentConnectivity = function () {\n    this.removeListeners('connectivity');\n  };\n\n  instrumentConnectivity() {\n    const self = this;\n    this.addListener(\n      'connectivity',\n      this._window,\n      ['online', 'offline'],\n      (evt) => self.handleConnectivity(evt),\n    );\n  }\n\n  handleConnectivity(evt) {\n    const type = evt.type;\n\n    this.telemeter.captureConnectivityChange({\n      type,\n      isSynthetic: !evt.isTrusted,\n      timestamp: _.now(),\n    });\n  }\n\n  handleCspEvent(cspEvent) {\n    let message =\n      'Security Policy Violation: ' +\n      'blockedURI: ' +\n      cspEvent.blockedURI +\n      ', ' +\n      'violatedDirective: ' +\n      cspEvent.violatedDirective +\n      ', ' +\n      'effectiveDirective: ' +\n      cspEvent.effectiveDirective +\n      ', ';\n\n    if (cspEvent.sourceFile) {\n      message +=\n        'location: ' +\n        cspEvent.sourceFile +\n        ', ' +\n        'line: ' +\n        cspEvent.lineNumber +\n        ', ' +\n        'col: ' +\n        cspEvent.columnNumber +\n        ', ';\n    }\n\n    message += 'originalPolicy: ' + cspEvent.originalPolicy;\n\n    this.telemeter.captureLog(message, 'error', null, _.now());\n    this.handleCspError(message);\n  }\n\n  handleCspError(message) {\n    if (this.autoInstrument.errorOnContentSecurityPolicy) {\n      this.rollbar.error(message);\n    }\n  }\n\n  deinstrumentContentSecurityPolicy() {\n    this.removeListeners('contentsecuritypolicy');\n  }\n\n  instrumentContentSecurityPolicy() {\n    if (!('addEventListener' in this._document)) {\n      return;\n    }\n\n    const cspHandler = this.handleCspEvent.bind(this);\n    this.addListener(\n      'contentsecuritypolicy',\n      this._document,\n      ['securitypolicyviolation'],\n      cspHandler,\n    );\n  }\n\n  addListener(section, obj, types, handler) {\n    if (obj.addEventListener) {\n      for (const t of types) {\n        const options = { capture: true, passive: true };\n        obj.addEventListener(t, handler, options, true);\n        this.eventRemovers[section].push(function () {\n          obj.removeEventListener(t, handler, options);\n        });\n      }\n    }\n  }\n\n  removeListeners(section) {\n    let r;\n    while (this.eventRemovers[section].length) {\n      r = this.eventRemovers[section].shift();\n      r();\n    }\n  }\n}\n\nfunction _isUrlObject(input) {\n  return typeof URL !== 'undefined' && input instanceof URL;\n}\n\nexport default Instrumenter;\n","import { hasOwn } from '../utility.js';\n\nfunction wrapGlobals(window, handler, shim) {\n  if (!window) {\n    return;\n  }\n  // Adapted from https://github.com/bugsnag/bugsnag-js\n  var globals =\n    'EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload'.split(\n      ',',\n    );\n  var i, global;\n  for (i = 0; i < globals.length; ++i) {\n    global = globals[i];\n\n    if (window[global] && window[global].prototype) {\n      _extendListenerPrototype(handler, window[global].prototype, shim);\n    }\n  }\n}\n\nfunction _extendListenerPrototype(handler, prototype, shim) {\n  if (hasOwn(prototype, 'addEventListener')) {\n    var oldAddEventListener = prototype.addEventListener;\n    while (\n      oldAddEventListener._rollbarOldAdd &&\n      oldAddEventListener.belongsToShim\n    ) {\n      oldAddEventListener = oldAddEventListener._rollbarOldAdd;\n    }\n    var addFn = function (event, callback, bubble) {\n      oldAddEventListener.call(this, event, handler.wrap(callback), bubble);\n    };\n    addFn._rollbarOldAdd = oldAddEventListener;\n    addFn.belongsToShim = shim;\n    prototype.addEventListener = addFn;\n\n    var oldRemoveEventListener = prototype.removeEventListener;\n    while (\n      oldRemoveEventListener._rollbarOldRemove &&\n      oldRemoveEventListener.belongsToShim\n    ) {\n      oldRemoveEventListener = oldRemoveEventListener._rollbarOldRemove;\n    }\n    var removeFn = function (event, callback, bubble) {\n      oldRemoveEventListener.call(\n        this,\n        event,\n        (callback && callback._rollbar_wrapped) || callback,\n        bubble,\n      );\n    };\n    removeFn._rollbarOldRemove = oldRemoveEventListener;\n    removeFn.belongsToShim = shim;\n    prototype.removeEventListener = removeFn;\n  }\n}\n\nexport default wrapGlobals;\n","import scrub from '../scrub.js';\nimport Telemeter from '../telemetry.js';\nimport Tracing from '../tracing/tracing.js';\nimport truncation from '../truncation.js';\n\nimport Rollbar from './core.js';\nimport Instrumenter from './telemetry.js';\nimport wrapGlobals from './wrapGlobals.js';\n\nRollbar.setComponents({\n  telemeter: Telemeter,\n  instrumenter: Instrumenter,\n  wrapGlobals: wrapGlobals,\n  scrub: scrub,\n  truncation: truncation,\n  tracing: Tracing,\n});\n\nexport default Rollbar;\n","import rollbar from '../rollbar.js';\n\nvar options = (typeof window !== 'undefined') && window._rollbarConfig;\nvar alias = options && options.globalAlias || 'Rollbar';\nvar shimRunning = (typeof window !== 'undefined') && window[alias] && typeof window[alias].shimId === 'function' && window[alias].shimId() !== undefined;\n\nif ((typeof window !== 'undefined') && !window._rollbarStartTime) {\n  window._rollbarStartTime = (new Date()).getTime();\n}\n\nif (!shimRunning && options) {\n  var Rollbar = new rollbar(options);\n  window[alias] = Rollbar;\n} else if (typeof window !== 'undefined') {\n  window.rollbar = rollbar;\n  window._rollbarDidLoad = true;\n} else if (typeof self !== 'undefined') {\n  self.rollbar = rollbar;\n  self._rollbarDidLoad = true;\n}\n\nexport default rollbar;\n"],"names":["isType","x","t","typeName","name","_typeof","Error","toString","call","match","toLowerCase","isFunction","f","isNativeFunction","reRegExpChar","funcMatchString","Function","prototype","Object","hasOwnProperty","replace","reIsNative","RegExp","isObject","test","value","hasOwn","obj","prop","isString","String","isFiniteNumber","n","Number","isFinite","isIterable","i","type","isError","e","isPromise","p","then","isBrowser","window","redact","uuid4","d","now","uuid","c","r","Math","random","floor","LEVELS","debug","info","warning","error","critical","sanitizeHref","url","urlObject","URL","password","search","_","sanitizeUrl","baseUrlParts","parseUri","anchor","source","query","parseUriOptions","strictMode","key","q","parser","strict","loose","str","undefined","o","m","exec","uri","l","length","$0","$1","$2","addParamsAndAccessTokenToPath","accessToken","options","params","access_token","paramsArray","k","push","join","sort","path","qs","indexOf","h","substring","formatUrl","u","protocol","port","hostname","result","stringify","backup","JSON","jsonError","backupError","maxByteSize","string","count","code","charCodeAt","jsonParse","s","parse","makeUnhandledStackInfo","message","lineno","colno","mode","backupMessage","errorParser","location","line","column","func","guessFunctionName","context","gatherContext","href","document","useragent","navigator","userAgent","stack","wrapCallback","logger","err","resp","nonCircularClone","seen","clone","newSeen","includes","slice","createItem","args","notifier","requestKeys","lambdaContext","custom","callback","request","arg","extraArgs","diagnostic","argTypes","typ","DOMException","j","len","item","timestamp","data","setCustomItemKeys","_originalArgs","original_arg_types","level","skipFrames","addErrorContext","errors","contextAdded","_iterator","_createForOfIteratorHelper","_step","done","merge","rollbarContext","error_context","TELEMETRY_TYPES","TELEMETRY_LEVELS","arrayIncludes","arr","val","_iterator2","_step2","entry","createTelemetryEvent","metadata","event","addItemAttributes","itemData","attributes","_iterator3","_step3","a","get","keys","split","_e","set","setPrototypeOf","temp","replacement","formatArgsAsString","substr","Date","filterIp","requestData","captureIp","newIp","parts","pop","beginning","slashIdx","terminal","concat","handleOptions","current","input","payload","updateDeprecatedOptions","overwriteScrubFields","scrubFields","hostWhiteList","hostSafeList","log","hostBlackList","hostBlockList","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","constructor","src","copy","create","arguments","traverse","v","isObj","isArray","seenIndex","mapped","same","scrub","scrubPaths","scrubPath","paramRes","_getScrubFieldRegexs","queryRes","_getScrubQueryParamRegexs","redactQueryParam","dummy0","paramPart","paramScrubber","regex","valScrubber","scrubber","tmpV","last","_iterator4","entries","_step4","_step4$value","_slicedToArray","index","ret","_iterator5","_step5","field","pat","_iterator6","_step6","MAX_EVENTS","fromMillis","millis","trunc","round","Telemeter","tracing","_this$tracing","_classCallCheck","queue","maxTelemetryEvents","maxQueueSize","max","min","telemetrySpan","startSpan","_createClass","configure","oldOptions","newMaxEvents","deleteCount","splice","copyEvents","events","Array","filterTelemetry","filter","map","_ref","_otelAttributes","otelAttributes","_objectWithoutProperties","_excluded","exportTelemetrySpan","end","capture","rollbarUUID","getLevel","timestamp_ms","body","_exc","captureEvent","captureError","_this$telemetrySpan","addEvent","captureLog","_this$telemetrySpan2","_objectSpread","captureNetwork","subtype","_metadata$response","_metadata$response2","_this$telemetrySpan3","levelFromStatus","status_code","endTimeNano","end_time_ms","method","statusCode","request_headers","response","headers","requestBody","responseBody","start_time_ms","captureDom","element","checked","captureInput","_ref2","_this$telemetrySpan4","isSynthetic","endTimeUnixNano","_getRepeatedEvent","_updateRepeatedEvent","captureClick","_ref3","_this$telemetrySpan5","lastEvent","_lastEvent","target","duration","height","width","textZoomRatio","rate","list","captureFocus","_ref4","_this$telemetrySpan6","captureResize","_ref5","_this$telemetrySpan7","captureDragDrop","_ref6","_this$telemetrySpan8","dropEffect","effectAllowed","kinds","mediaTypes","captureNavigation","from","to","_this$telemetrySpan9","captureDomContentLoaded","ts","getTime","captureLoad","captureConnectivityChange","_ref7","_this$telemetrySpan0","_captureRollbarItem","includeItemsInTelemetry","shift","defaultLevel","manual","Context","parentContext","_currentContext","Map","getValue","setValue","deleteValue","self","delete","ROOT_CONTEXT","ContextManager","currentContext","active","enterContext","previousContext","exitContext","with","fn","thisArg","_len","_key","apply","createContextKey","Symbol","for","toMillis","hrtime","toNanos","add","b","usePerformance","performance","timeOrigin","isHrTime","SpanExporter","api","export","spans","_resultCallback","spanExportQueue","_toConsumableArray","toPayload","_this","resourceSpans","resource","scopeMap","span","scopeKey","instrumentationScope","version","has","scope","_transformSpan","_transformResource","scopeSpans","values","scopeData","_transformInstrumentationScope","post","postSpans","_this2","transformAttributes","_transformAnyValue","transformEvents","timeUnixNano","time","traceId","spanContext","spanId","parentSpanId","kind","startTimeUnixNano","startTime","endTime","_this3","keyValues","_this4","attr","_this5","stringValue","isInteger","intValue","doubleValue","boolValue","arrayValue","kvlistValue","gen","bytes","randomBytes","Uint8Array","crypto","getRandomValues","randHex","byte","padStart","id","SESSION_KEY","Session","_defineProperty","session","_attributes","init","attrs","getSession","createSession","initSessionAttributes","serializedSession","sessionStorage","getItem","_unused","createdAt","setSession","sessionString","setItem","_unused2","setAttributes","setUser","user","email","username","_navigator$userAgentD","_navigator$userAgentD2","_navigator$userAgentD3","userAgentData","brands","language","mobile","platform","levels","warn","disable","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","logLevel","unshift","console","SpanProcessor","exporter","pendingSpans","transforms","userTransform","bind","addTransform","transformFn","transformSpan","applyTransforms","transform","onStart","_parentContext","onEnd","Span","initReadableSpan","spanProcessor","_options$session","status","links","ended","droppedAttributesCount","droppedEventsCount","droppedLinksCount","setAttribute","_i","_Object$entries","_Object$entries$_i","isRecording","Tracer","_this$tracing$resourc","_options$resource","_this$tracing$session","contextManager","parentSpan","getSpan","parentSpanContext","traceFlags","traceState","SPAN_KEY","Tracing","gWindow","createTracer","initSession","_this$options$payload","_this$options$payload2","environment","idGen","tracer","getTracer","addSpanTransform","setSpan","_this$contextManager","withSpan","default","raw","jsonBackup","selectFrames","frames","range","truncateFrames","trace_chain","chain","trace","maybeTruncateValue","truncateStrings","truncator","truncateTraceData","traceData","exception","description","minBody","_step2$value","needsTruncation","maxSize","truncate","strategies","strategy","results","buildPayload","contextResult","getTransportFromOptions","defaults","timeout","transport","detectTransport","proxy","endpoint","opts","pathname","defaultTransport","fetch","XMLHttpRequest","transportOptions","transportAPI","host","appendPathToPath","base","baseTrailingSlash","pathBeginningSlash","iterator","toStringTag","Generator","_regeneratorDefine2","y","G","TypeError","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","__proto__","displayName","_regenerator","w","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","_asyncToGenerator","_next","_throw","_defineProperties","_toPropertyKey","_toPrimitive","toPrimitive","helpers","defaultOptions","OTLPDefaultOptions","Api","urllib","truncation","_getTransport","OTLPTransportOptions","_getOTLPTransport","_postPromise","reject","postItem","setTimeout","_postSpans","_callee","_args","_context","_x","buildJsonPayload","stringifyResult","postJsonPayload","jsonPayload","_options$tracing","reportLevel","uncaughtErrorLevel","maxItems","itemsPerMin","commonScrubFields","apiScrubFields","requestScrubFields","commonScrubHeaders","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","allowEmpty","parseStack","stackString","parseV8OrIeString","parseFFOrSafariString","extractLocation","urlLike","regExp","applySlice","lines","filtered","sanitizedLine","locationParts","functionName","fileName","function","file","col","functionNameRegex","matches","parseOpera9","parseOpera10","parseOpera11","lineRE","tokens","functionCall","argsRaw","parse$1","parseV8OrIE$1","parseFFOrSafari$1","parseOpera$1","parseOpera9$1","parseOpera10$1","parseOpera11$1","stackframesLiteToStackframes","liteStackframes","liteStackframe","lineNumber","columnNumber","parseErrorStack","UNKNOWN_FUNCTION","ERR_CLASS_REGEXP","Frame","stackFrame","_stackFrame","Stack","skip","getStack","parserStack","_mostSpecificErrorName","rawStack","rawException","nested","cause","traceChain","guessErrorClass","errMsg","errClassMatch","errClass","constructorName","checkLevel","settings","levelVal","reportLevelVal","userCheckIgnore","isUncaught","Boolean","_isUncaught","onSendCallback","checkIgnore","urlIsNotBlockListed","urlIsOnAList","urlIsSafeListed","matchFrames","block","frame","filename","urlRegex","listLength","frameLength","safeOrBlock","traces","tracesLength","listName","messageIsIgnored","ignoredMessages","rIgnoredMessage","messages","messagesFromItem","Notifier","_this$queue","enabled","addPendingItem","originalError","_applyTransforms","removePendingItem","addItem","transformIndex","transformsLength","next","Queue","rateLimiter","replay","predicates","pendingItems","pendingRequests","retryQueue","retryHandle","waitCallback","waitIntervalID","_this$api","addPredicate","predicate","idx","originalItem","predicateResult","_applyPredicates","stop","_maybeLog","transmit","replayId","_makeApiRequest","_dequeuePendingRequest","sendOrDiscardReplay","_this$replay","discard","wait","_maybeCallWait","clearInterval","setInterval","rateLimitResponse","shouldSend","_maybeRetry","shouldRetry","retryInterval","RETRIABLE_ERRORS","maxRetries","retries","_retryApiRequest","retryObject","verbose","RateLimiter","counter","perMinCounter","platformOptions","configureGlobal","itemsPerMinute","globalSettings","elapsedTime","globalRateLimit","globalRateLimitPerMin","checkRate","shouldSendValue","underGlobalLimit","perMinute","setPlatformOptions","limit","ignoreRateLimit","limitPerMin","errorResult","rateLimitPayload","msg","extra","framework","Rollbar","telemeter","validateTracer","_configuredOptions","setStackTraceLimit","lastError","lastErrorHash","global","payloadData","_defaultLogLevel","_log","sendJsonPayload","ignoreDuplicateErrors","_sameAsLastError","_addItemAttributes","_addTracingInfo","telemetryEvents","_this$tracing2","sessionId","itemHash","generateItemHash","validateSpan","setTag","opentracingSpanId","toSpanId","opentracingTraceId","toTraceId","opentracing_span_id","opentracing_trace_id","stackTraceLimit","itemToPayload","addPayloadOptions","payloadOptions","addTelemetryData","addMessageWithError","tracePath","newExtra","newItem","promisedItem","addConfigToPayload","sendConfig","configKey","addFunctionOption","addConfiguredOptions","configuredOptions","configured_options","addDiagnosticKeys","client","is_anonymous","is_uncaught","raw_error","constructor_name","failed","captureUncaughtExceptions","handler","shim","oldOnError","_rollbarOldOnError","onerror","handleAnonymousErrors","_rollbarWindowOnError","old","_rollbarWrappedError","_rollbarContext","handleUncaughtException","anonymousErrorsPending","captureUnhandledRejections","_rollbarURH","belongsToShim","removeEventListener","rejectionHandler","evt","reason","promise","detail","handleUnhandledRejection","addEventListener","autoStart","triggerDefaults","samplingRatio","preDuration","postDuration","triggers","logErrors","logEmits","inlineStylesheet","inlineImages","collectFonts","maskInputOptions","tel","text","color","date","month","number","week","maskAllInputs","blockClass","maskTextClass","ignoreClass","slimDOMOptions","script","comment","headFavicon","headWhitespace","headMetaDescKeywords","headMetaSocial","headMetaRobots","headMetaHttpEquiv","headMetaAuthorship","headMetaVerification","handleDomException","handleItemWithError","stackInfo","_savedStackTrace","e2","ensureItemHasSomethingToSay","addBaseInfo","server","addRequestInfo","requestInfo","query_string","remoteString","user_ip","addClientInfo","nav","scr","screen","runtime_ms","_rollbarStartTime","javascript","browser","cookie_enabled","cookieEnabled","addPluginInfo","plugins","navPlugins","cur","addBody","addBodyTraceChain","addBodyTrace","addBodyMessage","stackFromItem","_unhandledStackInfo","traceChainLength","buildTrace","guess","className","errorClass","class","pre","contextLength","mid","sendFrameUrl","endsWith","reverse","addScrubber","scrubFn","makeFetchRequest","controller","timeoutId","AbortController","abort","signal","clearTimeout","respHeaders","isItemRoute","json","catch","makeXhrRequest","requestFactory","_createXMLHTTPObject","onreadystatechange","readyState","parseResponse","responseText","_isSuccess","getResponseHeader","_isNormalFailure","_newRetriableError","ex","exc","open","setRequestHeader","send","_e1","XDomainRequest","xdomainrequest","onprogress","ontimeout","onload","factories","ActiveXObject","xmlhttp","numFactories","Transport","_makeZoneRequest","rootZone","Zone","root","run","_makeRequest","RollbarProxy","_proxyRequest","rollbarProxy","_msg","auth","hash","parseInt","pathParts","API","sharedPredicates","Client","tracingDefaults","sharedTransforms","browserDefaults","globals","replayDefaults","_instance","components","Instrumenter","instrumenter","wrapGlobals","Replay","_gWindow","replayOptions","recorder","start","gDocument","isChrome","chrome","runtime","addTransformsToNotifier","addPredicatesToQueue","setupUnhandledCapture","instrument","setSessionAttributesFromOptions","rollbar","_this$instrumenter","_createItem","triggerDirectReplay","triggerReplay","unhandledExceptionsInitialized","captureUncaught","handleUncaughtExceptions","wrapGlobalEventHandlers","unhandledRejectionsInitialized","handleUnhandledRejections","inspectAnonymousErrors","prepareStackTrace","_stack","_isAnonymous","reasonResult","wrap","_before","ctxFn","_isWrap","_rollbar_wrapped","_wrappedSource","setSessionUser","setSessionAttributes","_this$tracing3","_options$payload","_options$client","_options$payload2","_options$payload3","_options$payload4","person","code_version","codeVersion","loadFull","setComponents","callInstance","maybeCallback","_getFirstFunction","_Rollbar","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","_len0","_key0","_len1","_key1","_len10","_key10","_len11","_key11","_len12","_key12","Headers","FetchHeaders","normalizeName","normalizeValue","iteratorFor","items","forEach","append","header","getOwnPropertyNames","oldValue","replacements","orig","getElementType","getAttribute","isDescribedElement","subtypes","tagName","elementType","getElementFromEvent","doc","elementFromPoint","clientX","clientY","treeToArray","elem","MAX_HEIGHT","out","nextDescription","describeElement","parentNode","elementArrayToString","MAX_LENGTH","separator","separatorLength","nextStr","totalLength","descriptionToString","elementString","desc","classes","attribute","isMatchingElement","selectors","cls","classList","contains","sel","domUtil","urlparser","network","networkResponseHeaders","networkResponseBody","networkRequestHeaders","networkRequestBody","networkErrorOnHttp5xx","networkErrorOnHttp4xx","networkErrorOnHttp0","dom","navigation","connectivity","contentSecurityPolicy","errorOnContentSecurityPolicy","restore","nameFromDescription","defaultValueScrubber","patterns","_patterns","_window","_document","removeListeners","autoInstrument","configureScrubbing","eventRemovers","contentsecuritypolicy","_location","_lastHref","_options$scrubTelemet","_options$replay","_options$replay2","_options$replay3","_options$replay4","_options$replay5","_options$replay6","_options$replay7","_options$replay8","_options$replay9","scrubTelemetryInputs","telemetryScrubber","maskInputFn","scrubClasses","scrubSelectors","blockSelector","ignoreSelector","maskTextSelector","oldSettings","instrumentNetwork","deinstrumentNetwork","instrumentConsole","deinstrumentConsole","instrumentDom","deinstrumentDom","instrumentNavigation","deinstrumentNavigation","instrumentConnectivity","deinstrumentConnectivity","instrumentContentSecurityPolicy","deinstrumentContentSecurityPolicy","wrapProp","xhr","xhrp","isUrlObject","_isUrlObject","__rollbar_xhr","request_content_type","onreadystatechangeHandler","__rollbar_event","response_content_type","headersConfig","allHeaders","getAllResponseHeaders","trim","isJsonContentType","scrubJson","addOtelNetworkResponse","errorOnHttpStatus","trackHttpErrors","_fn","_t","reqHeaders","fetchHeaders","telemetryEvent","contentType","endTimeMs","inHeaders","outHeaders","currentHeader","_this$_window","wrapConsole","origConsole","methods","_i2","_methods","addListener","handleEvent","click","handleClick","dragdrop","handleDrag","focus","handleFocus","form","handleForm","handleInput","resize","handleResize","contentLoaded","handleContentLoaded","_evt","_evt$target","isTrusted","_evt$target2","innerWidth","innerHeight","objs","dataTransfer","files","_evt$dataTransfer","_evt$dataTransfer2","scrubInputValue","inputType","mask","_evt$target3","_evt$target4","_evt$target5","_evt$target6","_evt$target7","chromePackagedApp","app","hasPushState","history","pushState","handleUrlChange","parsedHref","parsedTo","parsedFrom","handleConnectivity","handleCspEvent","cspEvent","blockedURI","violatedDirective","effectiveDirective","sourceFile","originalPolicy","handleCspError","cspHandler","section","types","_iterator7","_step7","_loop","passive","_extendListenerPrototype","oldAddEventListener","_rollbarOldAdd","addFn","bubble","oldRemoveEventListener","_rollbarOldRemove","removeFn","_rollbarConfig","alias","globalAlias","shimRunning","shimId","_rollbarDidLoad"],"sourceRoot":""}