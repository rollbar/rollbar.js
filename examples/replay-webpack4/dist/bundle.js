!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){var n=r(1),o={accessToken:"POST_CLIENT_ITEM_TOKEN",captureUncaught:!0,captureUnhandledRejections:!0,replay:{enabled:!0,autoStart:!0},checkIgnore:function(t,e,r){return!!(r.body.message&&r.body.message.extra&&r.body.message.extra.storePayload)&&(window.jsonPayload=window.Rollbar.buildJsonPayload(r),!0)}};window.Rollbar=new n(o),window.rollbarInfo=function(){Rollbar.info("webpack test log")},window.throwError=function(){throw new Error("webpack test error")},window.rollbarInfoWithExtra=function(){Rollbar.info("webpack test log",{storePayload:!0})},window.sendJson=function(){Rollbar.sendJsonPayload(window.jsonPayload)}},function(t,e,r){(function(e,r){/*! For license information please see rollbar.replay.umd.min.js.LICENSE.txt */
t.exports=function(){"use strict";var t={d:function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};t.d(n,{default:function(){return Sd}});var o={};t.r(o),t.d(o,{parse:function(){return Ct}});var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=function(t){if(!t||"[object Object]"!==a.call(t))return!1;var e,r=i.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&i.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;for(e in t);return void 0===e||i.call(t,e)},u=function t(){var e,r,n,o,i,a={},u=null,c=arguments.length;for(e=0;e<c;e++)if(null!=(u=arguments[e]))for(i in u)r=a[i],a!==(n=u[i])&&(n&&s(n)?(o=r&&s(r)?r:{},a[i]=t(o,n)):void 0!==n&&(a[i]=n));return a};function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){return e===h(t)}function h(t){var e=l(t);return"object"!==e?e:t?t instanceof Error?"error":{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase():"null"}function p(t){return f(t,"function")}function d(t){return Number.isFinite(t)}function v(t){return f(t,"error")||f(t,"exception")}var y={debug:0,info:1,warning:2,error:3,critical:4};function m(t){try{var e=new URL(t);return e.password&&(e.password="********"),e.search&&(e.search="********"),e.toString()}catch(e){return t}}function g(t){var e=function(t){if(f(t,"string")){for(var e=b,r=e.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=0,i=e.key.length;o<i;++o)n[e.key[o]]=r[o]||"";return n[e.q.name]={},n[e.key[12]].replace(e.q.parser,(function(t,r,o){r&&(n[e.q.name][r]=o)})),n}}(t);return e?(""===e.anchor&&(e.source=e.source.replace("#","")),t=e.source.replace("?"+e.query,"")):"(unknown)"}var b={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function w(t,e){if(!(e=e||t.protocol)&&t.port&&(80===t.port?e="http:":443===t.port&&(e="https:")),e=e||"https:",!t.hostname)return null;var r=e+"//"+t.hostname;return t.port&&(r=r+":"+t.port),t.path&&(r+=t.path),r}function k(t,e){var r,n;try{r=JSON.stringify(t)}catch(o){if(e&&p(e))try{r=e(t)}catch(t){n=t}else n=o}return{error:n,value:r}}function S(t){var e,r;try{e=JSON.parse(t)}catch(t){r=t}return{error:r,value:e}}function I(t,e,r,n,o,i,a,s){var u={url:e||"",line:r,column:n};u.func=s.guessFunctionName(u.url,u.line),u.context=s.gatherContext(u.url,u.line);var c="undefined"!=typeof document&&document&&document.location&&document.location.href,l="undefined"!=typeof window&&window&&window.navigator&&window.navigator.userAgent;return{mode:i,message:o?String(o):t||a,url:c,stack:[u],useragent:l}}function C(t,e){return function(r,n){try{e(r,n)}catch(e){t.error(e)}}}function x(t){return function t(e,r){var n,o,i,a={};try{for(o in e)(n=e[o])&&(f(n,"object")||f(n,"array"))?r.includes(n)?a[o]="Removed circular reference: "+h(n):((i=r.slice()).push(n),a[o]=t(n,i)):a[o]=n}catch(t){a="Failed cloning custom data: "+t.message}return a}(t,[t])}var O=["log","network","dom","navigation","error","manual"],A=["critical","error","warning","info","debug"];function E(t,e){for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1}function _(t,e){t.attributes=t.attributes||[];var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return c(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;void 0!==o.value&&t.attributes.push(o)}}catch(t){n.e(t)}finally{n.f()}}function R(t,e){if(t){var r=e.split("."),n=t;try{for(var o=0,i=r.length;o<i;++o)n=n[r[o]]}catch(t){n=void 0}return n}}function T(t,e,r){if(t){var n=e.split("."),o=n.length;if(!(o<1))if(1!==o)try{for(var i=t[n[0]]||{},a=i,s=1;s<o-1;++s)i[n[s]]=i[n[s]]||{},i=i[n[s]];i[n[o-1]]=r,t[n[0]]=a}catch(t){return}else t[n[0]]=r}}function P(){return Date.now?+Date.now():+new Date}function M(t,e,r,n){var o=u(t,e,r);return o=function(t,e){return t.hostWhiteList&&!t.hostSafeList&&(t.hostSafeList=t.hostWhiteList,t.hostWhiteList=void 0,e&&e.log("hostWhiteList is deprecated. Use hostSafeList.")),t.hostBlackList&&!t.hostBlockList&&(t.hostBlockList=t.hostBlackList,t.hostBlackList=void 0,e&&e.log("hostBlackList is deprecated. Use hostBlockList.")),t}(o,n),!e||e.overwriteScrubFields||e.scrubFields&&(o.scrubFields=(t.scrubFields||[]).concat(e.scrubFields)),o}function L(t){this.startTime=P(),this.counter=0,this.perMinCounter=0,this.platform=null,this.platformOptions={},this.configureGlobal(t)}function j(t,e,r){return!t.ignoreRateLimit&&e>=1&&r>e}function N(t,e,r,n,o,i,a){var s=null;return r&&(r=new Error(r)),r||n||(s=function(t,e,r,n,o){var i={body:{message:{body:o?"item per minute limit reached, ignoring errors until timeout":"maxItems has been hit, ignoring errors until reset.",extra:{maxItems:r,itemsPerMinute:n}}},language:"javascript",environment:e.environment||e.payload&&e.payload.environment,notifier:{version:e.notifier&&e.notifier.version||e.version}};return"browser"===t?(i.platform="browser",i.framework="browser-js",i.notifier.name="rollbar-browser-js"):"server"===t?(i.framework=e.framework||"node-js",i.notifier.name=e.notifier.name):"react-native"===t&&(i.framework=e.framework||"react-native",i.notifier.name=e.notifier.name),i}(t,e,o,i,a)),{error:r,shouldSend:n,payload:s}}L.globalSettings={startTime:P(),maxItems:void 0,itemsPerMinute:void 0},L.prototype.configureGlobal=function(t){void 0!==t.startTime&&(L.globalSettings.startTime=t.startTime),void 0!==t.maxItems&&(L.globalSettings.maxItems=t.maxItems),void 0!==t.itemsPerMinute&&(L.globalSettings.itemsPerMinute=t.itemsPerMinute)},L.prototype.shouldSend=function(t,e){var r=(e=e||P())-this.startTime;(r<0||r>=6e4)&&(this.startTime=e,this.perMinCounter=0);var n=L.globalSettings.maxItems,o=L.globalSettings.itemsPerMinute;if(j(t,n,this.counter))return N(this.platform,this.platformOptions,n+" max items reached",!1);if(j(t,o,this.perMinCounter))return N(this.platform,this.platformOptions,o+" items per minute reached",!1);this.counter++,this.perMinCounter++;var i=!j(t,n,this.counter),a=i;return i=i&&!j(t,o,this.perMinCounter),N(this.platform,this.platformOptions,null,i,n,o,a)},L.prototype.setPlatformOptions=function(t,e){this.platform=t,this.platformOptions=e};var D=L;function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U(n.key),n)}}function U(t){var e=function(t,e){if("object"!=F(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==F(e)?e:e+""}var Y,G,z,W=function(){function t(e,r,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rateLimiter=e,this.api=r,this.logger=n,this.options=o,this.replay=i,this.predicates=[],this.pendingItems=[],this.pendingRequests=[],this.retryQueue=[],this.retryHandle=null,this.waitCallback=null,this.waitIntervalID=null}return e=t,(r=[{key:"configure",value:function(t){var e;null===(e=this.api)||void 0===e||e.configure(t);var r=this.options;return this.options=u(r,t),this}},{key:"addPredicate",value:function(t){return p(t)&&this.predicates.push(t),this}},{key:"addPendingItem",value:function(t){this.pendingItems.push(t)}},{key:"removePendingItem",value:function(t){var e=this.pendingItems.indexOf(t);-1!==e&&this.pendingItems.splice(e,1)}},{key:"addItem",value:function(t,e,r,n){var o=this;e&&p(e)||(e=function(){});var i=t.data,a=this._applyPredicates(i);if(a.stop)return this.removePendingItem(n),void e(a.err);if(this._maybeLog(i,r),this.removePendingItem(n),this.options.transmit){this.replay&&i.body&&(t.replayId=this.replay.capture(null,i.uuid,{type:"occurrence",level:t.level}),t.replayId&&_(t.data,[{key:"replay_id",value:t.replayId}])),this.pendingRequests.push(i);try{this._makeApiRequest(i,(function(r,n,a){o._dequeuePendingRequest(i),t.replayId&&o.replay.sendOrDiscardReplay(t.replayId,r,n,a),e(r,n)}))}catch(r){var s;this._dequeuePendingRequest(i),t.replayId&&(null===(s=this.replay)||void 0===s||s.discard(t.replayId)),e(r)}}else e(new Error("Transmit disabled"))}},{key:"wait",value:function(t){var e=this;p(t)&&(this.waitCallback=t,this._maybeCallWait()||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitIntervalID=setInterval((function(){e._maybeCallWait()}),500)))}},{key:"_applyPredicates",value:function(t){for(var e=null,r=0,n=this.predicates.length;r<n;r++)if(!(e=this.predicates[r](t,this.options))||void 0!==e.err)return{stop:!0,err:e.err};return{stop:!1,err:null}}},{key:"_makeApiRequest",value:function(t,e){var r=this,n=this.rateLimiter.shouldSend(t);n.shouldSend?this.api.postItem(t,(function(n,o,i){n?r._maybeRetry(n,t,e):e(n,o,i)})):n.error?e(n.error):this.api.postItem(n.payload,e)}},{key:"_maybeRetry",value:function(e,r,n){var o=!1;if(this.options.retryInterval){for(var i=0,a=t.RETRIABLE_ERRORS.length;i<a;i++)if(e.code===t.RETRIABLE_ERRORS[i]){o=!0;break}o&&d(this.options.maxRetries)&&(r.retries=r.retries?r.retries+1:1,r.retries>this.options.maxRetries&&(o=!1))}o?this._retryApiRequest(r,n):n(e)}},{key:"_retryApiRequest",value:function(t,e){var r=this;this.retryQueue.push({item:t,callback:e}),this.retryHandle||(this.retryHandle=setInterval((function(){for(;r.retryQueue.length;){var t=r.retryQueue.shift();r._makeApiRequest(t.item,t.callback)}}),this.options.retryInterval))}},{key:"_dequeuePendingRequest",value:function(t){var e=this.pendingRequests.indexOf(t);-1!==e&&(this.pendingRequests.splice(e,1),this._maybeCallWait())}},{key:"_maybeLog",value:function(t,e){if(this.logger&&this.options.verbose){var r=e||R(t,"body.trace.exception.message")||R(t,"body.trace_chain.0.exception.message");if(r)return void this.logger.error(r);(r=R(t,"body.message.body"))&&this.logger.log(r)}}},{key:"_maybeCallWait",value:function(){return!(!p(this.waitCallback)||0!==this.pendingItems.length||0!==this.pendingRequests.length||(this.waitIntervalID&&(this.waitIntervalID=clearInterval(this.waitIntervalID)),this.waitCallback(),0))}}])&&B(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}();Y=W,z=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN"],(G=U(G="RETRIABLE_ERRORS"))in Y?Object.defineProperty(Y,G,{value:z,enumerable:!0,configurable:!0,writable:!0}):Y[G]=z;var Z=W;function V(t,e){this.queue=t,this.options=e,this.transforms=[],this.diagnostic={}}V.prototype.configure=function(t){this.queue&&this.queue.configure(t);var e=this.options;return this.options=u(e,t),this},V.prototype.addTransform=function(t){return p(t)&&this.transforms.push(t),this},V.prototype.log=function(t,e){if(e&&p(e)||(e=function(){}),!this.options.enabled)return e(new Error("Rollbar is not enabled"));this.queue.addPendingItem(t);var r=t.err;this._applyTransforms(t,function(n,o){if(n)return this.queue.removePendingItem(t),e(n,null);this.queue.addItem(o,e,r,t)}.bind(this))},V.prototype._applyTransforms=function(t,e){var r=-1,n=this.transforms.length,o=this.transforms,i=this.options,a=function(t,s){t?e(t,null):++r!==n?o[r](s,i,a):e(null,s)};a(null,t)};var H=V;function J(t,e,r,n,o,i,a){this.options=u(t),this.logger=r,J.rateLimiter.configureGlobal(this.options),J.rateLimiter.setPlatformOptions(a,this.options),this.api=e,this.queue=new Z(J.rateLimiter,e,r,this.options,i),this.tracing=o;var s=this.options.tracer||null;K(s)?(this.tracer=s,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier=new H(this.queue,this.options),this.telemeter=n,X(t),this.lastError=null,this.lastErrorHash="none"}function X(t){t.stackTraceLimit&&(Error.stackTraceLimit=t.stackTraceLimit)}function K(t){if(!t)return!1;if(!t.scope||"function"!=typeof t.scope)return!1;var e=t.scope();return!(!e||!e.active||"function"!=typeof e.active)}J.rateLimiter=new D({maxItems:0,itemsPerMinute:60}),J.prototype.global=function(t){return J.rateLimiter.configureGlobal(t),this},J.prototype.configure=function(t,e){var r=this.options,n={};e&&(n={payload:e}),this.options=u(r,t,n);var o=this.options.tracer||null;return K(o)?(this.tracer=o,this.options.tracer="opentracing-tracer-enabled",this.options._configuredOptions.tracer="opentracing-tracer-enabled"):this.tracer=null,this.notifier&&this.notifier.configure(this.options),this.telemeter&&this.telemeter.configure(this.options),X(t),this.global(this.options),K(t.tracer)&&(this.tracer=t.tracer),this},J.prototype.log=function(t){var e=this._defaultLogLevel();return this._log(e,t)},J.prototype.debug=function(t){this._log("debug",t)},J.prototype.info=function(t){this._log("info",t)},J.prototype.warn=function(t){this._log("warning",t)},J.prototype.warning=function(t){this._log("warning",t)},J.prototype.error=function(t){this._log("error",t)},J.prototype.critical=function(t){this._log("critical",t)},J.prototype.wait=function(t){this.queue.wait(t)},J.prototype.captureEvent=function(t,e,r){return this.telemeter&&this.telemeter.captureEvent(t,e,r)},J.prototype.captureDomContentLoaded=function(t){return this.telemeter&&this.telemeter.captureDomContentLoaded(t)},J.prototype.captureLoad=function(t){return this.telemeter&&this.telemeter.captureLoad(t)},J.prototype.buildJsonPayload=function(t){return this.api.buildJsonPayload(t)},J.prototype.sendJsonPayload=function(t){this.api.postJsonPayload(t)},J.prototype._log=function(t,e){var r;if(e.callback&&(r=e.callback,delete e.callback),this.options.ignoreDuplicateErrors&&this._sameAsLastError(e)){if(r){var n=new Error("ignored identical item");n.item=e,r(n)}}else try{e.level=e.level||t,this._addTracingAttributes(e),this._addTracingInfo(e);var o=this.telemeter;o&&(o._captureRollbarItem(e),e.telemetryEvents=o.copyEvents()||[]),this.notifier.log(e,r)}catch(t){r&&r(t),this.logger.error(t)}},J.prototype._addTracingAttributes=function(t){var e,r,n=null===(e=this.tracing)||void 0===e?void 0:e.getSpan(),o=[{key:"session_id",value:null===(r=this.tracing)||void 0===r?void 0:r.sessionId},{key:"span_id",value:null==n?void 0:n.spanId},{key:"trace_id",value:null==n?void 0:n.traceId}];_(t.data,o),null==n||n.addEvent("rollbar.occurrence",[{key:"rollbar.occurrence.uuid",value:t.uuid}])},J.prototype._defaultLogLevel=function(){return this.options.logLevel||"debug"},J.prototype._sameAsLastError=function(t){if(!t._isUncaught)return!1;var e=function(t){return(t.message||"")+"::"+((t.err||{}).stack||String(t.err))}(t);return this.lastErrorHash===e||(this.lastError=t.err,this.lastErrorHash=e,!1)},J.prototype._addTracingInfo=function(t){if(this.tracer){var e=this.tracer.scope().active();if(function(t){if(!t||!t.context||"function"!=typeof t.context)return!1;var e=t.context();return!!(e&&e.toSpanId&&e.toTraceId&&"function"==typeof e.toSpanId&&"function"==typeof e.toTraceId)}(e)){e.setTag("rollbar.error_uuid",t.uuid),e.setTag("rollbar.has_error",!0),e.setTag("error",!0),e.setTag("rollbar.item_url","https://rollbar.com/item/uuid/?uuid=".concat(t.uuid)),e.setTag("rollbar.occurrence_url","https://rollbar.com/occurrence/uuid/?uuid=".concat(t.uuid));var r=e.context().toSpanId(),n=e.context().toTraceId();t.custom?(t.custom.opentracing_span_id=r,t.custom.opentracing_trace_id=n):t.custom={opentracing_span_id:r,opentracing_trace_id:n}}}};var q=J;function Q(t){if(!f(t.context,"string")){var e=k(t.context);e.error?t.context="Error: could not serialize 'context'":t.context=e.value||"",t.context.length>255&&(t.context=t.context.substr(0,255))}return{data:t}}function $(t,e,r){var n=e.hostname,o=e.protocol,i=e.port,a=e.path,s=e.search,u=t.timeout,c=function(t){var e="undefined"!=typeof window&&window||"undefined"!=typeof self&&self,r=t.defaultTransport||"xhr";return void 0===e.fetch&&(r="xhr"),void 0===e.XMLHttpRequest&&(r="fetch"),r}(t),l=t.proxy;if(t.endpoint){var f=r.parse(t.endpoint);n=f.hostname,o=f.protocol,i=f.port,a=f.pathname,s=f.search}return{timeout:u,hostname:n,protocol:o,port:i,path:a,search:s,proxy:l,transport:c}}function tt(t,e){var r=t.protocol||"https:",n=t.port||("http:"===r?80:"https:"===r?443:void 0),o=t.hostname,i=t.path,a=t.timeout,s=t.transport;return t.search&&(i+=t.search),t.proxy&&(i=r+"//"+o+i,o=t.proxy.host||t.proxy.hostname,n=t.proxy.port,r=t.proxy.protocol||r),{timeout:a,protocol:r,hostname:o,path:i,port:n,method:e,transport:s}}function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(r),!0).forEach((function(e){ot(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ot(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=et(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==et(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function it(){it=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new _(n||[]);return o(a,"_invoke",{value:x(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",d="completed",v={};function y(){}function m(){}function g(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(R([])));k&&k!==r&&n.call(k,a)&&(b=k);var S=g.prototype=y.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==et(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?d:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=d,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(et(e)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),c(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new C(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),c(S,u,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function at(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}var st={hostname:"api.rollbar.com",path:"/api/1/item/",search:null,version:"1",protocol:"https:",port:443},ut={hostname:"api.rollbar.com",path:"/api/1/session/",search:null,version:"1",protocol:"https:",port:443};function ct(t,e,r,n){this.options=t,this.transport=e,this.url=r,this.truncation=n,this.accessToken=t.accessToken,this.transportOptions=lt(t,r),this.OTLPTransportOptions=ft(t,r)}function lt(t,e){return $(t,st,e)}function ft(t,e){var r;return $(t=nt(nt({},t),{},{endpoint:null===(r=t.tracing)||void 0===r?void 0:r.endpoint}),ut,e)}ct.prototype._postPromise=function(t){var e=t.accessToken,r=t.options,n=t.payload,o=t.headers,i=this;return new Promise((function(t,a){i.transport.post({accessToken:e,options:r,payload:n,headers:o,callback:function(e,r){return e?a(e):t(r)}})}))},ct.prototype.postItem=function(t,e){var r=tt(this.transportOptions,"POST"),n=Q(t),o=this;setTimeout((function(){o.transport.post({accessToken:o.accessToken,options:r,payload:n,callback:e})}),0)},ct.prototype.postSpans=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){at(i,n,o,a,s,"next",t)}function s(t){at(i,n,o,a,s,"throw",t)}a(void 0)}))}}(it().mark((function t(e){var r,n,o=arguments;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n=tt(this.OTLPTransportOptions,"POST"),t.next=4,this._postPromise({accessToken:this.accessToken,options:n,payload:e,headers:r});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),ct.prototype.buildJsonPayload=function(t,e){var r,n=Q(t);return(r=this.truncation?this.truncation.truncate(n):k(n)).error?(e&&e(r.error),null):r.value},ct.prototype.postJsonPayload=function(t,e){var r=tt(this.transportOptions,"POST");this.transport.postJsonPayload(this.accessToken,r,t,e)},ct.prototype.configure=function(t){var e=this.oldOptions;return this.options=u(e,t),this.transportOptions=lt(this.options,this.url),this.OTLPTransportOptions=ft(this.options,this.url),void 0!==this.options.accessToken&&(this.accessToken=this.options.accessToken),this};var ht=ct,pt=function(){},dt={debug:0,info:1,warn:2,error:3,disable:4},vt={error:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return pt("error",e)},warn:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return pt("warn",e)},info:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return pt("info",e)},debug:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return pt("debug",e)},log:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return pt("info",e)},init:function(t){var e=t.logLevel;pt=function(t,r){dt[t]<dt[e]||(r.unshift("Rollbar:"),console[t].apply(console,r))}}};function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=yt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==yt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return wt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function kt(t,e){var r=new Error(t);return r.code=e||"ENOTFOUND",r}function St(t){this.truncation=t}St.prototype.get=function(t,e,r,n,o){n&&p(n)||(n=function(){}),function(t,e,r){(r=r||{}).access_token=t;var n,o=[];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&o.push([n,r[n]].join("="));var i="?"+o.sort().join("&");(e=e||{}).path=e.path||"";var a,s=e.path.indexOf("?"),u=e.path.indexOf("#");-1!==s&&(-1===u||u>s)?(a=e.path,e.path=a.substring(0,s)+i+"&"+a.substring(s+1)):-1!==u?(a=e.path,e.path=a.substring(0,u)+i+a.substring(u)):e.path=e.path+i}(t,e,r);var i=w(e);this._makeZoneRequest({accessToken:t,url:i,method:"GET",callback:n,requestFactory:o,timeout:e.timeout,transport:e.transport})},St.prototype.post=function(t){var e=this,r=t.accessToken,n=t.options,o=t.payload,i=t.headers,a=t.callback,s=t.requestFactory;return function(t){if(a&&p(a)||(a=function(){}),!t)return a(new Error("Cannot send empty request"));var o;if((o=e.truncation&&t.body?e.truncation.truncate(t):k(t)).error)return a(o.error);t=o.value;var u=w(n);e._makeZoneRequest({accessToken:r,url:u,method:"POST",payload:t,headers:i,callback:a,requestFactory:s,timeout:n.timeout,transport:n.transport})}(o)},St.prototype.postJsonPayload=function(t,e,r,n,o){n&&p(n)||(n=function(){});var i=w(e);this._makeZoneRequest({accessToken:t,url:i,method:"POST",payload:r,callback:n,requestFactory:o,timeout:e.timeout,transport:e.transport})},St.prototype._makeZoneRequest=function(){var t="undefined"!=typeof window&&window||void 0!==n&&n,e=t&&t.Zone&&t.Zone.root,r=Array.prototype.slice.call(arguments);if(e){var n=this;e.run((function(){n._makeRequest.apply(void 0,r)}))}else this._makeRequest.apply(void 0,r)},St.prototype._makeRequest=function(t){var e=t.payload,r=t.callback,n=t.transport;if("undefined"!=typeof RollbarProxy)return function(t,e){(new RollbarProxy).sendJsonPayload(t,(function(t){}),(function(t){e(new Error(t))}))}(e,r);"fetch"===n?function(t){var e,r,n=t.accessToken,o=t.url,i=t.method,a=t.payload,s=t.headers,u=t.callback,c=t.timeout;d(c)&&(e=new AbortController,r=setTimeout((function(){e.abort()}),c)),s=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(r),!0).forEach((function(e){gt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({"Content-Type":"application/json","X-Rollbar-Access-Token":n,signal:e&&e.signal},s),fetch(o,{method:i,headers:s,body:a}).then((function(t){r&&clearTimeout(r);var e=t.headers,n=o.endsWith("/api/1/item/")?{"Rollbar-Replay-Enabled":e.get("Rollbar-Replay-Enabled"),"Rollbar-Replay-RateLimit-Remaining":e.get("Rollbar-Replay-RateLimit-Remaining"),"Rollbar-Replay-RateLimit-Reset":e.get("Rollbar-Replay-RateLimit-Reset")}:{},i=t.json();u(null,i,n)})).catch((function(t){vt.error(t.message),u(t)}))}(t):function(t){var e,r=t.accessToken,n=t.url,o=t.method,i=t.payload,a=t.headers,s=t.callback,u=t.requestFactory,c=t.timeout;if(!(e=u?u():function(){var t,e,r=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],n=r.length;for(e=0;e<n;e++)try{t=r[e]();break}catch(t){}return t}()))return s(new Error("No way to send a request"));try{try{var l=function(){try{if(l&&4===e.readyState){l=void 0;var t=S(e.responseText);if(function(t){return t&&t.status&&200===t.status}(e)){var r=n.endsWith("/api/1/item/")?{"Rollbar-Replay-Enabled":e.getResponseHeader("Rollbar-Replay-Enabled"),"Rollbar-Replay-RateLimit-Remaining":e.getResponseHeader("Rollbar-Replay-RateLimit-Remaining"),"Rollbar-Replay-RateLimit-Reset":e.getResponseHeader("Rollbar-Replay-RateLimit-Reset")}:{};return void s(t.error,t.value,r)}if(function(t){return t&&f(t.status,"number")&&t.status>=400&&t.status<600}(e)){if(403===e.status){var o=t.value&&t.value.message;vt.error(o)}s(new Error(String(e.status)))}else s(kt("XHR response had no status code (likely connection failure)"))}}catch(t){var i;i=t&&t.stack?t:new Error(t),s(i)}};if(e.open(o,n,!0),e.setRequestHeader){e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("X-Rollbar-Access-Token",r);for(var h=0,p=Object.entries(null!=a?a:{});h<p.length;h++){var v=bt(p[h],2),y=v[0],m=v[1];e.setRequestHeader(y,m)}}d(c)&&(e.timeout=c),e.onreadystatechange=l,e.send(i)}catch(t){if("undefined"!=typeof XDomainRequest){if(!window||!window.location)return s(new Error("No window available during request, unknown environment"));"http:"===window.location.href.substring(0,5)&&"https"===n.substring(0,5)&&(n="http"+n.substring(5));var g=new XDomainRequest;g.onprogress=function(){},g.ontimeout=function(){s(kt("Request timed out","ETIMEDOUT"))},g.onerror=function(){s(new Error("Error during request"))},g.onload=function(){var t=S(g.responseText);s(t.error,t.value)},g.open(o,n,!0),g.send(i)}else s(new Error("Cannot find a method to transport a request"))}}catch(t){s(t)}}(t)};var It=St;function Ct(t){var e,r,n={protocol:null,auth:null,host:null,path:null,hash:null,href:t,hostname:null,port:null,pathname:null,search:null,query:null};if(-1!==(e=t.indexOf("//"))?(n.protocol=t.substring(0,e),r=e+2):r=0,-1!==(e=t.indexOf("@",r))&&(n.auth=t.substring(r,e),r=e+1),-1===(e=t.indexOf("/",r))){if(-1===(e=t.indexOf("?",r)))return-1===(e=t.indexOf("#",r))?n.host=t.substring(r):(n.host=t.substring(r,e),n.hash=t.substring(e)),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),n;n.host=t.substring(r,e),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=e}else n.host=t.substring(r,e),n.hostname=n.host.split(":")[0],n.port=n.host.split(":")[1],n.port&&(n.port=parseInt(n.port,10)),r=e;if(-1===(e=t.indexOf("#",r))?n.path=t.substring(r):(n.path=t.substring(r,e),n.hash=t.substring(e)),n.path){var o=n.path.split("?");n.pathname=o[0],n.query=o[1],n.search=n.query?"?"+n.query:null}return n}var xt=/(^|@)\S+:\d+/,Ot=/^\s*at .*(\S+:\d+|\(native\))/m,At=/^(eval@)?(\[native code\])?$/;function Et(t,e){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return function(t,e){return!t.stacktrace||t.message.includes("\n")&&t.message.split("\n").length>t.stacktrace.split("\n").length?function(t,e){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=t.message.split("\n"),o=[],i=2,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push({file:s[2],line:+s[1],raw:n[i]})}return Rt(o,void 0)}(t):t.stack?function(t,e){return Rt(t.stack.split("\n").filter((function(t){return!!t.match(xt)&&!t.match(/^Error created at/)})),e).map((function(t){var e,r=t.split("@"),n=_t(r.pop()),o=r.shift()||"",i=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return o.match(/\(([^)]*)\)/)&&(e=o.replace(/^[^(]+\(([^)]*)\)$/,"$1")),{function:i,args:void 0===e||"[arguments not available]"===e?void 0:e.split(","),file:n[0],line:n[1]?+n[1]:void 0,col:n[2]?+n[2]:void 0,raw:t}}))}(t,e):function(t,e){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=t.stacktrace.split("\n"),o=[],i=0,a=n.length;i<a;i+=2){var s=r.exec(n[i]);s&&o.push({function:s[3]||void 0,file:s[2],line:s[1]?+s[1]:void 0,raw:n[i]})}return Rt(o,void 0)}(t)}(t,e);if(t.stack&&t.stack.match(Ot))return function(t,e){return function(t,e){return Rt(t.split("\n").filter((function(t){return!!t.match(Ot)})),e).map((function(t){t.includes("(eval ")&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var e=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),r=e.match(/ (\(.+\)$)/);e=r?e.replace(r[0],""):e;var n=_t(r?r[1]:e);return{function:r&&e||void 0,file:["eval","<anonymous>"].includes(n[0])?void 0:n[0],line:n[1]?+n[1]:void 0,col:n[2]?+n[2]:void 0,raw:t}}))}(t.stack,e)}(t,e);if(t.stack)return function(t,e){return function(t,e){return Rt(t.split("\n").filter((function(t){return!t.match(At)})),e).map((function(t){if(t.includes(" > eval")&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),t.includes("@")||t.includes(":")){var e=/(([^\n\r"\u2028\u2029]*".[^\n\r"\u2028\u2029]*"[^\n\r@\u2028\u2029]*(?:@[^\n\r"\u2028\u2029]*"[^\n\r@\u2028\u2029]*)*(?:[\n\r\u2028\u2029][^@]*)?)?[^@]*)@/,r=t.match(e),n=r&&r[1]?r[1]:void 0,o=_t(t.replace(e,""));return{function:n,file:o[0],line:o[1]?+o[1]:void 0,col:o[2]?+o[2]:void 0,raw:t}}return{function:t}}))}(t.stack,e)}(t,e);if(null!=e&&e.allowEmpty)return[];throw new Error("Cannot parse given Error object")}function _t(t){if(!t.includes(":"))return[t,void 0,void 0];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]}function Rt(t,e){return e&&null!=e.slice?Array.isArray(e.slice)?t.slice(e.slice[0],e.slice[1]):t.slice(0,e.slice):t}var Tt=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");function Pt(t){var e={};return e._stackFrame=t,e.url=t.fileName,e.line=t.lineNumber,e.func=t.functionName,e.column=t.columnNumber,e.args=t.args,e.context=null,e}function Mt(t,e){return{stack:function(){var r=[];e=e||0;try{r=function(t,e){return function(t){return t.map((function(t){return{functionName:t.function,args:t.args,fileName:t.file,lineNumber:t.line,columnNumber:t.col,source:t.raw}}))}(Et(t,void 0))}(t)}catch(t){r=[]}for(var n=[],o=e;o<r.length;o++)n.push(new Pt(r[o]));return n}(),message:t.message,name:Lt(t),rawStack:t.stack,rawException:t}}function Lt(t){var e=t.name&&t.name.length&&t.name,r=t.constructor.name&&t.constructor.name.length&&t.constructor.name;return e&&r?"Error"===e?r:e:e||r}var jt={guessFunctionName:function(){return"?"},guessErrorClass:function(t){if(!t||!t.match)return["Unknown error. There was no error message to display.",""];var e=t.match(Tt),r="(unknown)";return e&&(r=e[e.length-1],t=(t=t.replace((e[e.length-2]||"")+r+":","")).replace(/(^[\s]+|[\s]+$)/g,"")),[r,t]},gatherContext:function(){return null},parse:function(t,e){var r=t;if(r.nested||r.cause){for(var n=[];r;)n.push(new Mt(r,e)),r=r.nested||r.cause,e=0;return n[0].traceChain=n,n[0]}return new Mt(r,e)},Stack:Mt,Frame:Pt};function Nt(t,e,r){if(t.err&&"DOMException"===jt.Stack(t.err).name){var n=new Error;n.name=t.err.name,n.message=t.err.message,n.stack=t.err.stack,n.nested=t.err,t.err=n}r(null,t)}function Dt(t,e,r){if(t.data=t.data||{},t.err)try{t.stackInfo=t.err._savedStackTrace||jt.parse(t.err,t.skipFrames),e.addErrorContext&&function(t){var e=[],r=t.err;for(e.push(r);r.nested||r.cause;)r=r.nested||r.cause,e.push(r);!function(t,e){var r=t.data.custom||{},n=!1;try{for(var o=0;o<e.length;++o)e[o].hasOwnProperty("rollbarContext")&&(r=u(r,x(e[o].rollbarContext)),n=!0);n&&(t.data.custom=r)}catch(e){t.diagnostic.error_context="Failed: "+e.message}}(t,e)}(t)}catch(e){vt.error("Error while parsing the error object.",e);try{t.message=t.err.message||t.err.description||t.message||String(t.err)}catch(e){t.message=String(t.err)||String(e)}delete t.err}r(null,t)}function Ft(t,e,r){t.message||t.stackInfo||t.custom||r(new Error("No message, stack info, or custom data"),null),r(null,t)}function Bt(t,e,r){var n=e.payload&&e.payload.environment||e.environment;t.data=u(t.data,{environment:n,level:t.level,endpoint:e.endpoint,platform:"browser",framework:"browser-js",language:"javascript",server:{},uuid:t.uuid,notifier:{name:"rollbar-browser-js",version:e.version},custom:t.custom}),r(null,t)}function Ut(t,e,r){t.stackInfo?t.stackInfo.traceChain?function(t,e,r){for(var n=t.stackInfo.traceChain,o=[],i=n.length,a=0;a<i;a++){var s=zt(t,n[a],e);o.push(s)}T(t,"data.body",{trace_chain:o}),r(null,t)}(t,e,r):function(t,e,r){if(Gt(t))T(t,"data.body",{trace:zt(t,t.stackInfo,e)}),r(null,t);else{var n=t.stackInfo,o=jt.guessErrorClass(n.message),i=Wt(n,o[0],e),a=o[1];t.message=i+": "+a,Yt(t,0,r)}}(t,e,r):Yt(t,0,r)}function Yt(t,e,r){var n=t.message,o=t.custom;n||(n="Item sent with null or missing arguments.");var i={body:n};o&&(i.extra=u(o)),T(t,"data.body",{message:i}),r(null,t)}function Gt(t){var e=t.stackInfo.stack;return e&&0===e.length&&t._unhandledStackInfo&&t._unhandledStackInfo.stack&&(e=t._unhandledStackInfo.stack),e}function zt(t,e,r){var n=t&&t.data.description,o=t&&t.custom,i=Gt(t),a=jt.guessErrorClass(e.message),s={exception:{class:Wt(e,a[0],r),message:a[1]}};if(n&&(s.exception.description=n),i){var c,l,f,h,p,d,v,y;for(0===i.length&&(s.exception.stack=e.rawStack,s.exception.raw=String(e.rawException)),s.frames=[],v=0;v<i.length;++v)l={filename:(c=i[v]).url?g(c.url):"(unknown)",lineno:c.line||null,method:c.func&&"?"!==c.func?c.func:"[anonymous]",colno:c.column},r.sendFrameUrl&&(l.url=c.url),l.method&&l.method.endsWith&&l.method.endsWith("_rollbar_wrapped")||(f=h=p=null,(d=c.context?c.context.length:0)&&(y=Math.floor(d/2),h=c.context.slice(0,y),f=c.context[y],p=c.context.slice(y)),f&&(l.code=f),(h||p)&&(l.context={},h&&h.length&&(l.context.pre=h),p&&p.length&&(l.context.post=p)),c.args&&(l.args=c.args),s.frames.push(l));s.frames.reverse(),o&&(s.extra=u(o))}return s}function Wt(t,e,r){return t.name?t.name:r.guessErrorClass?e:"(unknown)"}function Zt(t,e,r){t._isUncaught&&(t.data._isUncaught=!0),t._originalArgs&&(t.data._originalArgs=t._originalArgs),r(null,t)}function Vt(t,e,r){var n=e.payload||{};n.body&&delete n.body,t.data=u(t.data,n),r(null,t)}function Ht(t,e,r){t.telemetryEvents&&T(t,"data.body.telemetry",t.telemetryEvents),r(null,t)}function Jt(t,e,r){if(t.message){var n="data.body.trace_chain.0",o=R(t,n);if(o||(o=R(t,n="data.body.trace")),o){if(!o.exception||!o.exception.description)return T(t,n+".exception.description",t.message),void r(null,t);var i=R(t,n+".extra")||{};T(t,n+".extra",u(i,{message:t.message}))}r(null,t)}else r(null,t)}function Xt(t){return function(e,r,n){var o,i=u(e),a=null;try{p(r.transform)&&(a=r.transform(i.data,e))}catch(o){return r.transform=null,t.error("Error while calling custom transform() function. Removing custom transform().",o),void n(null,e)}(function(t){var e=l(t);return null!=t&&("object"==e||"function"==e)})(o=a)&&f(o.then,"function")?a.then((function(t){t&&(i.data=t),n(null,i)}),(function(t){n(t,e)})):n(null,i)}}function Kt(t,e,r){if(!e.sendConfig)return r(null,t);var n=R(t,"data.custom")||{};n._rollbarConfig=e,t.data.custom=n,r(null,t)}function qt(t,e){p(t[e])&&(t[e]=t[e].toString())}function Qt(t,e,r){var n=e._configuredOptions;qt(n,"transform"),qt(n,"checkIgnore"),qt(n,"onSendCallback"),delete n.accessToken,t.data.notifier.configured_options=n,r(null,t)}function $t(t,e,r){var n=u(t.notifier.client.notifier.diagnostic,t.diagnostic);if(R(t,"err._isAnonymous")&&(n.is_anonymous=!0),t._isUncaught&&(n.is_uncaught=t._isUncaught),t.err)try{n.raw_error={message:t.err.message,name:t.err.name,constructor_name:t.err.constructor&&t.err.constructor.name,filename:t.err.fileName,line:t.err.lineNumber,column:t.err.columnNumber,stack:t.err.stack}}catch(t){n.raw_error={failed:String(t)}}t.data.notifier.diagnostic=u(t.data.notifier.diagnostic,n),r(null,t)}function te(t,e){return!R(e,"plugins.jquery.ignoreAjaxErrors")||!R(t,"body.message.extra.isAjax")}function ee(t,e){var r=t.level,n=y[r]||0,o=e.reportLevel;return!(n<(y[o]||0))}function re(t,e,r){if(!t)return!r;var n,o,i=t.frames;if(!i||0===i.length)return!r;for(var a=e.length,s=i.length,u=0;u<s;u++){if(!f(n=i[u].filename,"string"))return!r;for(var c=0;c<a;c++)if(o=e[c],new RegExp(o).test(n))return!0}return!1}function ne(t,e,r,n){var o,i,a=!1;"blocklist"===r&&(a=!0);try{if(o=a?e.hostBlockList:e.hostSafeList,i=R(t,"body.trace_chain")||[R(t,"body.trace")],!o||0===o.length)return!a;if(0===i.length||!i[0])return!a;for(var s=i.length,u=0;u<s;u++)if(re(i[u],o,a))return!0}catch(t){a?e.hostBlockList=null:e.hostSafeList=null;var c=a?"hostBlockList":"hostSafeList";return n.error("Error while reading your configuration's "+c+" option. Removing custom "+c+".",t),!a}return!1}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ie,ae={scrubFields:[].concat(function(t){return function(t){if(Array.isArray(t))return oe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return oe(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","X-Rollbar-Access-Token","secret_key","secretKey","secretToken"]),["cc-number","card number","cardnumber","cardnum","ccnum","ccnumber","cc num","creditcardnumber","credit card number","newcreditcardnumber","new credit card","creditcardno","credit card no","card#","card #","cc-csc","cvc","cvc2","cvv2","ccv2","security code","card verification","name on credit card","name on card","nameoncard","cardholder","card holder","name des karteninhabers","ccname","card type","cardtype","cc type","cctype","payment type","expiration date","expirationdate","expdate","cc-exp","ccmonth","ccyear"])};function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ce(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(r),!0).forEach((function(e){fe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,he(n.key),n)}}function fe(t,e,r){return(e=he(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function he(t){var e=function(t,e){if("object"!=se(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==se(e)?e:e+""}var pe=null,de=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),vt.init({logLevel:e.logLevel||"error"}),this.options=M(ye,e,null,vt),this.options._configuredOptions=e,this.components=this.components||{};var n=this.components.telemeter,i=this.components.instrumenter;this.wrapGlobals=this.components.wrapGlobals,this.scrub=this.components.scrub;var a=this.components.truncation,s=this.components.tracing,u=this.components.replay,c=new It(a),l=new ht(this.options,c,o,a);if(s&&(this.tracing=new s(ve(),l,this.options),this.tracing.initSession()),n&&(this.telemeter=new n(this.options,this.tracing)),u&&"undefined"!=typeof window){var f=this.options.replay;this.replay=new u({tracing:this.tracing,telemeter:this.telemeter,options:f}),f.enabled&&f.autoStart&&this.replay.recorder.start()}this.client=r||new q(this.options,l,vt,this.telemeter,this.tracing,this.replay,"browser");var h=ve(),d="undefined"!=typeof document&&document;this.isChrome=h.chrome&&h.chrome.runtime,this.anonymousErrorsPending=0,function(t,e,r){var n;t.addTransform(Nt).addTransform(Dt).addTransform(Ft).addTransform(Bt).addTransform(function(t){return function(e,r,n){var o={};t&&t.location&&(o.url=t.location.href,o.query_string=t.location.search);var i="$remote_ip";r.captureIp?!0!==r.captureIp&&(i+="_anonymize"):i=null,i&&(o.user_ip=i),Object.keys(o).length>0&&T(e,"data.request",o),n(null,e)}}(r)).addTransform(function(t){return function(e,r,n){if(!t)return n(null,e);var o=t.navigator||{},i=t.screen||{};T(e,"data.client",{runtime_ms:e.timestamp-t._rollbarStartTime,timestamp:Math.round(e.timestamp/1e3),javascript:{browser:o.userAgent,language:o.language,cookie_enabled:o.cookieEnabled,screen:{width:i.width,height:i.height}}}),n(null,e)}}(r)).addTransform(function(t){return function(e,r,n){if(!t||!t.navigator)return n(null,e);for(var o,i=[],a=t.navigator.plugins||[],s=0,u=a.length;s<u;++s)o=a[s],i.push({name:o.name,description:o.description});T(e,"data.client.javascript.plugins",i),n(null,e)}}(r)).addTransform(Ut).addTransform(Jt).addTransform(Ht).addTransform(Kt).addTransform((n=e.scrub,function(t,e,r){if(n){var o=e.scrubFields||[],i=e.scrubPaths||[];t.data=n(t.data,o,i)}r(null,t)})).addTransform(Vt).addTransform(Xt(vt)).addTransform(Qt).addTransform($t).addTransform(Zt)}(this.client.notifier,this,h),function(t){t.addPredicate(ee).addPredicate(te).addPredicate(function(t){return function(e,r){var n=!!e._isUncaught;delete e._isUncaught;var o=e._originalArgs;delete e._originalArgs;try{p(r.onSendCallback)&&r.onSendCallback(n,o,e)}catch(e){r.onSendCallback=null,t.error("Error while calling onSendCallback, removing",e)}try{if(p(r.checkIgnore)&&r.checkIgnore(n,o,e))return!1}catch(e){r.checkIgnore=null,t.error("Error while calling custom checkIgnore(), removing",e)}return!0}}(vt)).addPredicate(function(t){return function(e,r){return!ne(e,r,"blocklist",t)}}(vt)).addPredicate(function(t){return function(e,r){return ne(e,r,"safelist",t)}}(vt)).addPredicate(function(t){return function(e,r){var n,o,i,a,s,u;try{if(!(i=r.ignoredMessages)||0===i.length)return!0;if(0===(u=function(t){var e=t.body,r=[];if(e.trace_chain)for(var n=e.trace_chain,o=0;o<n.length;o++){var i=n[o];r.push(R(i,"exception.message"))}return e.trace&&r.push(R(e,"trace.exception.message")),e.message&&r.push(R(e,"message.body")),r}(e)).length)return!0;for(a=i.length,n=0;n<a;n++)for(s=new RegExp(i[n],"gi"),o=0;o<u.length;o++)if(s.test(u[o]))return!1}catch(e){r.ignoredMessages=null,t.error("Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return!0}}(vt))}(this.client.queue),this.setupUnhandledCapture(),i&&(this.instrumenter=new i(this.options,this.client.telemeter,this,h,d),this.instrumenter.instrument()),this.setSessionAttributesFromOptions(e),this.rollbar=this}return function(t,e,r){return e&&le(t.prototype,e),r&&le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"global",value:function(t){return this.client.global(t),this}},{key:"configure",value:function(t,e){var r,n,o;t.logLevel&&vt.init({logLevel:t.logLevel}),this.setSessionAttributesFromOptions(t);var i=this.options,a={};return e&&(a={payload:e}),this.options=M(i,t,a,vt),this.options._configuredOptions=M(i._configuredOptions,t,a),null===(r=this.tracing)||void 0===r||r.configure(this.options),null===(n=this.replay)||void 0===n||n.configure(this.options),this.client.configure(this.options,e),null===(o=this.instrumenter)||void 0===o||o.configure(this.options),this.setupUnhandledCapture(),this}},{key:"lastError",value:function(){return this.client.lastError}},{key:"log",value:function(){var t=this._createItem(arguments),e=t.uuid;return this.client.log(t),{uuid:e}}},{key:"debug",value:function(){var t=this._createItem(arguments),e=t.uuid;return this.client.debug(t),{uuid:e}}},{key:"info",value:function(){var t=this._createItem(arguments),e=t.uuid;return this.client.info(t),{uuid:e}}},{key:"warn",value:function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warn(t),{uuid:e}}},{key:"warning",value:function(){var t=this._createItem(arguments),e=t.uuid;return this.client.warning(t),{uuid:e}}},{key:"error",value:function(){var t=this._createItem(arguments),e=t.uuid;return this.client.error(t),{uuid:e}}},{key:"critical",value:function(){var t=this._createItem(arguments),e=t.uuid;return this.client.critical(t),{uuid:e}}},{key:"buildJsonPayload",value:function(t){return this.client.buildJsonPayload(t)}},{key:"sendJsonPayload",value:function(t){return this.client.sendJsonPayload(t)}},{key:"triggerDirectReplay",value:function(t){return this.triggerReplay(ce({type:"direct"},t))}},{key:"triggerReplay",value:function(t){return this.replay?this.replay.triggerReplay(t):null}},{key:"setupUnhandledCapture",value:function(){var t=ve();this.unhandledExceptionsInitialized||(this.options.captureUncaught||this.options.handleUncaughtExceptions)&&(function(t,e,r){if(t){var n;if("function"==typeof e._rollbarOldOnError)n=e._rollbarOldOnError;else if(t.onerror){for(n=t.onerror;n._rollbarOldOnError;)n=n._rollbarOldOnError;e._rollbarOldOnError=n}e.handleAnonymousErrors();var o=function(){var r=Array.prototype.slice.call(arguments,0);!function(t,e,r,n){t._rollbarWrappedError&&(n[4]||(n[4]=t._rollbarWrappedError),n[5]||(n[5]=t._rollbarWrappedError._rollbarContext),t._rollbarWrappedError=null);var o=e.handleUncaughtException.apply(e,n);r&&r.apply(t,n),"anonymous"===o&&(e.anonymousErrorsPending+=1)}(t,e,n,r)};t.onerror=o}}(t,this),this.wrapGlobals&&this.options.wrapGlobalEventHandlers&&this.wrapGlobals(t,this),this.unhandledExceptionsInitialized=!0),this.unhandledRejectionsInitialized||(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections)&&(function(t,e,r){if(t){"function"==typeof t._rollbarURH&&t._rollbarURH.belongsToShim&&t.removeEventListener("unhandledrejection",t._rollbarURH);var n=function(t){var r,n,o;try{r=t.reason}catch(t){r=void 0}try{n=t.promise}catch(t){n="[unhandledrejection] error getting `promise` from event"}try{o=t.detail,!r&&o&&(r=o.reason,n=o.promise)}catch(t){}r||(r="[unhandledrejection] error getting `reason` from event"),e&&e.handleUnhandledRejection&&e.handleUnhandledRejection(r,n)};n.belongsToShim=void 0,t._rollbarURH=n,t.addEventListener("unhandledrejection",n)}}(t,this),this.unhandledRejectionsInitialized=!0)}},{key:"handleUncaughtException",value:function(t,e,r,n,o,i){if(this.options.captureUncaught||this.options.handleUncaughtExceptions){if(this.options.inspectAnonymousErrors&&this.isChrome&&null===o&&""===e)return"anonymous";var a,s=I(t,e,r,n,o,"onerror","uncaught exception",jt);v(o)?(a=this._createItem([t,o,i]))._unhandledStackInfo=s:v(e)?(a=this._createItem([t,e,i]))._unhandledStackInfo=s:(a=this._createItem([t,i])).stackInfo=s,a.level=this.options.uncaughtErrorLevel,a._isUncaught=!0,this.client.log(a)}}},{key:"handleAnonymousErrors",value:function(){if(this.options.inspectAnonymousErrors&&this.isChrome){var t=this;try{Error.prepareStackTrace=function(e,r){if(t.options.inspectAnonymousErrors&&t.anonymousErrorsPending){if(t.anonymousErrorsPending-=1,!e)return;e._isAnonymous=!0,t.handleUncaughtException(e.message,null,null,null,e)}return e.stack}}catch(t){this.options.inspectAnonymousErrors=!1,this.error("anonymous error handler failed",t)}}}},{key:"handleUnhandledRejection",value:function(t,e){if(this.options.captureUnhandledRejections||this.options.handleUnhandledRejections){var r="unhandled rejection was null or undefined!";if(t)if(t.message)r=t.message;else{var n=k(t);n.value&&(r=n.value)}var o,i=t&&t._rollbarContext||e&&e._rollbarContext;v(t)?o=this._createItem([r,t,i]):(o=this._createItem([r,t,i])).stackInfo=I(r,"",0,0,null,"unhandledrejection","",jt),o.level=this.options.uncaughtErrorLevel,o._isUncaught=!0,o._originalArgs=o._originalArgs||[],o._originalArgs.push(e),this.client.log(o)}}},{key:"wrap",value:function(t,e,r){try{var n;if(n=p(e)?e:function(){return e||{}},!p(t))return t;if(t._isWrap)return t;if(!t._rollbar_wrapped&&(t._rollbar_wrapped=function(){r&&p(r)&&r.apply(this,arguments);try{return t.apply(this,arguments)}catch(r){var e=r;throw e&&window._rollbarWrappedError!==e&&(f(e,"string")&&(e=new String(e)),e._rollbarContext=n()||{},e._rollbarContext._wrappedSource=t.toString(),window._rollbarWrappedError=e),e}},t._rollbar_wrapped._isWrap=!0,t.hasOwnProperty))for(var o in t)t.hasOwnProperty(o)&&"_rollbar_wrapped"!==o&&(t._rollbar_wrapped[o]=t[o]);return t._rollbar_wrapped}catch(e){return t}}},{key:"captureEvent",value:function(){var t=function(t){for(var e,r,n,o,i=0,a=t.length;i<a;++i)switch(h(o=t[i])){case"string":!e&&E(O,o)?e=o:!n&&E(A,o)&&(n=o);break;case"object":r=o}return{type:e||"manual",metadata:r||{},level:n}}(arguments);return this.client.captureEvent(t.type,t.metadata,t.level)}},{key:"setSessionUser",value:function(t){var e;null!==(e=this.tracing)&&void 0!==e&&e.session&&this.tracing.session.setUser(t)}},{key:"setSessionAttributes",value:function(t){var e;null!==(e=this.tracing)&&void 0!==e&&e.session&&(t=ce({},t),this.tracing.session.setAttributes(t))}},{key:"setSessionAttributesFromOptions",value:function(t){var e,r,n,o,i,a=t.person||(null===(e=t.payload)||void 0===e?void 0:e.person);a&&this.setSessionUser(a);var s=(null===(r=t.client)||void 0===r||null===(r=r.javascript)||void 0===r?void 0:r.code_version)||t.codeVersion||t.code_version||(null===(n=t.payload)||void 0===n||null===(n=n.client)||void 0===n||null===(n=n.javascript)||void 0===n?void 0:n.code_version)||(null===(o=t.payload)||void 0===o?void 0:o.code_version)||(null===(i=t.payload)||void 0===i?void 0:i.codeVersion);this.setSessionAttributes({"rollbar.codeVersion":s,"rollbar.notifier.name":"rollbar-browser-js","rollbar.notifier.version":t.version})}},{key:"captureDomContentLoaded",value:function(t,e){return e||(e=new Date),this.client.captureDomContentLoaded(e)}},{key:"captureLoad",value:function(t,e){return e||(e=new Date),this.client.captureLoad(e)}},{key:"loadFull",value:function(){vt.info("Unexpected Rollbar.loadFull() called on a Notifier instance. This can happen when Rollbar is loaded multiple times.")}},{key:"_createItem",value:function(t){return function(t,e,r,n,o){for(var i,a,s,u,c,l,f=[],p=[],d=0,v=t.length;d<v;++d){var y=h(l=t[d]);switch(p.push(y),y){case"undefined":break;case"string":i?f.push(l):i=l;break;case"function":u=C(e,l);break;case"date":f.push(l);break;case"error":case"domexception":case"exception":a?f.push(l):a=l;break;case"object":case"array":if(l instanceof Error||"undefined"!=typeof DOMException&&l instanceof DOMException){a?f.push(l):a=l;break}if(n&&"object"===y&&!c){for(var m=0,g=n.length;m<g;++m)if(void 0!==l[n[m]]){c=l;break}if(c)break}s?f.push(l):s=l;break;default:if(l instanceof Error||"undefined"!=typeof DOMException&&l instanceof DOMException){a?f.push(l):a=l;break}f.push(l)}}s&&(s=x(s)),f.length>0&&(s||(s=x({})),s.extraArgs=x(f));var b,w={message:i,err:a,custom:s,timestamp:P(),callback:u,notifier:r,diagnostic:{},uuid:(b=P(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=(b+16*Math.random())%16|0;return b=Math.floor(b/16),("x"===t?e:7&e|8).toString(16)})))};return w.data=w.data||{},function(t,e){e&&void 0!==e.level&&(t.level=e.level,delete e.level),e&&void 0!==e.skipFrames&&(t.skipFrames=e.skipFrames,delete e.skipFrames)}(w,s),n&&c&&(w.request=c),o&&(w.lambdaContext=o),w._originalArgs=t,w.diagnostic.original_arg_types=p,w}(t,vt,this)}}],[{key:"init",value:function(e,r){return pe?pe.global(e).configure(e):pe=new t(e,r)}},{key:"setComponents",value:function(e){t.prototype.components=e}},{key:"callInstance",value:function(t,e){if(pe)return pe[t].apply(pe,e);var r="Rollbar is not initialized";vt.error(r);var n=function(t){for(var e=0,r=t.length;e<r;++e)if(p(t[e]))return t[e]}(e);n&&n(new Error(r))}}])}();function ve(){return"undefined"!=typeof window&&window||"undefined"!=typeof self&&self}ie=de,fe(de,"global",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("global",e)})),fe(de,"configure",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("configure",e)})),fe(de,"lastError",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("lastError",e)})),fe(de,"log",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("log",e)})),fe(de,"debug",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("debug",e)})),fe(de,"info",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("info",e)})),fe(de,"warn",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("warn",e)})),fe(de,"warning",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("warning",e)})),fe(de,"error",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("error",e)})),fe(de,"critical",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("critical",e)})),fe(de,"buildJsonPayload",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("buildJsonPayload",e)})),fe(de,"sendJsonPayload",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("sendJsonPayload",e)})),fe(de,"wrap",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("wrap",e)})),fe(de,"captureEvent",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return ie.callInstance("captureEvent",e)}));var ye={environment:"unknown",version:"3.0.0-beta.4",scrubFields:ae.scrubFields,logLevel:"debug",reportLevel:"debug",uncaughtErrorLevel:"error",endpoint:"api.rollbar.com/api/1/item/",verbose:!1,enabled:!0,transmit:!0,sendConfig:!1,includeItemsInTelemetry:!0,captureIp:!0,inspectAnonymousErrors:!0,ignoreDuplicateErrors:!0,wrapGlobalEventHandlers:!1,replay:{enabled:!1,autoStart:!0,triggerDefaults:{samplingRatio:1,preDuration:300,postDuration:5},triggers:[{type:"occurrence",level:["error","critical"]}],debug:{logErrors:!0,logEmits:!1},inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,maskInputOptions:{password:!0,email:!1,tel:!1,text:!1,color:!1,date:!1,"datetime-local":!1,month:!1,number:!1,range:!1,search:!1,time:!1,url:!1,week:!1},maskAllInputs:!1,blockClass:"rb-block",maskTextClass:"rb-mask",ignoreClass:"rb-ignore",slimDOMOptions:{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}},tracing:{enabled:!1,endpoint:"api.rollbar.com/api/1/session/"}},me=de,ge=["otelAttributes"];function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ke(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?we(Object(r),!0).forEach((function(e){Se(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Se(t,e,r){return(e=Ce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ce(n.key),n)}}function Ce(t){var e=function(t,e){if("object"!=be(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==be(e)?e:e+""}function xe(t){return[Math.trunc(t/1e3),Math.round(t%1e3*1e6)]}function Oe(t,e){return e||{error:"error",manual:"info"}[t]||"info"}var Ae=function(t,e,r){return e&&Ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.queue=[],this.options=u(e);var o=this.options.maxTelemetryEvents||100;this.maxQueueSize=Math.max(0,Math.min(o,100)),this.tracing=r,this.telemetrySpan=null===(n=this.tracing)||void 0===n?void 0:n.startSpan("rollbar-telemetry",{})}),[{key:"configure",value:function(t){var e=this.options;this.options=u(e,t);var r=this.options.maxTelemetryEvents||100,n=Math.max(0,Math.min(r,100)),o=0;this.queue.length>n&&(o=this.queue.length-n),this.maxQueueSize=n,this.queue.splice(0,o)}},{key:"copyEvents",value:function(){var t=Array.prototype.slice.call(this.queue,0);if(p(this.options.filterTelemetry))try{for(var e=t.length;e--;)this.options.filterTelemetry(t[e])&&t.splice(e,1)}catch(t){this.options.filterTelemetry=null}return t=(t=t.filter((function(t){return"connectivity"!==t.type}))).map((function(t){return t.otelAttributes,function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,ge)}))}},{key:"exportTelemetrySpan",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.telemetrySpan&&(this.telemetrySpan.end(t),this.telemetrySpan=this.tracing.startSpan("rollbar-telemetry",{}))}},{key:"capture",value:function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a={level:Oe(t,r),type:t,timestamp_ms:o||P(),body:e,source:"client"};n&&(a.uuid=n),i&&(a.otelAttributes=i);try{if(p(this.options.filterTelemetry)&&this.options.filterTelemetry(a))return!1}catch(t){this.options.filterTelemetry=null}return this.push(a),a}},{key:"captureEvent",value:function(t,e,r,n){return this.capture(t,e,r,n)}},{key:"captureError",value:function(t,e,r,n){var o,i=t.message||String(t),a={message:i};t.stack&&(a.stack=t.stack);var s={message:i,level:e,type:"error",uuid:r};return null===(o=this.telemetrySpan)||void 0===o||o.addEvent("rollbar-occurrence-event",s,xe(n)),this.capture("error",a,e,r,n,s)}},{key:"captureLog",value:function(t,e,r,n){var o,i,a=null;return r?(a={message:t,level:e,type:"message",uuid:r},null===(o=this.telemetrySpan)||void 0===o||o.addEvent("rollbar-occurrence-event",a,xe(n))):(a={message:t,level:e},null===(i=this.telemetrySpan)||void 0===i||i.addEvent("rollbar-log-event",a,xe(n))),this.capture("log",{message:t},e,r,n,a)}},{key:"captureNetwork",value:function(t,e,r,n){var o,i;e=e||"xhr",t.subtype=t.subtype||e,n&&(t.request=n);var a=this.levelFromStatus(t.status_code),s=1e6*(t.end_time_ms||0),u={type:t.subtype,method:t.method,url:t.url,statusCode:t.status_code,"request.headers":JSON.stringify(t.request_headers||{}),"response.headers":JSON.stringify((null===(o=t.response)||void 0===o?void 0:o.headers)||{}),"response.timeUnixNano":s.toString()};return null===(i=this.telemetrySpan)||void 0===i||i.addEvent("rollbar-network-event",u,xe(t.start_time_ms)),this.capture("network",t,a,r,t.start_time_ms,u)}},{key:"levelFromStatus",value:function(t){return t>=200&&t<400?"info":0===t||t>=400?"error":"info"}},{key:"captureDom",value:function(t,e,r,n,o){var i={subtype:t,element:e};return void 0!==r&&(i.value=r),void 0!==n&&(i.checked=n),this.capture("dom",i,"info",o)}},{key:"captureInput",value:function(t){var e,r=t.type,n=t.isSynthetic,o=t.element,i=t.value,a=t.timestamp,s="rollbar-input-event",u={type:s,subtype:r,element:o,value:i},c={type:r,isSynthetic:n,element:o,value:i,endTimeUnixNano:xe(a)},l=this._getRepeatedEvent(s,c);return l?this._updateRepeatedEvent(l,c,a):(null===(e=this.telemetrySpan)||void 0===e||e.addEvent(s,c,xe(a)),this.capture("dom",u,"info",null,a,c))}},{key:"captureClick",value:function(t){var e,r=t.type,n=t.isSynthetic,o=t.element,i=t.timestamp,a="rollbar-click-event",s={type:a,subtype:r,element:o},u={type:r,isSynthetic:n,element:o,endTimeUnixNano:xe(i)},c=this._getRepeatedEvent(a,u);return c?this._updateRepeatedEvent(c,u,i):(null===(e=this.telemetrySpan)||void 0===e||e.addEvent(a,u,xe(i)),this.capture("dom",s,"info",null,i,u))}},{key:"_getRepeatedEvent",value:function(t,e){var r=this._lastEvent(this.queue);if(r&&r.body.type===t&&r.otelAttributes.target===e.target)return r}},{key:"_updateRepeatedEvent",value:function(t,e,r){var n=Math.max(r-t.timestamp_ms,1);t.body.value=e.value,t.otelAttributes.value=e.value,t.otelAttributes.height=e.height,t.otelAttributes.width=e.width,t.otelAttributes.textZoomRatio=e.textZoomRatio,t.otelAttributes.endTimeUnixNano=xe(r),t.otelAttributes.durationUnixNano=xe(n),t.otelAttributes.count=(t.otelAttributes.count||1)+1,t.otelAttributes.rate=t.otelAttributes.count/(n/1e3)}},{key:"_lastEvent",value:function(t){return t.length>0?t[t.length-1]:null}},{key:"captureFocus",value:function(t){var e,r=t.type,n=t.isSynthetic,o=t.element,i=t.timestamp,a="rollbar-focus-event",s={type:a,subtype:r,element:o},u={type:r,isSynthetic:n,element:o};return null===(e=this.telemetrySpan)||void 0===e||e.addEvent(a,u,xe(i)),this.capture("dom",s,"info",null,i,u)}},{key:"captureResize",value:function(t){var e,r=t.type,n=t.isSynthetic,o=t.width,i=t.height,a=t.textZoomRatio,s=t.timestamp,u="rollbar-resize-event",c={type:u,subtype:r,width:o,height:i,textZoomRatio:a},l={type:r,isSynthetic:n,width:o,height:i,textZoomRatio:a},f=this._getRepeatedEvent(u,l);return f?this._updateRepeatedEvent(f,l,s):(null===(e=this.telemetrySpan)||void 0===e||e.addEvent(u,l,xe(s)),this.capture("dom",c,"info",null,s,l))}},{key:"captureDragDrop",value:function(t){var e,r=t.type,n=t.isSynthetic,o=t.element,i=t.dropEffect,a=t.effectAllowed,s=t.kinds,u=t.mediaTypes,c=t.timestamp,l="rollbar-dragdrop-event",f={type:l,subtype:r,isSynthetic:n},h={type:r,isSynthetic:n};return"dragstart"===r&&(f=ke(ke({},f),{},{element:o,dropEffect:i,effectAllowed:a}),h=ke(ke({},h),{},{element:o,dropEffect:i,effectAllowed:a})),"drop"===r&&(f=ke(ke({},f),{},{element:o,dropEffect:i,effectAllowed:a,kinds:s,mediaTypes:u}),h=ke(ke({},h),{},{element:o,dropEffect:i,effectAllowed:a,kinds:s,mediaTypes:u})),null===(e=this.telemetrySpan)||void 0===e||e.addEvent(l,h,xe(c)),this.capture("dom",f,"info",null,c,h)}},{key:"captureNavigation",value:function(t,e,r,n){var o;return null===(o=this.telemetrySpan)||void 0===o||o.addEvent("rollbar-navigation-event",{"previous.url.full":t,"url.full":e},xe(n)),this.capture("navigation",{from:t,to:e},"info",r,n)}},{key:"captureDomContentLoaded",value:function(t){return this.capture("navigation",{subtype:"DOMContentLoaded"},"info",void 0,t&&t.getTime())}},{key:"captureLoad",value:function(t){return this.capture("navigation",{subtype:"load"},"info",void 0,t&&t.getTime())}},{key:"captureConnectivityChange",value:function(t){var e,r=t.type,n=t.isSynthetic,o=t.timestamp,i="rollbar-connectivity-event",a={type:i,subtype:r},s={type:r,isSynthetic:n};return null===(e=this.telemetrySpan)||void 0===e||e.addEvent(i,s,xe(o)),this.capture("connectivity",a,"info",null,o,s)}},{key:"_captureRollbarItem",value:function(t){if(this.options.includeItemsInTelemetry)return t.err?this.captureError(t.err,t.level,t.uuid,t.timestamp):t.message?this.captureLog(t.message,t.level,t.uuid,t.timestamp):t.custom?this.capture("log",t.custom,t.level,t.uuid,t.timestamp):void 0}},{key:"push",value:function(t){this.queue.push(t),this.queue.length>this.maxQueueSize&&this.queue.shift()}}]);function Ee(t){return"string"!=typeof t&&(t=String(t)),t.toLowerCase()}function _e(t){this.map={},t instanceof _e?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}_e.prototype.append=function(t,e){t=Ee(t),e=function(t){return"string"!=typeof t&&(t=String(t)),t}(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},_e.prototype.get=function(t){return t=Ee(t),this.has(t)?this.map[t]:null},_e.prototype.has=function(t){return this.map.hasOwnProperty(Ee(t))},_e.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},_e.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),function(t){return{next:function(){var e=t.shift();return{done:void 0===e,value:e}}}}(t)};var Re=function(t){return"undefined"==typeof Headers?new _e(t):new Headers(t)},Te=function(t,e,r,n,o){var i=t[e];t[e]=r(i),n&&n[o].push([t,e,i])},Pe=function(t,e,r){var n,o,i,a,s=f(t,"object"),u=f(t,"array"),c=[];if(r=r||{obj:[],mapped:[]},s){if(a=r.obj.indexOf(t),s&&-1!==a)return r.mapped[a]||r.obj[a];r.obj.push(t),a=r.obj.length-1}if(s)for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&c.push(n);else if(u)for(i=0;i<t.length;++i)c.push(i);var l=s?{}:[],h=!0;for(i=0;i<c.length;++i)o=t[n=c[i]],l[n]=e(n,o,r),h=h&&l[n]===t[n];return s&&!h&&(r.mapped[a]=l),h?t:l};function Me(t,e){var r=e.split("."),n=r.length-1;try{for(var o=0;o<=n;++o)o<n?t=t[r[o]]:t[r[o]]="********"}catch(t){}}var Le=function(t,e,r){if(e=e||[],r)for(var n=0;n<r.length;++n)Me(t,r[n]);var o=function(t){for(var e,r=[],n=0;n<t.length;++n)e="^\\[?(%5[bB])?"+t[n]+"\\[?(%5[bB])?\\]?(%5[dD])?$",r.push(new RegExp(e,"i"));return r}(e),i=function(t){for(var e,r=[],n=0;n<t.length;++n)e="\\[?(%5[bB])?"+t[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",r.push(new RegExp("("+e+"=)([^&\\n]+)","igm"));return r}(e);function a(t,e){return e+"********"}return Pe(t,(function t(e,r,n){var s=function(t,e){var r;for(r=0;r<o.length;++r)if(o[r].test(t)){e="********";break}return e}(e,r);return s===r?f(r,"object")||f(r,"array")?Pe(r,t,n):function(t){var e;if(f(t,"string"))for(e=0;e<i.length;++e)t=t.replace(i[e],a);return t}(s):s}))};function je(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ne(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ne(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function De(t){return function(t){for(var e,r,n=[],o=0,i=t.length-1;i>=0;i--){if(e=Fe(t[i]),r=o+3*n.length+e.length,i<t.length-1&&r>=83){n.unshift("...");break}n.unshift(e),o+=e.length}return n.join(" > ")}(function(t){for(var e,r=[],n=0;t&&n<5&&"html"!==(e=Be(t)).tagName;n++)r.unshift(e),t=t.parentNode;return r}(t))}function Fe(t){if(!t||!t.tagName)return"";var e=[t.tagName];t.id&&e.push("#"+t.id),t.classes&&e.push("."+t.classes.join("."));for(var r=0;r<t.attributes.length;r++)e.push("["+t.attributes[r].key+'="'+t.attributes[r].value+'"]');return e.join("")}function Be(t){if(!t||!t.tagName)return null;var e,r,n,o,i={};i.tagName=t.tagName.toLowerCase(),t.id&&(i.id=t.id),(e=t.className)&&"string"==typeof e&&(i.classes=e.split(/\s+/));var a=["type","name","title","alt"];for(i.attributes=[],o=0;o<a.length;o++)r=a[o],(n=t.getAttribute(r))&&i.attributes.push({key:r,value:n});return i}function Ue(t){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t){return function(t){if(Array.isArray(t))return Ve(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ze(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ze(n.key),n)}}function ze(t){var e=function(t,e){if("object"!=Ue(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=Ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==Ue(e)?e:e+""}function We(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ze(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ze(t,e){if(t){if("string"==typeof t)return Ve(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ve(t,e):void 0}}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var He={network:!0,networkResponseHeaders:!1,networkResponseBody:!1,networkRequestHeaders:!1,networkRequestBody:!1,networkErrorOnHttp5xx:!1,networkErrorOnHttp4xx:!1,networkErrorOnHttp0:!1,log:!0,dom:!0,navigation:!0,connectivity:!0,contentSecurityPolicy:!0,errorOnContentSecurityPolicy:!1};function Je(t,e){for(var r;t[e].length;)(r=t[e].shift())[0][r[1]]=r[2]}function Xe(t){return"undefined"!=typeof URL&&t instanceof URL}var Ke=function(t,e,r){return e&&Ge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,r){(e=ze(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"deinstrumentConnectivity",(function(){this.removeListeners("connectivity")})),this.options=e;var a=e.autoInstrument;!1===e.enabled||!1===a?this.autoInstrument={}:(f(a,"object")||(a=He),this.autoInstrument=u(He,a)),this.configureScrubbing(),this.telemeter=r,this.rollbar=n,this.diagnostic=n.client.notifier.diagnostic,this._window=o||{},this._document=i||{},this.replacements={network:[],log:[],navigation:[],connectivity:[]},this.eventRemovers={dom:[],connectivity:[],contentsecuritypolicy:[]},this._location=this._window.location,this._lastHref=this._location&&this._location.href}),[{key:"configureScrubbing",value:function(){var t,e,r,n,o,i,a,s,u,c,l=this.options;this.scrubTelemetryInputs=!!(null!==(t=l.scrubTelemetryInputs)&&void 0!==t?t:null===(e=l.replay)||void 0===e?void 0:e.maskAllInputs),this.telemetryScrubber=l.telemetryScrubber,this.defaultValueScrubber=function(t){var e,r=[],n=We(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;r.push(new RegExp(o,"i"))}}catch(t){n.e(t)}finally{n.f()}return function(t){var e=function(t){if(!t||!t.attributes)return null;var e,r=We(t.attributes);try{for(r.s();!(e=r.n()).done;){var n=e.value;if("name"===n.key)return n.value}}catch(t){r.e(t)}finally{r.f()}return null}(t);if(!e)return!1;for(var n=0,o=r;n<o.length;n++)if(o[n].test(e))return!0;return!1}}(l.scrubFields),this.maskInputFn=null===(r=l.replay)||void 0===r?void 0:r.maskInputFn,this.maskInputOptions=(null===(n=l.replay)||void 0===n?void 0:n.maskInputOptions)||{},this.scrubClasses=[null===(o=l.replay)||void 0===o?void 0:o.blockClass,null===(i=l.replay)||void 0===i?void 0:i.ignoreClass,null===(a=l.replay)||void 0===a?void 0:a.maskTextClass].filter(Boolean),this.scrubSelectors=[null===(s=l.replay)||void 0===s?void 0:s.blockSelector,null===(u=l.replay)||void 0===u?void 0:u.ignoreSelector,null===(c=l.replay)||void 0===c?void 0:c.maskTextSelector].filter(Boolean)}},{key:"configure",value:function(t){this.options=u(this.options,t);var e=t.autoInstrument,r=u(this.autoInstrument);!1===t.enabled||!1===e?this.autoInstrument={}:(f(e,"object")||(e=He),this.autoInstrument=u(He,e)),this.configureScrubbing(),this.instrument(r)}},{key:"instrument",value:function(t){!this.autoInstrument.network||t&&t.network?!this.autoInstrument.network&&t&&t.network&&this.deinstrumentNetwork():this.instrumentNetwork(),!this.autoInstrument.log||t&&t.log?!this.autoInstrument.log&&t&&t.log&&this.deinstrumentConsole():this.instrumentConsole(),!this.autoInstrument.dom||t&&t.dom?!this.autoInstrument.dom&&t&&t.dom&&this.deinstrumentDom():this.instrumentDom(),!this.autoInstrument.navigation||t&&t.navigation?!this.autoInstrument.navigation&&t&&t.navigation&&this.deinstrumentNavigation():this.instrumentNavigation(),!this.autoInstrument.connectivity||t&&t.connectivity?!this.autoInstrument.connectivity&&t&&t.connectivity&&this.deinstrumentConnectivity():this.instrumentConnectivity(),!this.autoInstrument.contentSecurityPolicy||t&&t.contentSecurityPolicy?!this.autoInstrument.contentSecurityPolicy&&t&&t.contentSecurityPolicy&&this.deinstrumentContentSecurityPolicy():this.instrumentContentSecurityPolicy()}},{key:"deinstrumentNetwork",value:function(){Je(this.replacements,"network")}},{key:"instrumentNetwork",value:function(){var t=this;function e(e,r){e in r&&p(r[e])&&Te(r,e,(function(e){return t.rollbar.wrap(e)}))}if("XMLHttpRequest"in this._window){var r=this._window.XMLHttpRequest.prototype;Te(r,"open",(function(t){return function(e,r){var n=Xe(r);return(f(r,"string")||n)&&(r=n?r.toString():r,this.__rollbar_xhr?(this.__rollbar_xhr.method=e,this.__rollbar_xhr.url=r,this.__rollbar_xhr.status_code=null,this.__rollbar_xhr.start_time_ms=P(),this.__rollbar_xhr.end_time_ms=null):this.__rollbar_xhr={method:e,url:r,status_code:null,start_time_ms:P(),end_time_ms:null}),t.apply(this,arguments)}}),this.replacements,"network"),Te(r,"setRequestHeader",(function(e){return function(r,n){return this.__rollbar_xhr||(this.__rollbar_xhr={}),f(r,"string")&&f(n,"string")&&(t.autoInstrument.networkRequestHeaders&&(this.__rollbar_xhr.request_headers||(this.__rollbar_xhr.request_headers={}),this.__rollbar_xhr.request_headers[r]=n),"content-type"===r.toLowerCase()&&(this.__rollbar_xhr.request_content_type=n)),e.apply(this,arguments)}}),this.replacements,"network"),Te(r,"send",(function(r){return function(n){var o=this;function i(){if(o.__rollbar_xhr&&(null===o.__rollbar_xhr.status_code&&(o.__rollbar_xhr.status_code=0,t.autoInstrument.networkRequestBody&&(o.__rollbar_xhr.request=n),o.__rollbar_event=t.captureNetwork(o.__rollbar_xhr,"xhr",void 0)),o.readyState<2&&(o.__rollbar_xhr.start_time_ms=P()),o.readyState>3)){var e=P();o.__rollbar_xhr.end_time_ms=e;var r=null;if(o.__rollbar_xhr.response_content_type=o.getResponseHeader("Content-Type"),t.autoInstrument.networkResponseHeaders){var i=t.autoInstrument.networkResponseHeaders;r={};try{var a;if(!0===i){var s=o.getAllResponseHeaders();if(s){var u,c,l,f=We(s.trim().split(/[\r\n]+/));try{for(f.s();!(l=f.n()).done;)a=(u=l.value.split(": ")).shift(),c=u.join(": "),r[a]=c}catch(t){f.e(t)}finally{f.f()}}}else{var h,p=We(i);try{for(p.s();!(h=p.n()).done;){var d=h.value;r[d]=o.getResponseHeader(d)}}catch(t){p.e(t)}finally{p.f()}}}catch(t){}}var v=null;if(t.autoInstrument.networkResponseBody)try{v=o.responseText}catch(t){}var y=null;(v||r)&&(y={},v&&(t.isJsonContentType(o.__rollbar_xhr.response_content_type)?y.body=t.scrubJson(v):y.body=v),r&&(y.headers=r)),y&&(o.__rollbar_xhr.response=y);try{var m=o.status;m=1223===m?204:m,o.__rollbar_xhr.status_code=m,t.addOtelNetworkResponse(o.__rollbar_event,e,m),o.__rollbar_event.level=t.telemeter.levelFromStatus(m),t.errorOnHttpStatus(o.__rollbar_xhr)}catch(t){}}}return e("onload",o),e("onerror",o),e("onprogress",o),"onreadystatechange"in o&&p(o.onreadystatechange)?Te(o,"onreadystatechange",(function(e){return t.rollbar.wrap(e,void 0,i)})):o.onreadystatechange=i,o.__rollbar_xhr&&t.trackHttpErrors()&&(o.__rollbar_xhr.stack=(new Error).stack),r.apply(this,arguments)}}),this.replacements,"network")}"fetch"in this._window&&Te(this._window,"fetch",(function(e){return function(r,n){var o,i=Array.prototype.slice.call(arguments),a=i[0],s="GET",u=Xe(a);f(a,"string")||u?o=u?a.toString():a:a&&(o=a.url,a.method&&(s=a.method)),i[1]&&i[1].method&&(s=i[1].method);var c={method:s,url:o,status_code:null,start_time_ms:P(),end_time_ms:null};if(i[1]&&i[1].headers){var l=Re(i[1].headers);c.request_content_type=l.get("Content-Type"),t.autoInstrument.networkRequestHeaders&&(c.request_headers=t.fetchHeaders(l,t.autoInstrument.networkRequestHeaders))}t.autoInstrument.networkRequestBody&&(i[1]&&i[1].body?c.request=i[1].body:i[0]&&!f(i[0],"string")&&i[0].body&&(c.request=i[0].body));var h=t.captureNetwork(c,"fetch",void 0);return t.trackHttpErrors()&&(c.stack=(new Error).stack),e.apply(this,i).then((function(e){var r=P();c.end_time_ms=r,c.status_code=e.status,t.addOtelNetworkResponse(h,r,e.status),c.response_content_type=e.headers.get("Content-Type");var n=null;t.autoInstrument.networkResponseHeaders&&(n=t.fetchHeaders(e.headers,t.autoInstrument.networkResponseHeaders));var o=null;return t.autoInstrument.networkResponseBody&&"function"==typeof e.text&&(o=e.clone().text()),(n||o)&&(c.response={},o&&("function"==typeof o.then?o.then((function(e){e&&t.isJsonContentType(c.response_content_type)?c.response.body=t.scrubJson(e):c.response.body=e})):c.response.body=o),n&&(c.response.headers=n)),t.errorOnHttpStatus(c),e}))}}),this.replacements,"network")}},{key:"captureNetwork",value:function(t,e,r){return t.request&&this.isJsonContentType(t.request_content_type)&&(t.request=this.scrubJson(t.request)),this.telemeter.captureNetwork(t,e,r)}},{key:"isJsonContentType",value:function(t){return!!(t&&f(t,"string")&&t.toLowerCase().includes("json"))}},{key:"addOtelNetworkResponse",value:function(t,e,r){t.otelAttributes&&(t.otelAttributes["response.timeUnixNano"]=(1e6*e).toString(),t.otelAttributes.statusCode=r)}},{key:"scrubJson",value:function(t){return JSON.stringify(Le(JSON.parse(t),this.options.scrubFields))}},{key:"fetchHeaders",value:function(t,e){var r={};try{if(!0===e){if("function"==typeof t.entries)for(var n=t.entries(),o=n.next();!o.done;)r[o.value[0]]=o.value[1],o=n.next()}else{var i,a=We(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;r[s]=t.get(s)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){}return r}},{key:"trackHttpErrors",value:function(){return this.autoInstrument.networkErrorOnHttp5xx||this.autoInstrument.networkErrorOnHttp4xx||this.autoInstrument.networkErrorOnHttp0}},{key:"errorOnHttpStatus",value:function(t){var e=t.status_code;if(e>=500&&this.autoInstrument.networkErrorOnHttp5xx||e>=400&&this.autoInstrument.networkErrorOnHttp4xx||0===e&&this.autoInstrument.networkErrorOnHttp0){var r=new Error("HTTP request failed with Status "+e);r.stack=t.stack,this.rollbar.error(r,{skipFrames:1})}}},{key:"deinstrumentConsole",value:function(){for(var t;this.replacements.log.length;)t=this.replacements.log.shift(),this._window.console[t[0]]=t[1]}},{key:"instrumentConsole",value:function(){var t;if(null!==(t=this._window)&&void 0!==t&&null!==(t=t.console)&&void 0!==t&&t.log){var e=this,r=this._window.console;try{for(var n=0,o=["debug","info","warn","error","log"];n<o.length;n++)i(o[n])}catch(t){this.diagnostic.instrumentConsole={error:t.message}}}function i(t){var n=r[t],o=r,i="warn"===t?"warning":t;r[t]=function(){var t=Array.prototype.slice.call(arguments),r=function(t){var e,r,n,o=[];for(e=0,r=t.length;e<r;++e){switch(h(n=t[e])){case"object":(n=(n=k(n)).error||n.value).length>500&&(n=n.substr(0,497)+"...");break;case"null":n="null";break;case"undefined":n="undefined";break;case"symbol":n=n.toString()}o.push(n)}return o.join(" ")}(t);e.telemeter.captureLog(r,i,null,P()),n&&Function.prototype.apply.call(n,o,t)},e.replacements.log.push([t,n])}}},{key:"deinstrumentDom",value:function(){this.removeListeners("dom")}},{key:"instrumentDom",value:function(){var t=this;this.addListener("dom",this._window,["click","dblclick","contextmenu"],(function(e){return t.handleEvent("click",e)})),this.addListener("dom",this._window,["dragstart","dragend","dragenter","dragleave","drop"],(function(e){return t.handleEvent("dragdrop",e)})),this.addListener("dom",this._window,["blur","focus"],(function(e){return t.handleEvent("focus",e)})),this.addListener("dom",this._window,["submit","invalid"],(function(e){return t.handleEvent("form",e)})),this.addListener("dom",this._window,["input","change"],(function(e){return t.handleEvent("input",e)})),this.addListener("dom",this._window,["resize"],(function(e){return t.handleEvent("resize",e)})),this.addListener("dom",this._document,["DOMContentLoaded"],(function(e){return t.handleEvent("contentLoaded",e)}))}},{key:"handleEvent",value:function(t,e){try{return{click:this.handleClick,dragdrop:this.handleDrag,focus:this.handleFocus,form:this.handleForm,input:this.handleInput,resize:this.handleResize,contentLoaded:this.handleContentLoaded}[t].call(this,e)}catch(r){console.log("".concat(t," handler error"),e,r,r.stack)}}},{key:"handleContentLoaded",value:function(t){this.rollbar.triggerReplay({type:"navigation",path:new URL(this._location.href).pathname})}},{key:"handleClick",value:function(t){var e,r=null===(e=t.target)||void 0===e?void 0:e.tagName.toLowerCase();["input","select","textarea"].includes(r)||this.telemeter.captureClick({type:t.type,isSynthetic:!t.isTrusted,element:De(t.target),timestamp:P()})}},{key:"handleFocus",value:function(t){var e,r=t.type,n=null!==(e=t.target)&&void 0!==e&&e.window?"window":De(t.target);this.telemeter.captureFocus({type:r,isSynthetic:!t.isTrusted,element:n,timestamp:P()})}},{key:"handleForm",value:function(t){var e,r=t.type,n=null!==(e=t.target)&&void 0!==e&&e.window?"window":De(t.target);console.log("handleForm",r,n,t)}},{key:"handleResize",value:function(t){var e=window.screen.width/window.innerWidth;this.telemeter.captureResize({type:t.type,isSynthetic:!t.isTrusted,width:window.innerWidth,height:window.innerHeight,textZoomRatio:e,timestamp:P()})}},{key:"handleDrag",value:function(t){var e,r,n,o,i,a,s=t.type;if("drop"===s){e=[],r=[];var u,c=We([].concat(Ye(t.dataTransfer.files),Ye(t.dataTransfer.items)));try{for(c.s();!(u=c.n()).done;){var l=u.value;l.kind&&l.type&&(e.push(l.kind),r.push(l.type))}}catch(t){c.e(t)}finally{c.f()}}["drop","dragstart"].includes(s)&&(n=null===(i=t.dataTransfer)||void 0===i?void 0:i.dropEffect,o=null===(a=t.dataTransfer)||void 0===a?void 0:a.effectAllowed),this.telemeter.captureDragDrop({type:s,isSynthetic:!t.isTrusted,element:De(t.target),dropEffect:n,effectAllowed:o,kinds:JSON.stringify(e),mediaTypes:JSON.stringify(r),timestamp:P()})}},{key:"scrubInputValue",value:function(t,e,r,n){var o="******";if("password"===n)return o;if(this.scrubTelemetryInputs)return o;var i=Be(e);if(this.telemetryScrubber){if(this.telemetryScrubber(i))return o}else if(this.defaultValueScrubber(i))return o;return function(t,e,r){try{var n,o=je(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if("string"==typeof i){if(t.classList.contains(i))return!0}else{var a,s=je(t.classList);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(i.test(u))return!0}}catch(t){s.e(t)}finally{s.f()}}}}catch(t){o.e(t)}finally{o.f()}var c,l=je(r);try{for(l.s();!(c=l.n()).done;){var f=c.value;if(t.matches(f))return!0}}catch(t){l.e(t)}finally{l.f()}}catch(t){}return!1}(e,this.scrubClasses,this.scrubSelectors)?o:this.maskInputOptions[r.toLowerCase()]||this.maskInputOptions[n]?this.maskInputFn?this.maskInputFn(t,e):o:t}},{key:"handleInput",value:function(t){var e,r,n,o,i=t.type,a=null===(e=t.target)||void 0===e?void 0:e.tagName.toLowerCase(),s=null===(r=t.target)||void 0===r?void 0:r.value,u=(null===(n=t.target)||void 0===n||null===(n=n.attributes)||void 0===n||null===(n=n.type)||void 0===n?void 0:n.value)||(null===(o=t.target)||void 0===o?void 0:o.type);switch(void 0!==s&&(s=this.scrubInputValue(s,t.target,a,u)),i){case"input":if(["radio","checkbox"].includes(u))return;["select","textarea"].includes(a)&&(u=a);break;case"change":if(!["radio","checkbox"].includes(u))return;var c;"checkbox"===u&&(s=null===(c=t.target)||void 0===c?void 0:c.checked)}this.telemeter.captureInput({type:u,isSynthetic:!t.isTrusted,element:De(t.target),value:s,timestamp:P()})}},{key:"deinstrumentNavigation",value:function(){var t=this._window.chrome;!(t&&t.app&&t.app.runtime)&&this._window.history&&this._window.history.pushState&&Je(this.replacements,"navigation")}},{key:"instrumentNavigation",value:function(){var t=this._window.chrome;if(!(t&&t.app&&t.app.runtime)&&this._window.history&&this._window.history.pushState){var e=this;Te(this._window,"onpopstate",(function(t){return function(){var r=e._location.href;e.handleUrlChange(e._lastHref,r),t&&t.apply(this,arguments)}}),this.replacements,"navigation"),Te(this._window.history,"pushState",(function(t){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&e.handleUrlChange(e._lastHref,r+""),t.apply(this,arguments)}}),this.replacements,"navigation")}}},{key:"handleUrlChange",value:function(t,e){var r=Ct(this._location.href),n=Ct(e),o=Ct(t);this._lastHref=e,r.protocol===n.protocol&&r.host===n.host&&(e=n.path+(n.hash||"")),r.protocol===o.protocol&&r.host===o.host&&(t=o.path+(o.hash||"")),this.telemeter.captureNavigation(t,e,null,P()),this.rollbar.triggerReplay({type:"navigation",path:e})}},{key:"instrumentConnectivity",value:function(){var t=this;this.addListener("connectivity",this._window,["online","offline"],(function(e){return t.handleConnectivity(e)}))}},{key:"handleConnectivity",value:function(t){var e=t.type;this.telemeter.captureConnectivityChange({type:e,isSynthetic:!t.isTrusted,timestamp:P()})}},{key:"handleCspEvent",value:function(t){var e="Security Policy Violation: blockedURI: "+t.blockedURI+", violatedDirective: "+t.violatedDirective+", effectiveDirective: "+t.effectiveDirective+", ";t.sourceFile&&(e+="location: "+t.sourceFile+", line: "+t.lineNumber+", col: "+t.columnNumber+", "),e+="originalPolicy: "+t.originalPolicy,this.telemeter.captureLog(e,"error",null,P()),this.handleCspError(e)}},{key:"handleCspError",value:function(t){this.autoInstrument.errorOnContentSecurityPolicy&&this.rollbar.error(t)}},{key:"deinstrumentContentSecurityPolicy",value:function(){this.removeListeners("contentsecuritypolicy")}},{key:"instrumentContentSecurityPolicy",value:function(){if("addEventListener"in this._document){var t=this.handleCspEvent.bind(this);this.addListener("contentsecuritypolicy",this._document,["securitypolicyviolation"],t)}}},{key:"addListener",value:function(t,e,r,n){var o=this;if(e.addEventListener){var i,a=We(r);try{var s=function(){var r=i.value,a={capture:!0,passive:!0};e.addEventListener(r,n,a,!0),o.eventRemovers[t].push((function(){e.removeEventListener(r,n,a)}))};for(a.s();!(i=a.n()).done;)s()}catch(t){a.e(t)}finally{a.f()}}}},{key:"removeListeners",value:function(t){for(;this.eventRemovers[t].length;)this.eventRemovers[t].shift()()}}]);function qe(t,e,r){if(e.hasOwnProperty&&e.hasOwnProperty("addEventListener")){for(var n=e.addEventListener;n._rollbarOldAdd&&n.belongsToShim;)n=n._rollbarOldAdd;var o=function(e,r,o){n.call(this,e,t.wrap(r),o)};o._rollbarOldAdd=n,o.belongsToShim=r,e.addEventListener=o;for(var i=e.removeEventListener;i._rollbarOldRemove&&i.belongsToShim;)i=i._rollbarOldRemove;var a=function(t,e,r){i.call(this,t,e&&e._rollbar_wrapped||e,r)};a._rollbarOldRemove=i,a.belongsToShim=r,e.removeEventListener=a}}function Qe(t,e){return[t,k(t,e)]}function $e(t,e){var r=t.length;return r>2*e?t.slice(0,e).concat(t.slice(r-e)):t}function tr(t,e,r){r=void 0===r?30:r;var n,o=t.data.body;if(o.trace_chain)for(var i=o.trace_chain,a=0;a<i.length;a++)n=$e(n=i[a].frames,r),i[a].frames=n;else o.trace&&(n=$e(n=o.trace.frames,r),o.trace.frames=n);return[t,k(t,e)]}function er(t,e){return e&&e.length>t?e.slice(0,t-3).concat("..."):e}function rr(t,e,r){return[e=Pe(e,(function e(r,n,o){switch(h(n)){case"string":return er(t,n);case"object":case"array":return Pe(n,e,o);default:return n}})),k(e,r)]}function nr(t){return t.exception&&(delete t.exception.description,t.exception.message=er(255,t.exception.message)),t.frames=$e(t.frames,1),t}function or(t,e){var r=t.data.body;if(r.trace_chain)for(var n=r.trace_chain,o=0;o<n.length;o++)n[o]=nr(n[o]);else r.trace&&(r.trace=nr(r.trace));return[t,k(t,e)]}function ir(t,e){return function(t){for(var e=0,r=t.length,n=0;n<r;n++){var o=t.charCodeAt(n);o<128?e+=1:o<2048?e+=2:o<65536&&(e+=3)}return e}(t)>e}var ar={truncate:function(t,e,r){r=void 0===r?524288:r;for(var n,o,i,a=[Qe,tr,rr.bind(null,1024),rr.bind(null,512),rr.bind(null,256),or];n=a.shift();)if(t=(o=n(t,e))[0],(i=o[1]).error||!ir(i.value,r))return i;return i},raw:Qe,truncateFrames:tr,truncateStrings:rr,maybeTruncateValue:er};function sr(t){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cr(n.key),n)}}function cr(t){var e=function(t,e){if("object"!=sr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==sr(e)?e:e+""}var lr=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._currentContext=e?new Map(e):new Map}return function(t,e,r){return e&&ur(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"getValue",value:function(t){return this._currentContext.get(t)}},{key:"setValue",value:function(e,r){var n=new t(this._currentContext);return n._currentContext.set(e,r),n}},{key:"deleteValue",value:function(e){var r=new t(self._currentContext);return r._currentContext.delete(e),r}}])}());function fr(t){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pr(n.key),n)}}function pr(t){var e=function(t,e){if("object"!=fr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=fr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==fr(e)?e:e+""}var dr=function(t,e,r){return e&&hr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentContext=lr}),[{key:"active",value:function(){return this.currentContext}},{key:"enterContext",value:function(t){var e=this.currentContext;return this.currentContext=t||lr,e}},{key:"exitContext",value:function(t){return this.currentContext=t,this.currentContext}},{key:"with",value:function(t,e,r){var n=this.enterContext(t);try{for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return e.call.apply(e,[r].concat(i))}finally{this.exitContext(n)}}}]),vr=function(){var t=new Uint8Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:16);return crypto.getRandomValues(t),Array.from(t,(function(t){return t.toString(16).padStart(2,"0")})).join("")};function yr(t){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mr(Object(r),!0).forEach((function(e){wr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function br(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kr(n.key),n)}}function wr(t,e,r){return(e=kr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kr(t){var e=function(t,e){if("object"!=yr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==yr(e)?e:e+""}var Sr="RollbarSession",Ir=function(t,e,r){return e&&br(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),wr(this,"_attributes",void 0),this.options=r,this.tracing=e,this.window=e.window,this.session=null,this._attributes={}}),[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.session||(this.getSession()||this.createSession(),this.initSessionAttributes(t)),this}},{key:"getSession",value:function(){try{var t=this.window.sessionStorage.getItem(Sr);if(!t)return null;this.session=JSON.parse(t)}catch(t){return null}return this}},{key:"createSession",value:function(){return this.session={id:vr(),createdAt:Date.now()},this.setSession(this.session)}},{key:"setSession",value:function(t){var e=JSON.stringify(t);try{this.window.sessionStorage.setItem(Sr,e)}catch(t){return null}return this}},{key:"attributes",get:function(){return this._attributes}},{key:"setAttributes",value:function(t){return this._attributes=gr(gr({},this._attributes),t),this}},{key:"setUser",value:function(t){return this.setAttributes({"user.id":null==t?void 0:t.id,"user.email":null==t?void 0:t.email,"user.name":(null==t?void 0:t.name)||(null==t?void 0:t.username)}),this}},{key:"initSessionAttributes",value:function(t){var e,r,n;return this.setAttributes(gr({"session.id":this.session.id,"browser.brands":null===(e=navigator.userAgentData)||void 0===e?void 0:e.brands,"browser.language":navigator.language,"browser.mobile":null===(r=navigator.userAgentData)||void 0===r?void 0:r.mobile,"browser.platform":null===(n=navigator.userAgentData)||void 0===n?void 0:n.platform,"client.address":"$remote_ip","rollbar.notifier.framework":"browser-js","user_agent.original":navigator.userAgent},t)),this}}]);function Cr(t){return[Math.trunc(t/1e3),Math.round(t%1e3*1e6)]}function xr(t,e){return[t[0]+e[0]+Math.trunc((t[1]+e[1])/1e9),(t[1]+e[1])%1e9]}var Or={fromMillis:Cr,toMillis:function(t){return 1e3*t[0]+Math.round(t[1]/1e6)},toNanos:function(t){return 1e9*t[0]+t[1]},add:xr,now:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?xr(Cr(performance.timeOrigin),Cr(performance.now())):Cr(Date.now())},isHrTime:function(t){return Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}};function Ar(t){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Er(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||_r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(t,e){if(t){if("string"==typeof t)return Rr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rr(t,e):void 0}}function Rr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Tr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pr(n.key),n)}}function Pr(t){var e=function(t,e){if("object"!=Ar(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=Ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==Ar(e)?e:e+""}var Mr=function(t,e,r){return e&&Tr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=e,this.options=r}),[{key:"export",value:function(t,e){Lr.push.apply(Lr,function(t){return function(t){if(Array.isArray(t))return Rr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t))}},{key:"toPayload",value:function(){var t=this,e=Lr.slice();if(Lr.length=0,!e||!e.length)return{resourceSpans:[]};var r,n=e[0]&&e[0].resource||{},o=new Map,i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_r(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(e);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=a.instrumentationScope?"".concat(a.instrumentationScope.name,":").concat(a.instrumentationScope.version):"default:1.0.0";o.has(s)||o.set(s,{scope:a.instrumentationScope||{name:"default",version:"1.0.0",attributes:[]},spans:[]}),o.get(s).spans.push(this._transformSpan(a))}}catch(t){i.e(t)}finally{i.f()}return{resourceSpans:[{resource:this._transformResource(n),scopeSpans:Array.from(o.values()).map((function(e){return{scope:t._transformInstrumentationScope(e.scope),spans:e.spans}}))}]}}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.api.postSpans(t,e)}},{key:"_transformSpan",value:function(t){var e,r=this,n=function(t){return Object.entries(t||{}).map((function(t){var e=Er(t,2),n=e[0],o=e[1];return{key:n,value:r._transformAnyValue(o)}}))};return{traceId:t.spanContext.traceId,spanId:t.spanContext.spanId,parentSpanId:t.parentSpanId||"",name:t.name,kind:t.kind||1,startTimeUnixNano:Or.toNanos(t.startTime),endTimeUnixNano:Or.toNanos(t.endTime),attributes:n(t.attributes),events:(e=t.events,(e||[]).map((function(t){return{timeUnixNano:Or.toNanos(t.time),name:t.name,attributes:n(t.attributes)}})))}}},{key:"_transformResource",value:function(t){var e=this,r=t.attributes||{};return{attributes:Object.entries(r).map((function(t){var r=Er(t,2),n=r[0],o=r[1];return{key:n,value:e._transformAnyValue(o)}}))}}},{key:"_transformInstrumentationScope",value:function(t){var e=this;return{name:t.name||"",version:t.version||"",attributes:(t.attributes||[]).map((function(t){return{key:t.key,value:e._transformAnyValue(t.value)}}))}}},{key:"_transformAnyValue",value:function(t){var e=this;if(null==t)return{stringValue:""};var r=Ar(t);return"string"===r?{stringValue:t}:"number"===r?Number.isInteger(t)?{intValue:t.toString()}:{doubleValue:t}:"boolean"===r?{boolValue:t}:Array.isArray(t)?{arrayValue:{values:t.map((function(t){return e._transformAnyValue(t)}))}}:"object"===r?{kvlistValue:{values:Object.entries(t).map((function(t){var r=Er(t,2),n=r[0],o=r[1];return{key:n,value:e._transformAnyValue(o)}}))}}:{stringValue:String(t)}}}]),Lr=[];function jr(t){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Dr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fr(n.key),n)}}function Fr(t){var e=function(t,e){if("object"!=jr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==jr(e)?e:e+""}var Br=function(t,e,r){return e&&Dr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.exporter=e,this.options=r,this.pendingSpans=new Map,this.transforms=[this.userTransform.bind(this)]}),[{key:"addTransform",value:function(t){this.transforms.unshift(t)}},{key:"userTransform",value:function(t){this.options.transformSpan&&this.options.transformSpan({span:t})}},{key:"applyTransforms",value:function(t){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Nr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nr(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(this.transforms);try{for(r.s();!(e=r.n()).done;){var n=e.value;try{n(t)}catch(t){vt.error("Error running span transform callback",t)}}}catch(t){r.e(t)}finally{r.f()}}},{key:"onStart",value:function(t,e){this.pendingSpans.set(t.span.spanContext.spanId,t)}},{key:"onEnd",value:function(t){this.applyTransforms(t.span),this.exporter.export([t.export()]),this.pendingSpans.delete(t.span.spanContext.spanId)}}]);function Ur(t){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Gr(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function zr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wr(n.key),n)}}function Wr(t){var e=function(t,e){if("object"!=Ur(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=Ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==Ur(e)?e:e+""}var Zr=function(t,e,r){return e&&zr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.usePerformance=e.usePerformance,this.initReadableSpan(e),this.spanProcessor=e.spanProcessor,this.spanProcessor.onStart(this,e.context),e.attributes&&this.setAttributes(e.attributes),this}),[{key:"initReadableSpan",value:function(t){var e;this.span={name:t.name,kind:t.kind,spanContext:t.spanContext,parentSpanId:t.parentSpanId,startTime:t.startTime||Or.now(t.usePerformance),endTime:[0,0],status:{code:0,message:""},attributes:{"session.id":null===(e=t.session)||void 0===e?void 0:e.id},links:[],events:[],duration:0,ended:!1,resource:t.resource,instrumentationScope:t.scope,droppedAttributesCount:0,droppedEventsCount:0,droppedLinksCount:0}}},{key:"spanContext",value:function(){return this.span.spanContext}},{key:"spanId",get:function(){return this.span.spanContext.spanId}},{key:"traceId",get:function(){return this.span.spanContext.traceId}},{key:"setAttribute",value:function(t,e){return null==e||this.span.ended||0===t.length||(this.span.attributes[t]=e),this}},{key:"setAttributes",value:function(t){for(var e=0,r=Object.entries(t);e<r.length;e++){var n=Yr(r[e],2),o=n[0],i=n[1];this.setAttribute(o,i)}return this}},{key:"addEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return this.span.ended||this.span.events.push({name:t,attributes:e,time:r||Or.now(),droppedAttributesCount:0}),this}},{key:"isRecording",value:function(){return!1===this.span.ended}},{key:"end",value:function(t,e){t&&this.setAttributes(t),this.span.endTime=e||Or.now(this.usePerformance),this.span.ended=!0,this.spanProcessor.onEnd(this)}},{key:"export",value:function(){return this.span}}]);function Vr(t){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hr(Object(r),!0).forEach((function(e){Xr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xr(t,e,r){return(e=qr(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qr(n.key),n)}}function qr(t){var e=function(t,e){if("object"!=Vr(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=Vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==Vr(e)?e:e+""}var Qr=function(t,e,r){return e&&Kr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.spanProcessor=r,this.tracing=e}),[{key:"startSpan",value:function(t){var e,r,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tracing.contextManager.active(),s=this.tracing.getSpan(a),u=null==s?void 0:s.spanContext(),c=vr(8),l=null;u?(n=u.traceId,l=u.traceState,o=u.spanId):n=vr(16);var f={traceId:n,spanId:c,traceFlags:0,traceState:l},h={attributes:Jr(Jr({},(null===(e=this.tracing.resource)||void 0===e?void 0:e.attributes)||{}),(null===(r=i.resource)||void 0===r?void 0:r.attributes)||{})};return new Zr({resource:h,scope:this.tracing.scope,session:this.tracing.session.session,context:a,spanContext:f,name:t,kind:0,parentSpanId:o,spanProcessor:this.spanProcessor,startTime:i.startTime,usePerformance:i.usePerformance})}}]);function $r(t){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(r),!0).forEach((function(e){rn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rn(t,e,r){return(e=on(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,on(n.key),n)}}function on(t){var e=function(t,e){if("object"!=$r(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==$r(e)?e:e+""}var an=Symbol.for("Rollbar Context Key SPAN"),sn=function(t,e,r){return e&&nn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=r,this.options=n,this.window=e,this.window.sessionStorage&&(this.session=new Ir(this,n)),this.createTracer()}),[{key:"configure",value:function(t){this.options=t}},{key:"initSession",value:function(){this.session&&this.session.init()}},{key:"sessionId",get:function(){return this.session?this.session.session.id:null}},{key:"resource",get:function(){var t,e;return{attributes:en(en({},this.options.resource||{}),{},{"rollbar.environment":null!==(t=null===(e=this.options.payload)||void 0===e?void 0:e.environment)&&void 0!==t?t:this.options.environment})}}},{key:"scope",get:function(){return{name:"rollbar-browser-js",version:this.options.version}}},{key:"idGen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;return vr(t)}},{key:"createTracer",value:function(){this.contextManager=new dr,this.exporter=new Mr(this.api,this.options),this.spanProcessor=new Br(this.exporter,this.options.tracing),this.tracer=new Qr(this,this.spanProcessor)}},{key:"getTracer",value:function(){return this.tracer}},{key:"addSpanTransform",value:function(t){this.spanProcessor.addTransform(t)}},{key:"getSpan",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.contextManager.active()).getValue(an)}},{key:"setSpan",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.contextManager.active(),e=arguments.length>1?arguments[1]:void 0;return t.setValue(an,e)}},{key:"startSpan",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.contextManager.active();return this.tracer.startSpan(t,e,r)}},{key:"with",value:function(t,e,r){for(var n,o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return(n=this.contextManager).with.apply(n,[t,e,r].concat(i))}},{key:"withSpan",value:function(t,e,r,n){var o=this.startSpan(t,e);return this.with(this.setSpan(this.contextManager.active(),o),r,n,o)}}]),un=["inputs"],cn=["inputId"],ln=["inputs"],fn=["inputId"],hn=["type"];function pn(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function dn(){dn=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new _(n||[]);return o(a,"_invoke",{value:x(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",d="completed",v={};function y(){}function m(){}function g(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(R([])));k&&k!==r&&n.call(k,a)&&(b=k);var S=g.prototype=y.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Dn(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?d:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=d,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Dn(e)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),c(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new C(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),c(S,u,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function vn(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}function yn(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vn(i,n,o,a,s,"next",t)}function s(t){vn(i,n,o,a,s,"throw",t)}a(void 0)}))}}function mn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||Tn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(t,e,r,n){var o=bn(_n(1&n?t.prototype:t),e,r);return 2&n&&"function"==typeof o?function(t){return o.apply(r,t)}:o}function bn(){return(bn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=_n(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(null,arguments)}function wn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(r),!0).forEach((function(e){Sn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Sn(t,e,r){return(e=Nn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function In(t){return function(t){if(Array.isArray(t))return Pn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Tn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(t,e,r){return e=_n(e),function(t,e){if(e&&("object"==Dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,An()?Reflect.construct(e,r||[],_n(t).constructor):e.apply(t,r))}function xn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&En(t,e)}function On(t){var e="function"==typeof Map?new Map:void 0;return(On=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(An())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&En(o,r.prototype),o}(t,arguments,_n(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),En(r,t)})(t)}function An(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(An=function(){return!!t})()}function En(t,e){return(En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _n(t){return(_n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rn(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Tn(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Tn(t,e){if(t){if("string"==typeof t)return Pn(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pn(t,e):void 0}}function Pn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ln(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nn(n.key),n)}}function jn(t,e,r){return e&&Ln(t.prototype,e),r&&Ln(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nn(t){var e=function(t,e){if("object"!=Dn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=Dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==Dn(e)?e:e+""}function Dn(t){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Fn,Bn=Object.defineProperty,Un=function(t,e,r){return function(t,e,r){return e in t?Bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r}(t,"symbol"!==Dn(e)?e+"":e,r)},Yn=Object.defineProperty,Gn=function(t,e,r){return function(t,e,r){return e in t?Yn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r}(t,"symbol"!==Dn(e)?e+"":e,r)},zn=function(t){return t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t}(zn||{}),Wn={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Zn={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Vn={};function Hn(t){if(Vn[t])return Vn[t];var e=globalThis[t],r=e.prototype,n=t in Wn?Wn[t]:void 0,o=Boolean(n&&n.every((function(t){var e,n;return Boolean(null==(n=null==(e=Object.getOwnPropertyDescriptor(r,t))?void 0:e.get)?void 0:n.toString().includes("[native code]"))}))),i=t in Zn?Zn[t]:void 0,a=Boolean(i&&i.every((function(t){var e;return"function"==typeof r[t]&&(null==(e=r[t])?void 0:e.toString().includes("[native code]"))})));if(o&&a&&!globalThis.Zone)return Vn[t]=e.prototype,e.prototype;try{var s=document.createElement("iframe");document.body.appendChild(s);var u=s.contentWindow;if(!u)return e.prototype;var c=u[t].prototype;return document.body.removeChild(s),c?Vn[t]=c:r}catch(t){return r}}var Jn={};function Xn(t,e,r){var n,o="".concat(t,".").concat(String(r));if(Jn[o])return Jn[o].call(e);var i=Hn(t),a=null==(n=Object.getOwnPropertyDescriptor(i,r))?void 0:n.get;return a?(Jn[o]=a,a.call(e)):e[r]}var Kn=function(t){return Xn("Node",t,"childNodes")},qn=function(t){return Xn("Node",t,"parentNode")},Qn=function(t){return Xn("Node",t,"parentElement")},$n=function(t){return Xn("Node",t,"textContent")},to=function(t){return t&&"host"in t?Xn("ShadowRoot",t,"host"):null},eo=function(t){return t&&"shadowRoot"in t?Xn("Element",t,"shadowRoot"):null};function ro(t){return t.nodeType===t.ELEMENT_NODE}function no(t){var e=t&&"host"in t&&"mode"in t&&to(t)||null;return Boolean(e&&"shadowRoot"in e&&eo(e)===t)}function oo(t){return"[object ShadowRoot]"===Object.prototype.toString.call(t)}function io(t){try{var e=t.rules||t.cssRules;if(!e)return null;var r=t.href;return!r&&t.ownerNode&&t.ownerNode.ownerDocument&&(r=t.ownerNode.ownerDocument.location.href),(n=Array.from(e,(function(t){return ao(t,r)})).join("")).includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),n}catch(t){return null}var n}function ao(t,e){if(function(t){return"styleSheet"in t}(t)){var r;try{r=io(t.styleSheet)||function(t){var e=t.cssText;if(e.split('"').length<3)return e;var r=["@import","url(".concat(JSON.stringify(t.href),")")];return""===t.layerName?r.push("layer"):t.layerName&&r.push("layer(".concat(t.layerName,")")),t.supportsText&&r.push("supports(".concat(t.supportsText,")")),t.media.length&&r.push(t.media.mediaText),r.join(" ")+";"}(t)}catch(e){r=t.cssText}return t.styleSheet.href?go(r,t.styleSheet.href):r}var n,o=t.cssText;return function(t){return"selectorText"in t}(t)&&t.selectorText.includes(":")&&(n=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,o=o.replace(n,"$1\\$2")),e?go(o,e):o}var so=jn((function t(){Mn(this,t),Gn(this,"idNodeMap",new Map),Gn(this,"nodeMetaMap",new WeakMap)}),[{key:"getId",value:function(t){var e;if(!t)return-1;var r=null==(e=this.getMeta(t))?void 0:e.id;return null!=r?r:-1}},{key:"getNode",value:function(t){return this.idNodeMap.get(t)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(t){return this.nodeMetaMap.get(t)||null}},{key:"removeNodeFromMap",value:function(t){var e=this,r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach((function(t){return e.removeNodeFromMap(t)}))}},{key:"has",value:function(t){return this.idNodeMap.has(t)}},{key:"hasNode",value:function(t){return this.nodeMetaMap.has(t)}},{key:"add",value:function(t,e){var r=e.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,e)}},{key:"replace",value:function(t,e){var r=this.getNode(t);if(r){var n=this.nodeMetaMap.get(r);n&&this.nodeMetaMap.set(e,n)}this.idNodeMap.set(t,e)}},{key:"reset",value:function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}]);function uo(t){var e=t.element,r=t.maskInputOptions,n=t.tagName,o=t.type,i=t.value,a=t.maskInputFn,s=i||"",u=o&&co(o);return(r[n.toLowerCase()]||u&&r[u])&&(s=a?a(s,e):"*".repeat(s.length)),s}function co(t){return t.toLowerCase()}var lo="__rrweb_original__";function fo(t){var e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?co(e):null}function ho(t,e){var r,n;try{n=new URL(t,null!=e?e:window.location.href)}catch(t){return null}var o=n.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(r=null==o?void 0:o[1])&&void 0!==r?r:null}var po=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,vo=/^(?:[a-z+]+:)?\/\//i,yo=/^www\..*/i,mo=/^(data:)([^,]*),(.*)/i;function go(t,e){return(t||"").replace(po,(function(t,r,n,o,i,a){var s,u=n||i||a,c=r||o||"";if(!u)return t;if(vo.test(u)||yo.test(u))return"url(".concat(c).concat(u).concat(c,")");if(mo.test(u))return"url(".concat(c).concat(u).concat(c,")");if("/"===u[0])return"url(".concat(c).concat((s=e,(s.indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+u)).concat(c,")");var l=e.split("/"),f=u.split("/");l.pop();var h,p=Rn(f);try{for(p.s();!(h=p.n()).done;){var d=h.value;"."!==d&&(".."===d?l.pop():l.push(d))}}catch(t){p.e(t)}finally{p.f()}return"url(".concat(c).concat(l.join("/")).concat(c,")")}))}function bo(t){return t.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"")}var wo,ko,So=1,Io=new RegExp("[^a-z0-9-_:]");function Co(){return So++}var xo=/^[^ \t\n\r\u000c]+/,Oo=/^[, \t\n\r\u000c]+/,Ao=new WeakMap;function Eo(t,e){return e&&""!==e.trim()?Ro(t,e):e}function _o(t){return Boolean("svg"===t.tagName||t.ownerSVGElement)}function Ro(t,e){var r=Ao.get(t);if(r||(r=t.createElement("a"),Ao.set(t,r)),e){if(e.startsWith("blob:")||e.startsWith("data:"))return e}else e="";return r.setAttribute("href",e),r.href}function To(t,e,r,n){return n?"src"===r||"href"===r&&("use"!==e||"#"!==n[0])||"xlink:href"===r&&"#"!==n[0]?Eo(t,n):"background"!==r||"table"!==e&&"td"!==e&&"th"!==e?"srcset"===r?function(t,e){if(""===e.trim())return e;var r=0;function n(t){var n,o=t.exec(e.substring(r));return o?(n=o[0],r+=n.length,n):""}for(var o=[];n(Oo),!(r>=e.length);){var i=n(xo);if(","===i.slice(-1))i=Eo(t,i.substring(0,i.length-1)),o.push(i);else{var a="";i=Eo(t,i);for(var s=!1;;){var u=e.charAt(r);if(""===u){o.push((i+a).trim());break}if(s)")"===u&&(s=!1);else{if(","===u){r+=1,o.push((i+a).trim());break}"("===u&&(s=!0)}a+=u,r+=1}}}return o.join(", ")}(t,n):"style"===r?go(n,Ro(t)):"object"===e&&"data"===r?Eo(t,n):n:Eo(t,n):n}function Po(t,e,r){return("video"===t||"audio"===t)&&"autoplay"===e}function Mo(t,e,r){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return!!r&&Mo(qn(t),e,r);for(var n=t.classList.length;n--;){var o=t.classList[n];if(e.test(o))return!0}return!!r&&Mo(qn(t),e,r)}function Lo(t,e,r,n){var o;if(ro(t)){if(!Kn(o=t).length)return!1}else{if(null===Qn(t))return!1;o=Qn(t)}try{if("string"==typeof e){if(n){if(o.closest(".".concat(e)))return!0}else if(o.classList.contains(e))return!0}else if(Mo(o,e,n))return!0;if(r)if(n){if(o.closest(r))return!0}else if(o.matches(r))return!0}catch(t){}return!1}function jo(t,e){var r=e.doc,n=e.mirror,o=e.blockClass,i=e.blockSelector,a=e.needsMask,s=e.inlineStylesheet,u=e.maskInputOptions,c=void 0===u?{}:u,l=e.maskTextFn,f=e.maskInputFn,h=e.dataURLOptions,p=void 0===h?{}:h,d=e.inlineImages,v=e.recordCanvas,y=e.keepIframeSrcFn,m=e.newlyAddedElement,g=void 0!==m&&m,b=e.cssCaptured,w=void 0!==b&&b,k=function(t,e){if(e.hasNode(t)){var r=e.getId(t);return 1===r?void 0:r}}(r,n);switch(t.nodeType){case t.DOCUMENT_NODE:return"CSS1Compat"!==t.compatMode?{type:zn.Document,childNodes:[],compatMode:t.compatMode}:{type:zn.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:zn.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:k};case t.ELEMENT_NODE:return function(t,e){for(var r,n=e.doc,o=e.inlineStylesheet,i=e.maskInputOptions,a=void 0===i?{}:i,s=e.maskInputFn,u=e.dataURLOptions,c=void 0===u?{}:u,l=e.inlineImages,f=e.recordCanvas,h=e.keepIframeSrcFn,p=e.newlyAddedElement,d=void 0!==p&&p,v=e.rootId,y=function(t,e,r){try{if("string"==typeof e){if(t.classList.contains(e))return!0}else for(var n=t.classList.length;n--;){var o=t.classList[n];if(e.test(o))return!0}if(r)return t.matches(r)}catch(t){}return!1}(t,e.blockClass,e.blockSelector),m=function(t){if(t instanceof HTMLFormElement)return"form";var e=co(t.tagName);return Io.test(e)?"div":e}(t),g={},b=t.attributes.length,w=0;w<b;w++){var k=t.attributes[w];Po(m,k.name,k.value)||(g[k.name]=To(n,m,co(k.name),k.value))}if("link"===m&&o){var S=Array.from(n.styleSheets).find((function(e){return e.href===t.href})),I=null;S&&(I=io(S)),I&&(delete g.rel,delete g.href,g._cssText=I)}if("style"===m&&t.sheet){var C=io(t.sheet);C&&(t.childNodes.length>1&&(C=function(t,e){return function(t,e){var r=Array.from(e.childNodes),n=[];if(r.length>1&&t&&"string"==typeof t)for(var o=bo(t),i=1;i<r.length;i++)if(r[i].textContent&&"string"==typeof r[i].textContent)for(var a=bo(r[i].textContent),s=3;s<a.length;s++){var u=a.substring(0,s);if(2===o.split(u).length){for(var c=o.indexOf(u),l=c;l<t.length;l++)if(bo(t.substring(0,l)).length===c){n.push(t.substring(0,l)),t=t.substring(l);break}break}}return n.push(t),n}(t,e).join("/* rr_split */")}(C,t)),g._cssText=C)}if("input"===m||"textarea"===m||"select"===m){var x=t.value,O=t.checked;"radio"!==g.type&&"checkbox"!==g.type&&"submit"!==g.type&&"button"!==g.type&&x?g.value=uo({element:t,type:fo(t),tagName:m,value:x,maskInputOptions:a,maskInputFn:s}):O&&(g.checked=O)}if("option"===m&&(t.selected&&!a.select?g.selected=!0:delete g.selected),"dialog"===m&&t.open&&(g.rr_open_mode=t.matches("dialog:modal")?"modal":"non-modal"),"canvas"===m&&f)if("2d"===t.__context)(function(t){var e=t.getContext("2d");if(!e)return!0;for(var r=0;r<t.width;r+=50)for(var n=0;n<t.height;n+=50){var o=e.getImageData,i=lo in o?o[lo]:o;if(new Uint32Array(i.call(e,r,n,Math.min(50,t.width-r),Math.min(50,t.height-n)).data.buffer).some((function(t){return 0!==t})))return!1}return!0})(t)||(g.rr_dataURL=t.toDataURL(c.type,c.quality));else if(!("__context"in t)){var A=t.toDataURL(c.type,c.quality),E=n.createElement("canvas");E.width=t.width,E.height=t.height,A!==E.toDataURL(c.type,c.quality)&&(g.rr_dataURL=A)}if("img"===m&&l){wo||(wo=n.createElement("canvas"),ko=wo.getContext("2d"));var _=t,R=_.currentSrc||_.getAttribute("src")||"<unknown-src>",T=_.crossOrigin,P=function(){_.removeEventListener("load",P);try{wo.width=_.naturalWidth,wo.height=_.naturalHeight,ko.drawImage(_,0,0),g.rr_dataURL=wo.toDataURL(c.type,c.quality)}catch(t){if("anonymous"!==_.crossOrigin)return _.crossOrigin="anonymous",void(_.complete&&0!==_.naturalWidth?P():_.addEventListener("load",P));console.warn("Cannot inline img src=".concat(R,"! Error: ").concat(t))}"anonymous"===_.crossOrigin&&(T?g.crossOrigin=T:_.removeAttribute("crossorigin"))};_.complete&&0!==_.naturalWidth?P():_.addEventListener("load",P)}if("audio"===m||"video"===m){var M=g;M.rr_mediaState=t.paused?"paused":"played",M.rr_mediaCurrentTime=t.currentTime,M.rr_mediaPlaybackRate=t.playbackRate,M.rr_mediaMuted=t.muted,M.rr_mediaLoop=t.loop,M.rr_mediaVolume=t.volume}if(d||(t.scrollLeft&&(g.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(g.rr_scrollTop=t.scrollTop)),y){var L=t.getBoundingClientRect(),j=L.width,N=L.height;g={class:g.class,rr_width:"".concat(j,"px"),rr_height:"".concat(N,"px")}}"iframe"!==m||h(g.src)||(t.contentDocument||(g.rr_src=g.src),delete g.src);try{customElements.get(m)&&(r=!0)}catch(t){}return{type:zn.Element,tagName:m,attributes:g,childNodes:[],isSVG:_o(t)||void 0,needBlock:y,rootId:v,isCustom:r}}(t,{doc:r,blockClass:o,blockSelector:i,inlineStylesheet:s,maskInputOptions:c,maskInputFn:f,dataURLOptions:p,inlineImages:d,recordCanvas:v,keepIframeSrcFn:y,newlyAddedElement:g,rootId:k});case t.TEXT_NODE:return function(t,e){var r=e.needsMask,n=e.maskTextFn,o=e.rootId,i=e.cssCaptured,a=qn(t),s=a&&a.tagName,u="",c="STYLE"===s||void 0,l="SCRIPT"===s||void 0;return l?u="SCRIPT_PLACEHOLDER":i||(u=$n(t),c&&u&&(u=go(u,Ro(e.doc)))),!c&&!l&&u&&r&&(u=n?n(u,Qn(t)):u.replace(/[\S]/g,"*")),{type:zn.Text,textContent:u||"",rootId:o}}(t,{doc:r,needsMask:a,maskTextFn:l,rootId:k,cssCaptured:w});case t.CDATA_SECTION_NODE:return{type:zn.CDATA,textContent:"",rootId:k};case t.COMMENT_NODE:return{type:zn.Comment,textContent:$n(t)||"",rootId:k};default:return!1}}function No(t){return null==t?"":t.toLowerCase()}function Do(t,e){var r=e.doc,n=e.mirror,o=e.blockClass,i=e.blockSelector,a=e.maskTextClass,s=e.maskTextSelector,u=e.skipChild,c=void 0!==u&&u,l=e.inlineStylesheet,f=void 0===l||l,h=e.maskInputOptions,p=void 0===h?{}:h,d=e.maskTextFn,v=e.maskInputFn,y=e.slimDOMOptions,m=e.dataURLOptions,g=void 0===m?{}:m,b=e.inlineImages,w=void 0!==b&&b,k=e.recordCanvas,S=void 0!==k&&k,I=e.onSerialize,C=e.onIframeLoad,x=e.iframeLoadTimeout,O=void 0===x?5e3:x,A=e.onStylesheetLoad,E=e.stylesheetLoadTimeout,_=void 0===E?5e3:E,R=e.keepIframeSrcFn,T=void 0===R?function(){return!1}:R,P=e.newlyAddedElement,M=void 0!==P&&P,L=e.cssCaptured,j=void 0!==L&&L,N=e.needsMask,D=e.preserveWhiteSpace,F=void 0===D||D;N||(N=Lo(t,a,s,void 0===N));var B,U=jo(t,{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:N,inlineStylesheet:f,maskInputOptions:p,maskTextFn:d,maskInputFn:v,dataURLOptions:g,inlineImages:w,recordCanvas:S,keepIframeSrcFn:T,newlyAddedElement:M,cssCaptured:j});if(!U)return console.warn(t,"not serialized"),null;B=n.hasNode(t)?n.getId(t):function(t,e){if(e.comment&&t.type===zn.Comment)return!0;if(t.type===zn.Element){if(e.script&&("script"===t.tagName||"link"===t.tagName&&("preload"===t.attributes.rel||"modulepreload"===t.attributes.rel)&&"script"===t.attributes.as||"link"===t.tagName&&"prefetch"===t.attributes.rel&&"string"==typeof t.attributes.href&&"js"===ho(t.attributes.href)))return!0;if(e.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(No(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===No(t.attributes.name)||"icon"===No(t.attributes.rel)||"apple-touch-icon"===No(t.attributes.rel)||"shortcut icon"===No(t.attributes.rel))))return!0;if("meta"===t.tagName){if(e.headMetaDescKeywords&&No(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(No(t.attributes.property).match(/^(og|twitter|fb):/)||No(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===No(t.attributes.name)))return!0;if(e.headMetaRobots&&("robots"===No(t.attributes.name)||"googlebot"===No(t.attributes.name)||"bingbot"===No(t.attributes.name)))return!0;if(e.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(e.headMetaAuthorship&&("author"===No(t.attributes.name)||"generator"===No(t.attributes.name)||"framework"===No(t.attributes.name)||"publisher"===No(t.attributes.name)||"progid"===No(t.attributes.name)||No(t.attributes.property).match(/^article:/)||No(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&("google-site-verification"===No(t.attributes.name)||"yandex-verification"===No(t.attributes.name)||"csrf-token"===No(t.attributes.name)||"p:domain_verify"===No(t.attributes.name)||"verify-v1"===No(t.attributes.name)||"verification"===No(t.attributes.name)||"shopify-checkout-api-token"===No(t.attributes.name)))return!0}}return!1}(U,y)||!F&&U.type===zn.Text&&!U.textContent.replace(/^\s+|\s+$/gm,"").length?-2:Co();var Y=Object.assign(U,{id:B});if(n.add(t,Y),-2===B)return null;I&&I(t);var G=!c;if(Y.type===zn.Element){G=G&&!Y.needBlock,delete Y.needBlock;var z=eo(t);z&&oo(z)&&(Y.isShadowHost=!0)}if((Y.type===zn.Document||Y.type===zn.Element)&&G){y.headWhitespace&&Y.type===zn.Element&&"head"===Y.tagName&&(F=!1);var W={doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:N,maskTextClass:a,maskTextSelector:s,skipChild:c,inlineStylesheet:f,maskInputOptions:p,maskTextFn:d,maskInputFn:v,slimDOMOptions:y,dataURLOptions:g,inlineImages:w,recordCanvas:S,preserveWhiteSpace:F,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:O,onStylesheetLoad:A,stylesheetLoadTimeout:_,keepIframeSrcFn:T,cssCaptured:!1};if(Y.type===zn.Element&&"textarea"===Y.tagName&&void 0!==Y.attributes.value);else{Y.type===zn.Element&&void 0!==Y.attributes._cssText&&"string"==typeof Y.attributes._cssText&&(W.cssCaptured=!0);for(var Z=0,V=Array.from(Kn(t));Z<V.length;Z++){var H=Do(V[Z],W);H&&Y.childNodes.push(H)}}var J=null;if(ro(t)&&(J=eo(t)))for(var X=0,K=Array.from(Kn(J));X<K.length;X++){var q=Do(K[X],W);q&&(oo(J)&&(q.isShadow=!0),Y.childNodes.push(q))}}var Q=qn(t);return Q&&no(Q)&&oo(Q)&&(Y.isShadow=!0),Y.type===zn.Element&&"iframe"===Y.tagName&&function(t,e,r){var n=t.contentWindow;if(n){var o,i=!1;try{o=n.document.readyState}catch(t){return}if("complete"===o){var a="about:blank";if(n.location.href!==a||t.src===a||""===t.src)return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}else{var s=setTimeout((function(){i||(e(),i=!0)}),r);t.addEventListener("load",(function(){clearTimeout(s),i=!0,e()}))}}}(t,(function(){var e=t.contentDocument;if(e&&C){var r=Do(e,{doc:e,mirror:n,blockClass:o,blockSelector:i,needsMask:N,maskTextClass:a,maskTextSelector:s,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskTextFn:d,maskInputFn:v,slimDOMOptions:y,dataURLOptions:g,inlineImages:w,recordCanvas:S,preserveWhiteSpace:F,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:O,onStylesheetLoad:A,stylesheetLoadTimeout:_,keepIframeSrcFn:T});r&&C(t,r)}}),O),Y.type===zn.Element&&"link"===Y.tagName&&"string"==typeof Y.attributes.rel&&("stylesheet"===Y.attributes.rel||"preload"===Y.attributes.rel&&"string"==typeof Y.attributes.href&&"css"===ho(Y.attributes.href))&&function(t,e,r){var n,o=!1;try{n=t.sheet}catch(t){return}if(!n){var i=setTimeout((function(){o||(e(),o=!0)}),r);t.addEventListener("load",(function(){clearTimeout(i),o=!0,e()}))}}(t,(function(){if(A){var e=Do(t,{doc:r,mirror:n,blockClass:o,blockSelector:i,needsMask:N,maskTextClass:a,maskTextSelector:s,skipChild:!1,inlineStylesheet:f,maskInputOptions:p,maskTextFn:d,maskInputFn:v,slimDOMOptions:y,dataURLOptions:g,inlineImages:w,recordCanvas:S,preserveWhiteSpace:F,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:O,onStylesheetLoad:A,stylesheetLoadTimeout:_,keepIframeSrcFn:T});e&&A(t,e)}}),_),Y}var Fo={exports:{}},Bo=String,Uo=function(){return{isColorSupported:!1,reset:Bo,bold:Bo,dim:Bo,italic:Bo,underline:Bo,inverse:Bo,hidden:Bo,strikethrough:Bo,black:Bo,red:Bo,green:Bo,yellow:Bo,blue:Bo,magenta:Bo,cyan:Bo,white:Bo,gray:Bo,bgBlack:Bo,bgRed:Bo,bgGreen:Bo,bgYellow:Bo,bgBlue:Bo,bgMagenta:Bo,bgCyan:Bo,bgWhite:Bo}};Fo.exports=Uo(),Fo.exports.createColors=Uo;var Yo=Fo.exports,Go=function(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),zo=Yo,Wo=Go,Zo=function(t){function e(t,r,n,o,i,a){var s;return Mn(this,e),(s=Cn(this,e,[t])).name="CssSyntaxError",s.reason=t,i&&(s.file=i),o&&(s.source=o),a&&(s.plugin=a),void 0!==r&&void 0!==n&&("number"==typeof r?(s.line=r,s.column=n):(s.line=r.line,s.column=r.column,s.endLine=n.line,s.endColumn=n.column)),s.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(s,e),s}return xn(e,t),jn(e,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}},{key:"showSourceCode",value:function(t){var e=this;if(!this.source)return"";var r=this.source;null==t&&(t=zo.isColorSupported),Wo&&t&&(r=Wo(r));var n,o,i=r.split(/\r?\n/),a=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),u=String(s).length;if(t){var c=zo.createColors(!0),l=c.bold,f=c.gray,h=c.red;n=function(t){return l(h(t))},o=function(t){return f(t)}}else n=o=function(t){return t};return i.slice(a,s).map((function(t,r){var i=a+1+r,s=" "+(" "+i).slice(-u)+" | ";if(i===e.line){var c=o(s.replace(/\d/g," "))+t.slice(0,e.column-1).replace(/[^\t]/g," ");return n(">")+o(s)+t+"\n "+c+n("^")}return" "+o(s)+t})).join("\n")}},{key:"toString",value:function(){var t=this.showSourceCode();return t&&(t="\n\n"+t+"\n"),this.name+": "+this.message+t}}])}(On(Error)),Vo=Zo;Zo.default=Zo;var Ho={};Ho.isClean=Symbol("isClean"),Ho.my=Symbol("my");var Jo={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},Xo=jn((function t(e){Mn(this,t),this.builder=e}),[{key:"atrule",value:function(t,e){var r="@"+t.name,n=t.params?this.rawValue(t,"params"):"";if(void 0!==t.raws.afterName?r+=t.raws.afterName:n&&(r+=" "),t.nodes)this.block(t,r+n);else{var o=(t.raws.between||"")+(e?";":"");this.builder(r+n+o,t)}}},{key:"beforeAfter",value:function(t,e){var r;r="decl"===t.type?this.raw(t,null,"beforeDecl"):"comment"===t.type?this.raw(t,null,"beforeComment"):"before"===e?this.raw(t,null,"beforeRule"):this.raw(t,null,"beforeClose");for(var n=t.parent,o=0;n&&"root"!==n.type;)o+=1,n=n.parent;if(r.includes("\n")){var i=this.raw(t,null,"indent");if(i.length)for(var a=0;a<o;a++)r+=i}return r}},{key:"block",value:function(t,e){var r,n=this.raw(t,"between","beforeOpen");this.builder(e+n+"{",t,"start"),t.nodes&&t.nodes.length?(this.body(t),r=this.raw(t,"after")):r=this.raw(t,"after","emptyBody"),r&&this.builder(r),this.builder("}",t,"end")}},{key:"body",value:function(t){for(var e=t.nodes.length-1;e>0&&"comment"===t.nodes[e].type;)e-=1;for(var r=this.raw(t,"semicolon"),n=0;n<t.nodes.length;n++){var o=t.nodes[n],i=this.raw(o,"before");i&&this.builder(i),this.stringify(o,e!==n||r)}}},{key:"comment",value:function(t){var e=this.raw(t,"left","commentLeft"),r=this.raw(t,"right","commentRight");this.builder("/*"+e+t.text+r+"*/",t)}},{key:"decl",value:function(t,e){var r=this.raw(t,"between","colon"),n=t.prop+r+this.rawValue(t,"value");t.important&&(n+=t.raws.important||" !important"),e&&(n+=";"),this.builder(n,t)}},{key:"document",value:function(t){this.body(t)}},{key:"raw",value:function(t,e,r){var n;if(r||(r=e),e&&void 0!==(n=t.raws[e]))return n;var o=t.parent;if("before"===r){if(!o||"root"===o.type&&o.first===t)return"";if(o&&"document"===o.type)return""}if(!o)return Jo[r];var i=t.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[r])return i.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(t,r);var a,s="raw"+((a=r)[0].toUpperCase()+a.slice(1));return this[s]?n=this[s](i,t):i.walk((function(t){if(void 0!==(n=t.raws[e]))return!1})),void 0===n&&(n=Jo[r]),i.rawCache[r]=n,n}},{key:"rawBeforeClose",value:function(t){var e;return t.walk((function(t){if(t.nodes&&t.nodes.length>0&&void 0!==t.raws.after)return(e=t.raws.after).includes("\n")&&(e=e.replace(/[^\n]+$/,"")),!1})),e&&(e=e.replace(/\S/g,"")),e}},{key:"rawBeforeComment",value:function(t,e){var r;return t.walkComments((function(t){if(void 0!==t.raws.before)return(r=t.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(e,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}},{key:"rawBeforeDecl",value:function(t,e){var r;return t.walkDecls((function(t){if(void 0!==t.raws.before)return(r=t.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(e,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}},{key:"rawBeforeOpen",value:function(t){var e;return t.walk((function(t){if("decl"!==t.type&&void 0!==(e=t.raws.between))return!1})),e}},{key:"rawBeforeRule",value:function(t){var e;return t.walk((function(r){if(r.nodes&&(r.parent!==t||t.first!==r)&&void 0!==r.raws.before)return(e=r.raws.before).includes("\n")&&(e=e.replace(/[^\n]+$/,"")),!1})),e&&(e=e.replace(/\S/g,"")),e}},{key:"rawColon",value:function(t){var e;return t.walkDecls((function(t){if(void 0!==t.raws.between)return e=t.raws.between.replace(/[^\s:]/g,""),!1})),e}},{key:"rawEmptyBody",value:function(t){var e;return t.walk((function(t){if(t.nodes&&0===t.nodes.length&&void 0!==(e=t.raws.after))return!1})),e}},{key:"rawIndent",value:function(t){return t.raws.indent?t.raws.indent:(t.walk((function(r){var n=r.parent;if(n&&n!==t&&n.parent&&n.parent===t&&void 0!==r.raws.before){var o=r.raws.before.split("\n");return e=(e=o[o.length-1]).replace(/\S/g,""),!1}})),e);var e}},{key:"rawSemicolon",value:function(t){var e;return t.walk((function(t){if(t.nodes&&t.nodes.length&&"decl"===t.last.type&&void 0!==(e=t.raws.semicolon))return!1})),e}},{key:"rawValue",value:function(t,e){var r=t[e],n=t.raws[e];return n&&n.value===r?n.raw:r}},{key:"root",value:function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)}},{key:"rule",value:function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")}},{key:"stringify",value:function(t,e){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,e)}}]),Ko=Xo;Xo.default=Xo;var qo=Ko;function Qo(t,e){new qo(e).stringify(t)}var $o=Qo;Qo.default=Qo;var ti=Ho.isClean,ei=Ho.my,ri=Vo,ni=Ko,oi=$o;function ii(t,e){var r=new t.constructor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"proxyCache"!==n){var o=t[n],i=Dn(o);"parent"===n&&"object"===i?e&&(r[n]=e):"source"===n?r[n]=o:Array.isArray(o)?r[n]=o.map((function(t){return ii(t,r)})):("object"===i&&null!==o&&(o=ii(o)),r[n]=o)}return r}var ai=jn((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var r in Mn(this,t),this.raws={},this[ti]=!1,this[ei]=!0,e)if("nodes"===r){this.nodes=[];var n,o=Rn(e[r]);try{for(o.s();!(n=o.n()).done;){var i=n.value;"function"==typeof i.clone?this.append(i.clone()):this.append(i)}}catch(t){o.e(t)}finally{o.f()}}else this[r]=e[r]}),[{key:"addToError",value:function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var e=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&".concat(e.input.from,":").concat(e.start.line,":").concat(e.start.column,"$&"))}return t}},{key:"after",value:function(t){return this.parent.insertAfter(this,t),this}},{key:"assign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in t)this[e]=t[e];return this}},{key:"before",value:function(t){return this.parent.insertBefore(this,t),this}},{key:"cleanRaws",value:function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ii(this);for(var r in t)e[r]=t[r];return e}},{key:"cloneAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.clone(t);return this.parent.insertAfter(this,e),e}},{key:"cloneBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.clone(t);return this.parent.insertBefore(this,e),e}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var r=this.rangeBy(e),n=r.end,o=r.start;return this.source.input.error(t,{column:o.column,line:o.line},{column:n.column,line:n.line},e)}return new ri(t)}},{key:"getProxyProcessor",value:function(){return{get:function(t,e){return"proxyOf"===e?t:"root"===e?function(){return t.root().toProxy()}:t[e]},set:function(t,e,r){return t[e]===r||(t[e]=r,"prop"!==e&&"value"!==e&&"name"!==e&&"params"!==e&&"important"!==e&&"text"!==e||t.markDirty()),!0}}}},{key:"markDirty",value:function(){if(this[ti]){this[ti]=!1;for(var t=this;t=t.parent;)t[ti]=!1}}},{key:"next",value:function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}}},{key:"positionBy",value:function(t,e){var r=this.source.start;if(t.index)r=this.positionInside(t.index,e);else if(t.word){var n=(e=this.toString()).indexOf(t.word);-1!==n&&(r=this.positionInside(n,e))}return r}},{key:"positionInside",value:function(t,e){for(var r=e||this.toString(),n=this.source.start.column,o=this.source.start.line,i=0;i<t;i++)"\n"===r[i]?(n=1,o+=1):n+=1;return{column:n,line:o}}},{key:"prev",value:function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}}},{key:"rangeBy",value:function(t){var e={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:e.column+1,line:e.line};if(t.word){var n=this.toString(),o=n.indexOf(t.word);-1!==o&&(e=this.positionInside(o,n),r=this.positionInside(o+t.word.length,n))}else t.start?e={column:t.start.column,line:t.start.line}:t.index&&(e=this.positionInside(t.index)),t.end?r={column:t.end.column,line:t.end.line}:"number"==typeof t.endIndex?r=this.positionInside(t.endIndex):t.index&&(r=this.positionInside(t.index+1));return(r.line<e.line||r.line===e.line&&r.column<=e.column)&&(r={column:e.column+1,line:e.line}),{end:r,start:e}}},{key:"raw",value:function(t,e){return(new ni).raw(this,t,e)}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}},{key:"replaceWith",value:function(){if(this.parent){for(var t=this,e=!1,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(var i=0,a=n;i<a.length;i++){var s=a[i];s===this?e=!0:e?(this.parent.insertAfter(t,s),t=s):this.parent.insertBefore(t,s)}e||this.remove()}return this}},{key:"root",value:function(){for(var t=this;t.parent&&"document"!==t.parent.type;)t=t.parent;return t}},{key:"toJSON",value:function(t,e){var r={},n=null==e;e=e||new Map;var o=0;for(var i in this)if(Object.prototype.hasOwnProperty.call(this,i)&&"parent"!==i&&"proxyCache"!==i){var a=this[i];if(Array.isArray(a))r[i]=a.map((function(t){return"object"===Dn(t)&&t.toJSON?t.toJSON(null,e):t}));else if("object"===Dn(a)&&a.toJSON)r[i]=a.toJSON(null,e);else if("source"===i){var s=e.get(a.input);null==s&&(s=o,e.set(a.input,o),o++),r[i]={end:a.end,inputId:s,start:a.start}}else r[i]=a}return n&&(r.inputs=In(e.keys()).map((function(t){return t.toJSON()}))),r}},{key:"toProxy",value:function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi;t.stringify&&(t=t.stringify);var e="";return t(this,(function(t){e+=t})),e}},{key:"warn",value:function(t,e,r){var n={node:this};for(var o in r)n[o]=r[o];return t.warn(e,n)}},{key:"proxyOf",get:function(){return this}}]),si=ai;ai.default=ai;var ui=function(t){function e(t){var r;return Mn(this,e),t&&void 0!==t.value&&"string"!=typeof t.value&&(t=kn(kn({},t),{},{value:String(t.value)})),(r=Cn(this,e,[t])).type="decl",r}return xn(e,t),jn(e,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(si),ci=ui;ui.default=ui;var li=Go.SourceMapConsumer,fi=Go.SourceMapGenerator,hi=Go.existsSync,pi=Go.readFileSync,di=Go.dirname,vi=Go.join,yi=jn((function t(e,r){if(Mn(this,t),!1!==r.map){this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var n=r.map?r.map.prev:void 0,o=this.loadMap(r.from,n);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=di(this.mapFile)),o&&(this.text=o)}}),[{key:"consumer",value:function(){return this.consumerCache||(this.consumerCache=new li(this.text)),this.consumerCache}},{key:"decodeInline",value:function(t){var r;if(/^data:application\/json;charset=utf-?8,/.test(t)||/^data:application\/json,/.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(t)||/^data:application\/json;base64,/.test(t))return r=t.substr(RegExp.lastMatch.length),e?e.from(r,"base64").toString():window.atob(r);var n=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}},{key:"getAnnotationURL",value:function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(t){return"object"===Dn(t)&&("string"==typeof t.mappings||"string"==typeof t._mappings||Array.isArray(t.sections))}},{key:"loadAnnotation",value:function(t){var e=t.match(/\/\*\s*# sourceMappingURL=/gm);if(e){var r=t.lastIndexOf(e.pop()),n=t.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(t.substring(r,n)))}}},{key:"loadFile",value:function(t){if(this.root=di(t),hi(t))return this.mapFile=t,pi(t,"utf-8").toString().trim()}},{key:"loadMap",value:function(t,e){if(!1===e)return!1;if(e){if("string"==typeof e)return e;if("function"!=typeof e){if(e instanceof li)return fi.fromSourceMap(e).toString();if(e instanceof fi)return e.toString();if(this.isMap(e))return JSON.stringify(e);throw new Error("Unsupported previous source map format: "+e.toString())}var r=e(t);if(r){var n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var o=this.annotation;return t&&(o=vi(di(t),o)),this.loadFile(o)}}}},{key:"startWith",value:function(t,e){return!!t&&t.substr(0,e.length)===e}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}]),mi=yi;yi.default=yi;var gi=Go.SourceMapConsumer,bi=Go.SourceMapGenerator,wi=Go.fileURLToPath,ki=Go.pathToFileURL,Si=Go.isAbsolute,Ii=Go.resolve,Ci=function(){for(var t="",e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},xi=Go,Oi=Vo,Ai=mi,Ei=Symbol("fromOffsetCache"),_i=Boolean(gi&&bi),Ri=Boolean(Ii&&Si),Ti=jn((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Mn(this,t),null==e||"object"===Dn(e)&&!e.toString)throw new Error("PostCSS received ".concat(e," instead of CSS string"));if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,r.from&&(!Ri||/^\w+:\/\//.test(r.from)||Si(r.from)?this.file=r.from:this.file=Ii(r.from)),Ri&&_i){var n=new Ai(this.css,r);if(n.text){this.map=n;var o=n.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+Ci(6)+">"),this.map&&(this.map.file=this.from)}),[{key:"error",value:function(t,e,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e&&"object"===Dn(e)){var s=e,u=r;if("number"==typeof s.offset){var c=this.fromOffset(s.offset);e=c.line,r=c.col}else e=s.line,r=s.column;if("number"==typeof u.offset){var l=this.fromOffset(u.offset);o=l.line,i=l.col}else o=u.line,i=u.column}else if(!r){var f=this.fromOffset(e);e=f.line,r=f.col}var h=this.origin(e,r,o,i);return(n=h?new Oi(t,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,a.plugin):new Oi(t,void 0===o?e:{column:r,line:e},void 0===o?r:{column:i,line:o},this.css,this.file,a.plugin)).input={column:r,endColumn:i,endLine:o,line:e,source:this.css},this.file&&(ki&&(n.input.url=ki(this.file).toString()),n.input.file=this.file),n}},{key:"fromOffset",value:function(t){var e;if(this[Ei])e=this[Ei];else{var r=this.css.split("\n");e=new Array(r.length);for(var n=0,o=0,i=r.length;o<i;o++)e[o]=n,n+=r[o].length+1;this[Ei]=e}var a=0;if(t>=e[e.length-1])a=e.length-1;else for(var s,u=e.length-2;a<u;)if(t<e[s=a+(u-a>>1)])u=s-1;else{if(!(t>=e[s+1])){a=s;break}a=s+1}return{col:t-e[a]+1,line:a+1}}},{key:"mapResolve",value:function(t){return/^\w+:\/\//.test(t)?t:Ii(this.map.consumer().sourceRoot||this.map.root||".",t)}},{key:"origin",value:function(t,e,r,n){if(!this.map)return!1;var o,i,a=this.map.consumer(),s=a.originalPositionFor({column:e,line:t});if(!s.source)return!1;"number"==typeof r&&(o=a.originalPositionFor({column:n,line:r})),i=Si(s.source)?ki(s.source):new URL(s.source,this.map.consumer().sourceRoot||ki(this.map.mapFile));var u={column:s.column,endColumn:o&&o.column,endLine:o&&o.line,line:s.line,url:i.toString()};if("file:"===i.protocol){if(!wi)throw new Error("file: protocol is not available in this PostCSS build");u.file=wi(i)}var c=a.sourceContentFor(s.source);return c&&(u.source=c),u}},{key:"toJSON",value:function(){for(var t={},e=0,r=["hasBOM","css","file","id"];e<r.length;e++){var n=r[e];null!=this[n]&&(t[n]=this[n])}return this.map&&(t.map=kn({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t}},{key:"from",get:function(){return this.file||this.id}}]),Pi=Ti;Ti.default=Ti,xi&&xi.registerInput&&xi.registerInput(Ti);var Mi=Go.SourceMapConsumer,Li=Go.SourceMapGenerator,ji=Go.dirname,Ni=Go.relative,Di=Go.resolve,Fi=Go.sep,Bi=Go.pathToFileURL,Ui=Pi,Yi=Boolean(Mi&&Li),Gi=Boolean(ji&&Di&&Ni&&Fi),zi=jn((function t(e,r,n,o){Mn(this,t),this.stringify=e,this.mapOpts=n.map||{},this.root=r,this.opts=n,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}),[{key:"addAnnotation",value:function(){var t;t=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var e="\n";this.css.includes("\r\n")&&(e="\r\n"),this.css+=e+"/*# sourceMappingURL="+t+" */"}},{key:"applyPrevMaps",value:function(){var t,e=Rn(this.previous());try{for(e.s();!(t=e.n()).done;){var r=t.value,n=this.toUrl(this.path(r.file)),o=r.root||ji(r.file),i=void 0;!1===this.mapOpts.sourcesContent?(i=new Mi(r.text)).sourcesContent&&(i.sourcesContent=null):i=r.consumer(),this.map.applySourceMap(i,n,this.toUrl(this.path(o)))}}catch(t){e.e(t)}finally{e.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var t,e=this.root.nodes.length-1;e>=0;e--)"comment"===(t=this.root.nodes[e]).type&&0===t.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(e);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){if(this.clearAnnotation(),Gi&&Yi&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,(function(e){t+=e})),[t]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=Li.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new Li({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var t=this;this.css="",this.map=new Li({file:this.outputFile(),ignoreInvalidMapping:!0});var e,r,n=1,o=1,i="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(function(s,u,c){if(t.css+=s,u&&"end"!==c&&(a.generated.line=n,a.generated.column=o-1,u.source&&u.source.start?(a.source=t.sourcePath(u),a.original.line=u.source.start.line,a.original.column=u.source.start.column-1,t.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,t.map.addMapping(a))),(e=s.match(/\n/g))?(n+=e.length,r=s.lastIndexOf("\n"),o=s.length-r):o+=s.length,u&&"start"!==c){var l=u.parent||{raws:{}};("decl"===u.type||"atrule"===u.type&&!u.nodes)&&u===l.last&&!l.raws.semicolon||(u.source&&u.source.end?(a.source=t.sourcePath(u),a.original.line=u.source.end.line,a.original.column=u.source.end.column-1,a.generated.line=n,a.generated.column=o-2,t.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,a.generated.line=n,a.generated.column=o-1,t.map.addMapping(a)))}}))}},{key:"isAnnotation",value:function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((function(t){return t.annotation})))}},{key:"isInline",value:function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var t=this.mapOpts.annotation;return(void 0===t||!0===t)&&(!this.previous().length||this.previous().some((function(t){return t.inline})))}},{key:"isMap",value:function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}},{key:"isSourcesContent",value:function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((function(t){return t.withContent()}))}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(t){if(this.mapOpts.absolute)return t;if(60===t.charCodeAt(0))return t;if(/^\w+:\/\//.test(t))return t;var e=this.memoizedPaths.get(t);if(e)return e;var r=this.opts.to?ji(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=ji(Di(r,this.mapOpts.annotation)));var n=Ni(r,t);return this.memoizedPaths.set(t,n),n}},{key:"previous",value:function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((function(e){if(e.source&&e.source.input.map){var r=e.source.input.map;t.previousMaps.includes(r)||t.previousMaps.push(r)}}));else{var e=new Ui(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var t=this,e={};if(this.root)this.root.walk((function(r){if(r.source){var n=r.source.input.from;if(n&&!e[n]){e[n]=!0;var o=t.usesFileUrls?t.toFileUrl(n):t.toUrl(t.path(n));t.map.setSourceContent(o,r.source.input.css)}}}));else if(this.css){var r=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(r,this.css)}}},{key:"sourcePath",value:function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))}},{key:"toBase64",value:function(t){return e?e.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))}},{key:"toFileUrl",value:function(t){var e=this.memoizedFileURLs.get(t);if(e)return e;if(Bi){var r=Bi(t).toString();return this.memoizedFileURLs.set(t,r),r}throw new Error("`map.absolute` option is not available in this PostCSS build")}},{key:"toUrl",value:function(t){var e=this.memoizedURLs.get(t);if(e)return e;"\\"===Fi&&(t=t.replace(/\\/g,"/"));var r=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,r),r}}]),Wi=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[t])).type="comment",r}return xn(e,t),jn(e)}(si),Zi=Wi;Wi.default=Wi;var Vi,Hi,Ji,Xi,Ki=Ho.isClean,qi=Ho.my,Qi=ci,$i=Zi,ta=function(t){function e(){return Mn(this,e),Cn(this,e,arguments)}return xn(e,t),jn(e,[{key:"append",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,o=e;n<o.length;n++){var i,a=o[n],s=Rn(this.normalize(a,this.last));try{for(s.s();!(i=s.n()).done;){var u=i.value;this.proxyOf.nodes.push(u)}}catch(t){s.e(t)}finally{s.f()}}return this.markDirty(),this}},{key:"cleanRaws",value:function(t){if(gn(e,"cleanRaws",this,3)([t]),this.nodes){var r,n=Rn(this.nodes);try{for(n.s();!(r=n.n()).done;)r.value.cleanRaws(t)}catch(t){n.e(t)}finally{n.f()}}}},{key:"each",value:function(t){if(this.proxyOf.nodes){for(var e,r,n=this.getIterator();this.indexes[n]<this.proxyOf.nodes.length&&(e=this.indexes[n],!1!==(r=t(this.proxyOf.nodes[e],e)));)this.indexes[n]+=1;return delete this.indexes[n],r}}},{key:"every",value:function(t){return this.nodes.every(t)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var t=this.lastEach;return this.indexes[t]=0,t}},{key:"getProxyProcessor",value:function(){return{get:function(t,e){return"proxyOf"===e?t:t[e]?"each"===e||"string"==typeof e&&e.startsWith("walk")?function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t[e].apply(t,In(n.map((function(t){return"function"==typeof t?function(e,r){return t(e.toProxy(),r)}:t}))))}:"every"===e||"some"===e?function(r){return t[e]((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return r.apply(void 0,[t.toProxy()].concat(n))}))}:"root"===e?function(){return t.root().toProxy()}:"nodes"===e?t.nodes.map((function(t){return t.toProxy()})):"first"===e||"last"===e?t[e].toProxy():t[e]:t[e]},set:function(t,e,r){return t[e]===r||(t[e]=r,"name"!==e&&"params"!==e&&"selector"!==e||t.markDirty()),!0}}}},{key:"index",value:function(t){return"number"==typeof t?t:(t.proxyOf&&(t=t.proxyOf),this.proxyOf.nodes.indexOf(t))}},{key:"insertAfter",value:function(t,e){var r=this.index(t),n=this.normalize(e,this.proxyOf.nodes[r]).reverse();r=this.index(t);var o,i,a=Rn(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.proxyOf.nodes.splice(r+1,0,s)}}catch(t){a.e(t)}finally{a.f()}for(var u in this.indexes)r<(i=this.indexes[u])&&(this.indexes[u]=i+n.length);return this.markDirty(),this}},{key:"insertBefore",value:function(t,e){var r=this.index(t),n=0===r&&"prepend",o=this.normalize(e,this.proxyOf.nodes[r],n).reverse();r=this.index(t);var i,a,s=Rn(o);try{for(s.s();!(i=s.n()).done;){var u=i.value;this.proxyOf.nodes.splice(r,0,u)}}catch(t){s.e(t)}finally{s.f()}for(var c in this.indexes)r<=(a=this.indexes[c])&&(this.indexes[c]=a+o.length);return this.markDirty(),this}},{key:"normalize",value:function(t,r){var n=this;if("string"==typeof t)t=function t(e){return e.map((function(e){return e.nodes&&(e.nodes=t(e.nodes)),delete e.source,e}))}(Vi(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t)){var o,i=Rn(t=t.slice(0));try{for(i.s();!(o=i.n()).done;){var a=o.value;a.parent&&a.parent.removeChild(a,"ignore")}}catch(t){i.e(t)}finally{i.f()}}else if("root"===t.type&&"document"!==this.type){var s,u=Rn(t=t.nodes.slice(0));try{for(u.s();!(s=u.n()).done;){var c=s.value;c.parent&&c.parent.removeChild(c,"ignore")}}catch(t){u.e(t)}finally{u.f()}}else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new Qi(t)]}else if(t.selector)t=[new Hi(t)];else if(t.name)t=[new Ji(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new $i(t)]}return t.map((function(t){return t[qi]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[Ki]&&function t(e){if(e[Ki]=!1,e.proxyOf.nodes){var r,n=Rn(e.proxyOf.nodes);try{for(n.s();!(r=n.n()).done;)t(r.value)}catch(e){n.e(e)}finally{n.f()}}}(t),void 0===t.raws.before&&r&&void 0!==r.raws.before&&(t.raws.before=r.raws.before.replace(/\S/g,"")),t.parent=n.proxyOf,t}))}},{key:"prepend",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,o=Rn(e=e.reverse());try{for(o.s();!(n=o.n()).done;){var i,a=n.value,s=this.normalize(a,this.first,"prepend").reverse(),u=Rn(s);try{for(u.s();!(i=u.n()).done;){var c=i.value;this.proxyOf.nodes.unshift(c)}}catch(t){u.e(t)}finally{u.f()}for(var l in this.indexes)this.indexes[l]=this.indexes[l]+s.length}}catch(t){o.e(t)}finally{o.f()}return this.markDirty(),this}},{key:"push",value:function(t){return t.parent=this,this.proxyOf.nodes.push(t),this}},{key:"removeAll",value:function(){var t,e=Rn(this.proxyOf.nodes);try{for(e.s();!(t=e.n()).done;)t.value.parent=void 0}catch(t){e.e(t)}finally{e.f()}return this.proxyOf.nodes=[],this.markDirty(),this}},{key:"removeChild",value:function(t){var e;for(var r in t=this.index(t),this.proxyOf.nodes[t].parent=void 0,this.proxyOf.nodes.splice(t,1),this.indexes)(e=this.indexes[r])>=t&&(this.indexes[r]=e-1);return this.markDirty(),this}},{key:"replaceValues",value:function(t,e,r){return r||(r=e,e={}),this.walkDecls((function(n){e.props&&!e.props.includes(n.prop)||e.fast&&!n.value.includes(e.fast)||(n.value=n.value.replace(t,r))})),this.markDirty(),this}},{key:"some",value:function(t){return this.nodes.some(t)}},{key:"walk",value:function(t){return this.each((function(e,r){var n;try{n=t(e,r)}catch(t){throw e.addToError(t)}return!1!==n&&e.walk&&(n=e.walk(t)),n}))}},{key:"walkAtRules",value:function(t,e){return e?t instanceof RegExp?this.walk((function(r,n){if("atrule"===r.type&&t.test(r.name))return e(r,n)})):this.walk((function(r,n){if("atrule"===r.type&&r.name===t)return e(r,n)})):(e=t,this.walk((function(t,r){if("atrule"===t.type)return e(t,r)})))}},{key:"walkComments",value:function(t){return this.walk((function(e,r){if("comment"===e.type)return t(e,r)}))}},{key:"walkDecls",value:function(t,e){return e?t instanceof RegExp?this.walk((function(r,n){if("decl"===r.type&&t.test(r.prop))return e(r,n)})):this.walk((function(r,n){if("decl"===r.type&&r.prop===t)return e(r,n)})):(e=t,this.walk((function(t,r){if("decl"===t.type)return e(t,r)})))}},{key:"walkRules",value:function(t,e){return e?t instanceof RegExp?this.walk((function(r,n){if("rule"===r.type&&t.test(r.selector))return e(r,n)})):this.walk((function(r,n){if("rule"===r.type&&r.selector===t)return e(r,n)})):(e=t,this.walk((function(t,r){if("rule"===t.type)return e(t,r)})))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(si);ta.registerParse=function(t){Vi=t},ta.registerRule=function(t){Hi=t},ta.registerAtRule=function(t){Ji=t},ta.registerRoot=function(t){Xi=t};var ea=ta;ta.default=ta,ta.rebuild=function(t){"atrule"===t.type?Object.setPrototypeOf(t,Ji.prototype):"rule"===t.type?Object.setPrototypeOf(t,Hi.prototype):"decl"===t.type?Object.setPrototypeOf(t,Qi.prototype):"comment"===t.type?Object.setPrototypeOf(t,$i.prototype):"root"===t.type&&Object.setPrototypeOf(t,Xi.prototype),t[qi]=!0,t.nodes&&t.nodes.forEach((function(t){ta.rebuild(t)}))};var ra,na,oa=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[kn({type:"document"},t)])).nodes||(r.nodes=[]),r}return xn(e,t),jn(e,[{key:"toResult",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ra(new na,this,t).stringify()}}])}(ea);oa.registerLazyResult=function(t){ra=t},oa.registerProcessor=function(t){na=t};var ia=oa;oa.default=oa;var aa=jn((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Mn(this,t),this.type="warning",this.text=e,r.node&&r.node.source){var n=r.node.rangeBy(r);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(var o in r)this[o]=r[o]}),[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}]),sa=aa;aa.default=aa;var ua=sa,ca=jn((function t(e,r,n){Mn(this,t),this.processor=e,this.messages=[],this.root=r,this.opts=n,this.css=void 0,this.map=void 0}),[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(e.plugin=this.lastPlugin.postcssPlugin);var r=new ua(t,e);return this.messages.push(r),r}},{key:"warnings",value:function(){return this.messages.filter((function(t){return"warning"===t.type}))}},{key:"content",get:function(){return this.css}}]),la=ca;ca.default=ca;var fa="'".charCodeAt(0),ha='"'.charCodeAt(0),pa="\\".charCodeAt(0),da="/".charCodeAt(0),va="\n".charCodeAt(0),ya=" ".charCodeAt(0),ma="\f".charCodeAt(0),ga="\t".charCodeAt(0),ba="\r".charCodeAt(0),wa="[".charCodeAt(0),ka="]".charCodeAt(0),Sa="(".charCodeAt(0),Ia=")".charCodeAt(0),Ca="{".charCodeAt(0),xa="}".charCodeAt(0),Oa=";".charCodeAt(0),Aa="*".charCodeAt(0),Ea=":".charCodeAt(0),_a="@".charCodeAt(0),Ra=/[\t\n\f\r "#'()/;[\\\]{}]/g,Ta=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Pa=/.[\r\n"'(/\\]/,Ma=/[\da-f]/i,La=ea,ja=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[t])).type="atrule",r}return xn(e,t),jn(e,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gn(e,"append",this,3)(r)}},{key:"prepend",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gn(e,"prepend",this,3)(r)}}])}(La),Na=ja;ja.default=ja,La.registerAtRule(ja);var Da,Fa,Ba=ea,Ua=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[t])).type="root",r.nodes||(r.nodes=[]),r}return xn(e,t),jn(e,[{key:"normalize",value:function(t,r,n){var o=gn(e,"normalize",this,3)([t]);if(r)if("prepend"===n)this.nodes.length>1?r.raws.before=this.nodes[1].raws.before:delete r.raws.before;else if(this.first!==r){var i,a=Rn(o);try{for(a.s();!(i=a.n()).done;)i.value.raws.before=r.raws.before}catch(t){a.e(t)}finally{a.f()}}return o}},{key:"removeChild",value:function(t,r){var n=this.index(t);return!r&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),gn(e,"removeChild",this,3)([t])}},{key:"toResult",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Da(new Fa,this,t).stringify()}}])}(Ba);Ua.registerLazyResult=function(t){Da=t},Ua.registerProcessor=function(t){Fa=t};var Ya=Ua;Ua.default=Ua,Ba.registerRoot(Ua);var Ga={comma:function(t){return Ga.split(t,[","],!0)},space:function(t){return Ga.split(t,[" ","\n","\t"])},split:function(t,e,r){var n,o=[],i="",a=!1,s=0,u=!1,c="",l=!1,f=Rn(t);try{for(f.s();!(n=f.n()).done;){var h=n.value;l?l=!1:"\\"===h?l=!0:u?h===c&&(u=!1):'"'===h||"'"===h?(u=!0,c=h):"("===h?s+=1:")"===h?s>0&&(s-=1):0===s&&e.includes(h)&&(a=!0),a?(""!==i&&o.push(i.trim()),i="",a=!1):i+=h}}catch(t){f.e(t)}finally{f.f()}return(r||""!==i)&&o.push(i.trim()),o}},za=Ga;Ga.default=Ga;var Wa=ea,Za=za,Va=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[t])).type="rule",r.nodes||(r.nodes=[]),r}return xn(e,t),jn(e,[{key:"selectors",get:function(){return Za.comma(this.selector)},set:function(t){var e=this.selector?this.selector.match(/,\s*/):null,r=e?e[0]:","+this.raw("between","beforeOpen");this.selector=t.join(r)}}])}(Wa),Ha=Va;Va.default=Va,Wa.registerRule(Va);var Ja=ci,Xa=Zi,Ka=Na,qa=Ya,Qa=Ha,$a={empty:!0,space:!0},ts=ea,es=jn((function t(e){Mn(this,t),this.input=e,this.root=new qa,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}),[{key:"atrule",value:function(t){var e,r,n,o=new Ka;o.name=t[1].slice(1),""===o.name&&this.unnamedAtrule(o,t),this.init(o,t[2]);for(var i=!1,a=!1,s=[],u=[];!this.tokenizer.endOfFile();){if("("===(e=(t=this.tokenizer.nextToken())[0])||"["===e?u.push("("===e?")":"]"):"{"===e&&u.length>0?u.push("}"):e===u[u.length-1]&&u.pop(),0===u.length){if(";"===e){o.source.end=this.getPosition(t[2]),o.source.end.offset++,this.semicolon=!0;break}if("{"===e){a=!0;break}if("}"===e){if(s.length>0){for(r=s[n=s.length-1];r&&"space"===r[0];)r=s[--n];r&&(o.source.end=this.getPosition(r[3]||r[2]),o.source.end.offset++)}this.end(t);break}s.push(t)}else s.push(t);if(this.tokenizer.endOfFile()){i=!0;break}}o.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(o.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(o,"params",s),i&&(t=s[s.length-1],o.source.end=this.getPosition(t[3]||t[2]),o.source.end.offset++,this.spaces=o.raws.between,o.raws.between="")):(o.raws.afterName="",o.params=""),a&&(o.nodes=[],this.current=o)}},{key:"checkMissedSemicolon",value:function(t){var e=this.colon(t);if(!1!==e){for(var r,n=0,o=e-1;o>=0&&("space"===(r=t[o])[0]||2!==(n+=1));o--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}}},{key:"colon",value:function(t){var e,r,n,o,i=0,a=Rn(t.entries());try{for(a.s();!(o=a.n()).done;){var s=mn(o.value,2),u=s[0];if("("===(r=(e=s[1])[0])&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return u}this.doubleColon(e)}n=e}}catch(t){a.e(t)}finally{a.f()}return!1}},{key:"comment",value:function(t){var e=new Xa;this.init(e,t[2]),e.source.end=this.getPosition(t[3]||t[2]),e.source.end.offset++;var r=t[1].slice(2,-2);if(/^\s*$/.test(r))e.text="",e.raws.left=r,e.raws.right="";else{var n=r.match(/^(\s*)([^]*\S)(\s*)$/);e.text=n[2],e.raws.left=n[1],e.raws.right=n[3]}}},{key:"createTokenizer",value:function(){this.tokenizer=function(t){var e,r,n,o,i,a,s,u,c,l,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=t.css.valueOf(),p=f.ignoreErrors,d=h.length,v=0,y=[],m=[];function g(e){throw t.error("Unclosed "+e,v)}return{back:function(t){m.push(t)},endOfFile:function(){return 0===m.length&&v>=d},nextToken:function(t){if(m.length)return m.pop();if(!(v>=d)){var f=!!t&&t.ignoreUnclosed;switch(e=h.charCodeAt(v)){case va:case ya:case ga:case ba:case ma:r=v;do{r+=1,e=h.charCodeAt(r)}while(e===ya||e===va||e===ga||e===ba||e===ma);l=["space",h.slice(v,r)],v=r-1;break;case wa:case ka:case Ca:case xa:case Ea:case Oa:case Ia:var b=String.fromCharCode(e);l=[b,b,v];break;case Sa:if(u=y.length?y.pop()[1]:"",c=h.charCodeAt(v+1),"url"===u&&c!==fa&&c!==ha&&c!==ya&&c!==va&&c!==ga&&c!==ma&&c!==ba){r=v;do{if(a=!1,-1===(r=h.indexOf(")",r+1))){if(p||f){r=v;break}g("bracket")}for(s=r;h.charCodeAt(s-1)===pa;)s-=1,a=!a}while(a);l=["brackets",h.slice(v,r+1),v,r],v=r}else r=h.indexOf(")",v+1),o=h.slice(v,r+1),-1===r||Pa.test(o)?l=["(","(",v]:(l=["brackets",o,v,r],v=r);break;case fa:case ha:n=e===fa?"'":'"',r=v;do{if(a=!1,-1===(r=h.indexOf(n,r+1))){if(p||f){r=v+1;break}g("string")}for(s=r;h.charCodeAt(s-1)===pa;)s-=1,a=!a}while(a);l=["string",h.slice(v,r+1),v,r],v=r;break;case _a:Ra.lastIndex=v+1,Ra.test(h),r=0===Ra.lastIndex?h.length-1:Ra.lastIndex-2,l=["at-word",h.slice(v,r+1),v,r],v=r;break;case pa:for(r=v,i=!0;h.charCodeAt(r+1)===pa;)r+=1,i=!i;if(e=h.charCodeAt(r+1),i&&e!==da&&e!==ya&&e!==va&&e!==ga&&e!==ba&&e!==ma&&(r+=1,Ma.test(h.charAt(r)))){for(;Ma.test(h.charAt(r+1));)r+=1;h.charCodeAt(r+1)===ya&&(r+=1)}l=["word",h.slice(v,r+1),v,r],v=r;break;default:e===da&&h.charCodeAt(v+1)===Aa?(0===(r=h.indexOf("*/",v+2)+1)&&(p||f?r=h.length:g("comment")),l=["comment",h.slice(v,r+1),v,r],v=r):(Ta.lastIndex=v+1,Ta.test(h),r=0===Ta.lastIndex?h.length-1:Ta.lastIndex-2,l=["word",h.slice(v,r+1),v,r],y.push(l),v=r)}return v++,l}},position:function(){return v}}}(this.input)}},{key:"decl",value:function(t,e){var r=new Ja;this.init(r,t[0][2]);var n,o=t[t.length-1];for(";"===o[0]&&(this.semicolon=!0,t.pop()),r.source.end=this.getPosition(o[3]||o[2]||function(t){for(var e=t.length-1;e>=0;e--){var r=t[e],n=r[3]||r[2];if(n)return n}}(t)),r.source.end.offset++;"word"!==t[0][0];)1===t.length&&this.unknownWord(t),r.raws.before+=t.shift()[1];for(r.source.start=this.getPosition(t[0][2]),r.prop="";t.length;){var i=t[0][0];if(":"===i||"space"===i||"comment"===i)break;r.prop+=t.shift()[1]}for(r.raws.between="";t.length;){if(":"===(n=t.shift())[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));for(var a,s=[];t.length&&("space"===(a=t[0][0])||"comment"===a);)s.push(t.shift());this.precheckMissedSemicolon(t);for(var u=t.length-1;u>=0;u--){if("!important"===(n=t[u])[1].toLowerCase()){r.important=!0;var c=this.stringFrom(t,u);" !important"!==(c=this.spacesFromEnd(t)+c)&&(r.raws.important=c);break}if("important"===n[1].toLowerCase()){for(var l=t.slice(0),f="",h=u;h>0;h--){var p=l[h][0];if(0===f.trim().indexOf("!")&&"space"!==p)break;f=l.pop()[1]+f}0===f.trim().indexOf("!")&&(r.important=!0,r.raws.important=f,t=l)}if("space"!==n[0]&&"comment"!==n[0])break}t.some((function(t){return"space"!==t[0]&&"comment"!==t[0]}))&&(r.raws.between+=s.map((function(t){return t[1]})).join(""),s=[]),this.raw(r,"value",s.concat(t),e),r.value.includes(":")&&!e&&this.checkMissedSemicolon(t)}},{key:"doubleColon",value:function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})}},{key:"emptyRule",value:function(t){var e=new Qa;this.init(e,t[2]),e.selector="",e.raws.between="",this.current=e}},{key:"end",value:function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)}},{key:"endFile",value:function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(t){if(this.spaces+=t[1],this.current.nodes){var e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}},{key:"getPosition",value:function(t){var e=this.input.fromOffset(t);return{column:e.col,line:e.line,offset:t}}},{key:"init",value:function(t,e){this.current.push(t),t.source={input:this.input,start:this.getPosition(e)},t.raws.before=this.spaces,this.spaces="","comment"!==t.type&&(this.semicolon=!1)}},{key:"other",value:function(t){for(var e=!1,r=null,n=!1,o=null,i=[],a=t[1].startsWith("--"),s=[],u=t;u;){if(r=u[0],s.push(u),"("===r||"["===r)o||(o=u),i.push("("===r?")":"]");else if(a&&n&&"{"===r)o||(o=u),i.push("}");else if(0===i.length){if(";"===r){if(n)return void this.decl(s,a);break}if("{"===r)return void this.rule(s);if("}"===r){this.tokenizer.back(s.pop()),e=!0;break}":"===r&&(n=!0)}else r===i[i.length-1]&&(i.pop(),0===i.length&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(e=!0),i.length>0&&this.unclosedBracket(o),e&&n){if(!a)for(;s.length&&("space"===(u=s[s.length-1][0])||"comment"===u);)this.tokenizer.back(s.pop());this.decl(s,a)}else this.unknownWord(s)}},{key:"parse",value:function(){for(var t;!this.tokenizer.endOfFile();)switch((t=this.tokenizer.nextToken())[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(t,e,r,n){for(var o,i,a,s,u=r.length,c="",l=!0,f=0;f<u;f+=1)"space"!==(i=(o=r[f])[0])||f!==u-1||n?"comment"===i?(s=r[f-1]?r[f-1][0]:"empty",a=r[f+1]?r[f+1][0]:"empty",$a[s]||$a[a]||","===c.slice(-1)?l=!1:c+=o[1]):c+=o[1]:l=!1;if(!l){var h=r.reduce((function(t,e){return t+e[1]}),"");t.raws[e]={raw:h,value:c}}t[e]=c}},{key:"rule",value:function(t){t.pop();var e=new Qa;this.init(e,t[0][2]),e.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(e,"selector",t),this.current=e}},{key:"spacesAndCommentsFromEnd",value:function(t){for(var e,r="";t.length&&("space"===(e=t[t.length-1][0])||"comment"===e);)r=t.pop()[1]+r;return r}},{key:"spacesAndCommentsFromStart",value:function(t){for(var e,r="";t.length&&("space"===(e=t[0][0])||"comment"===e);)r+=t.shift()[1];return r}},{key:"spacesFromEnd",value:function(t){for(var e="";t.length&&"space"===t[t.length-1][0];)e=t.pop()[1]+e;return e}},{key:"stringFrom",value:function(t,e){for(var r="",n=e;n<t.length;n++)r+=t[n][1];return t.splice(e,t.length-e),r}},{key:"unclosedBlock",value:function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)}},{key:"unclosedBracket",value:function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})}},{key:"unexpectedClose",value:function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})}},{key:"unknownWord",value:function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})}},{key:"unnamedAtrule",value:function(t,e){throw this.input.error("At-rule without name",{offset:e[2]},{offset:e[2]+e[1].length})}}]),rs=Pi;function ns(t,e){var r=new rs(t,e),n=new es(r);try{n.parse()}catch(t){throw t}return n.root}var os=ns;ns.default=ns,ts.registerParse(ns);var is=Ho.isClean,as=Ho.my,ss=zi,us=$o,cs=ea,ls=ia,fs=la,hs=os,ps=Ya,ds={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},vs={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},ys={Once:!0,postcssPlugin:!0,prepare:!0};function ms(t){return"object"===Dn(t)&&"function"==typeof t.then}function gs(t){var e=!1,r=ds[t.type];return"decl"===t.type?e=t.prop.toLowerCase():"atrule"===t.type&&(e=t.name.toLowerCase()),e&&t.append?[r,r+"-"+e,0,r+"Exit",r+"Exit-"+e]:e?[r,r+"-"+e,r+"Exit",r+"Exit-"+e]:t.append?[r,0,r+"Exit"]:[r,r+"Exit"]}function bs(t){return{eventIndex:0,events:"document"===t.type?["Document",0,"DocumentExit"]:"root"===t.type?["Root",0,"RootExit"]:gs(t),iterator:0,node:t,visitorIndex:0,visitors:[]}}function ws(t){return t[is]=!1,t.nodes&&t.nodes.forEach((function(t){return ws(t)})),t}var ks={},Ss=function(){return jn((function t(e,r,n){var o,i=this;if(Mn(this,t),this.stringified=!1,this.processed=!1,"object"!==Dn(r)||null===r||"root"!==r.type&&"document"!==r.type)if(r instanceof t||r instanceof fs)o=ws(r.root),r.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{var a=hs;n.syntax&&(a=n.syntax.parse),n.parser&&(a=n.parser),a.parse&&(a=a.parse);try{o=a(r,n)}catch(t){this.processed=!0,this.error=t}o&&!o[as]&&cs.rebuild(o)}else o=ws(r);this.result=new fs(e,o,n),this.helpers=kn(kn({},ks),{},{postcss:ks,result:this.result}),this.plugins=this.processor.plugins.map((function(t){return"object"===Dn(t)&&t.prepare?kn(kn({},t),t.prepare(i.result)):t}))}),[{key:"async",value:function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}},{key:"catch",value:function(t){return this.async().catch(t)}},{key:"finally",value:function(t){return this.async().then(t,t)}},{key:"getAsyncError",value:function(){throw new Error("Use process(css).then(cb) to work with async plugins")}},{key:"handleError",value:function(t,e){var r=this.result.lastPlugin;try{e&&e.addToError(t),this.error=t,"CssSyntaxError"!==t.name||t.plugin?r.postcssVersion:(t.plugin=r.postcssPlugin,t.setMessage())}catch(t){console&&console.error&&console.error(t)}return t}},{key:"prepareVisitors",value:function(){var t=this;this.listeners={};var e,r=function(e,r,n){t.listeners[r]||(t.listeners[r]=[]),t.listeners[r].push([e,n])},n=Rn(this.plugins);try{for(n.s();!(e=n.n()).done;){var o=e.value;if("object"===Dn(o))for(var i in o){if(!vs[i]&&/^[A-Z]/.test(i))throw new Error("Unknown event ".concat(i," in ").concat(o.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!ys[i])if("object"===Dn(o[i]))for(var a in o[i])r(o,"*"===a?i:i+"-"+a.toLowerCase(),o[i][a]);else"function"==typeof o[i]&&r(o,i,o[i])}}}catch(t){n.e(t)}finally{n.f()}this.hasListener=Object.keys(this.listeners).length>0}},{key:"runAsync",value:(t=yn(dn().mark((function t(){var e,r,n,o,i,a,s,u,c,l,f=this;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.plugin=0,e=0;case 2:if(!(e<this.plugins.length)){t.next=17;break}if(r=this.plugins[e],!ms(n=this.runOnRoot(r))){t.next=14;break}return t.prev=6,t.next=9,n;case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(6),this.handleError(t.t0);case 14:e++,t.next=2;break;case 17:if(this.prepareVisitors(),!this.hasListener){t.next=56;break}o=this.result.root;case 20:if(o[is]){t.next=39;break}o[is]=!0,i=[bs(o)];case 23:if(!(i.length>0)){t.next=37;break}if(!ms(a=this.visitTick(i))){t.next=35;break}return t.prev=26,t.next=29,a;case 29:t.next=35;break;case 31:throw t.prev=31,t.t1=t.catch(26),s=i[i.length-1].node,this.handleError(t.t1,s);case 35:t.next=23;break;case 37:t.next=20;break;case 39:if(!this.listeners.OnceExit){t.next=56;break}u=Rn(this.listeners.OnceExit),t.prev=41,l=dn().mark((function t(){var e,r,n,i;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=mn(c.value,2),r=e[0],n=e[1],f.result.lastPlugin=r,t.prev=2,"document"!==o.type){t.next=9;break}return i=o.nodes.map((function(t){return n(t,f.helpers)})),t.next=7,Promise.all(i);case 7:t.next=11;break;case 9:return t.next=11,n(o,f.helpers);case 11:t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(2),f.handleError(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})),u.s();case 44:if((c=u.n()).done){t.next=48;break}return t.delegateYield(l(),"t2",46);case 46:t.next=44;break;case 48:t.next=53;break;case 50:t.prev=50,t.t3=t.catch(41),u.e(t.t3);case 53:return t.prev=53,u.f(),t.finish(53);case 56:return this.processed=!0,t.abrupt("return",this.stringify());case 58:case"end":return t.stop()}}),t,this,[[6,11],[26,31],[41,50,53,56]])}))),function(){return t.apply(this,arguments)})},{key:"runOnRoot",value:function(t){var e=this;this.result.lastPlugin=t;try{if("object"===Dn(t)&&t.Once){if("document"===this.result.root.type){var r=this.result.root.nodes.map((function(r){return t.Once(r,e.helpers)}));return ms(r[0])?Promise.all(r):r}return t.Once(this.result.root,this.helpers)}if("function"==typeof t)return t(this.result.root,this.result)}catch(t){throw this.handleError(t)}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,e=us;t.syntax&&(e=t.syntax.stringify),t.stringifier&&(e=t.stringifier),e.stringify&&(e=e.stringify);var r=new ss(e,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();var t,e=Rn(this.plugins);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(ms(this.runOnRoot(r)))throw this.getAsyncError()}}catch(t){e.e(t)}finally{e.f()}if(this.prepareVisitors(),this.hasListener){for(var n=this.result.root;!n[is];)n[is]=!0,this.walkSync(n);if(this.listeners.OnceExit)if("document"===n.type){var o,i=Rn(n.nodes);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.visitSync(this.listeners.OnceExit,a)}}catch(t){i.e(t)}finally{i.f()}}else this.visitSync(this.listeners.OnceExit,n)}return this.result}},{key:"then",value:function(t,e){return this.async().then(t,e)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(t,e){var r,n=Rn(t);try{for(n.s();!(r=n.n()).done;){var o=mn(r.value,2),i=o[0],a=o[1];this.result.lastPlugin=i;var s=void 0;try{s=a(e,this.helpers)}catch(t){throw this.handleError(t,e.proxyOf)}if("root"!==e.type&&"document"!==e.type&&!e.parent)return!0;if(ms(s))throw this.getAsyncError()}}catch(t){n.e(t)}finally{n.f()}}},{key:"visitTick",value:function(t){var e=t[t.length-1],r=e.node,n=e.visitors;if("root"===r.type||"document"===r.type||r.parent){if(n.length>0&&e.visitorIndex<n.length){var o=mn(n[e.visitorIndex],2),i=o[0],a=o[1];e.visitorIndex+=1,e.visitorIndex===n.length&&(e.visitors=[],e.visitorIndex=0),this.result.lastPlugin=i;try{return a(r.toProxy(),this.helpers)}catch(t){throw this.handleError(t,r)}}if(0!==e.iterator){for(var s,u=e.iterator;s=r.nodes[r.indexes[u]];)if(r.indexes[u]+=1,!s[is])return s[is]=!0,void t.push(bs(s));e.iterator=0,delete r.indexes[u]}for(var c=e.events;e.eventIndex<c.length;){var l=c[e.eventIndex];if(e.eventIndex+=1,0===l)return void(r.nodes&&r.nodes.length&&(r[is]=!0,e.iterator=r.getIterator()));if(this.listeners[l])return void(e.visitors=this.listeners[l])}t.pop()}else t.pop()}},{key:"walkSync",value:function(t){var e=this;t[is]=!0;var r,n=Rn(gs(t));try{for(n.s();!(r=n.n()).done;){var o=r.value;if(0===o)t.nodes&&t.each((function(t){t[is]||e.walkSync(t)}));else{var i=this.listeners[o];if(i&&this.visitSync(i,t.toProxy()))return}}}catch(t){n.e(t)}finally{n.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]);var t}();Ss.registerPostcss=function(t){ks=t};var Is=Ss;Ss.default=Ss,ps.registerLazyResult(Ss),ls.registerLazyResult(Ss);var Cs=zi,xs=$o,Os=os,As=la,Es=jn((function t(e,r,n){var o;Mn(this,t),r=r.toString(),this.stringified=!1,this._processor=e,this._css=r,this._opts=n,this._map=void 0;var i=xs;this.result=new As(this._processor,o,this._opts),this.result.css=r;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var s=new Cs(i,o,this._opts,r);if(s.isMap()){var u=mn(s.generate(),2),c=u[0],l=u[1];c&&(this.result.css=c),l&&(this.result.map=l)}else s.clearAnnotation(),this.result.css=s.css}),[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(t){return this.async().catch(t)}},{key:"finally",value:function(t){return this.async().then(t,t)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(t,e){return this.async().then(t,e)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,e=Os;try{t=e(this._css,this._opts)}catch(t){this.error=t}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),_s=Es;Es.default=Es;var Rs=_s,Ts=Is,Ps=ia,Ms=Ya,Ls=jn((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Mn(this,t),this.version="8.4.38",this.plugins=this.normalize(e)}),[{key:"normalize",value:function(t){var e,r=[],n=Rn(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(!0===o.postcss?o=o():o.postcss&&(o=o.postcss),"object"===Dn(o)&&Array.isArray(o.plugins))r=r.concat(o.plugins);else if("object"===Dn(o)&&o.postcssPlugin)r.push(o);else if("function"==typeof o)r.push(o);else if("object"!==Dn(o)||!o.parse&&!o.stringify)throw new Error(o+" is not a PostCSS plugin")}}catch(t){n.e(t)}finally{n.f()}return r}},{key:"process",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||e.parser||e.stringifier||e.syntax?new Ts(this,t,e):new Rs(this,t,e)}},{key:"use",value:function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this}}]),js=Ls;Ls.default=Ls,Ms.registerProcessor(Ls),Ps.registerProcessor(Ls);var Ns=ci,Ds=mi,Fs=Zi,Bs=Na,Us=Pi,Ys=Ya,Gs=Ha;function zs(t,e){if(Array.isArray(t))return t.map((function(t){return zs(t)}));var r=t.inputs,n=pn(t,un);if(r){e=[];var o,i=Rn(r);try{for(i.s();!(o=i.n()).done;){var a=kn(kn({},o.value),{},{__proto__:Us.prototype});a.map&&(a.map=kn(kn({},a.map),{},{__proto__:Ds.prototype})),e.push(a)}}catch(t){i.e(t)}finally{i.f()}}if(n.nodes&&(n.nodes=t.nodes.map((function(t){return zs(t,e)}))),n.source){var s=n.source,u=s.inputId,c=pn(s,cn);n.source=c,null!=u&&(n.source.input=e[u])}if("root"===n.type)return new Ys(n);if("decl"===n.type)return new Ns(n);if("rule"===n.type)return new Gs(n);if("comment"===n.type)return new Fs(n);if("atrule"===n.type)return new Bs(n);throw new Error("Unknown node type: "+t.type)}var Ws=zs;zs.default=zs;var Zs=Vo,Vs=ci,Hs=Is,Js=ea,Xs=js,Ks=$o,qs=Ws,Qs=ia,$s=sa,tu=Zi,eu=Na,ru=la,nu=Pi,ou=os,iu=za,au=Ha,su=Ya,uu=si;function cu(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new Xs(e)}cu.plugin=function(t,e){var n,o=!1;function i(){console&&console.warn&&!o&&(o=!0,console.warn(t+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),r.env.LANG&&r.env.LANG.startsWith("cn")&&console.warn(t+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));var n=e.apply(void 0,arguments);return n.postcssPlugin=t,n.postcssVersion=(new Xs).version,n}return Object.defineProperty(i,"postcss",{get:function(){return n||(n=i()),n}}),i.process=function(t,e,r){return cu([i(r)]).process(t,e)},i},cu.stringify=Ks,cu.parse=ou,cu.fromJSON=qs,cu.list=iu,cu.comment=function(t){return new tu(t)},cu.atRule=function(t){return new eu(t)},cu.decl=function(t){return new Vs(t)},cu.rule=function(t){return new au(t)},cu.root=function(t){return new su(t)},cu.document=function(t){return new Qs(t)},cu.CssSyntaxError=Zs,cu.Declaration=Vs,cu.Container=Js,cu.Processor=Xs,cu.Document=Qs,cu.Comment=tu,cu.Warning=$s,cu.AtRule=eu,cu.Result=ru,cu.Input=nu,cu.Rule=au,cu.Root=su,cu.Node=uu,Hs.registerPostcss(cu);var lu=cu;cu.default=cu;var fu=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(lu);fu.stringify,fu.fromJSON,fu.plugin,fu.parse,fu.list,fu.document,fu.comment,fu.atRule,fu.rule,fu.decl,fu.root,fu.CssSyntaxError,fu.Declaration,fu.Container,fu.Processor,fu.Document,fu.Comment,fu.Warning,fu.AtRule,fu.Result,fu.Input,fu.Rule,fu.Root,fu.Node;var hu=Object.defineProperty,pu=function(t,e,r){return function(t,e,r){return e in t?hu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r}(t,"symbol"!==Dn(e)?e+"":e,r)},du={exports:{}},vu=String,yu=function(){return{isColorSupported:!1,reset:vu,bold:vu,dim:vu,italic:vu,underline:vu,inverse:vu,hidden:vu,strikethrough:vu,black:vu,red:vu,green:vu,yellow:vu,blue:vu,magenta:vu,cyan:vu,white:vu,gray:vu,bgBlack:vu,bgRed:vu,bgGreen:vu,bgYellow:vu,bgBlue:vu,bgMagenta:vu,bgCyan:vu,bgWhite:vu}};du.exports=yu(),du.exports.createColors=yu;var mu=du.exports,gu=function(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),bu=mu,wu=gu,ku=function(t){function e(t,r,n,o,i,a){var s;return Mn(this,e),(s=Cn(this,e,[t])).name="CssSyntaxError",s.reason=t,i&&(s.file=i),o&&(s.source=o),a&&(s.plugin=a),void 0!==r&&void 0!==n&&("number"==typeof r?(s.line=r,s.column=n):(s.line=r.line,s.column=r.column,s.endLine=n.line,s.endColumn=n.column)),s.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(s,e),s}return xn(e,t),jn(e,[{key:"setMessage",value:function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}},{key:"showSourceCode",value:function(t){var e=this;if(!this.source)return"";var r=this.source;null==t&&(t=bu.isColorSupported),wu&&t&&(r=wu(r));var n,o,i=r.split(/\r?\n/),a=Math.max(this.line-3,0),s=Math.min(this.line+2,i.length),u=String(s).length;if(t){var c=bu.createColors(!0),l=c.bold,f=c.gray,h=c.red;n=function(t){return l(h(t))},o=function(t){return f(t)}}else n=o=function(t){return t};return i.slice(a,s).map((function(t,r){var i=a+1+r,s=" "+(" "+i).slice(-u)+" | ";if(i===e.line){var c=o(s.replace(/\d/g," "))+t.slice(0,e.column-1).replace(/[^\t]/g," ");return n(">")+o(s)+t+"\n "+c+n("^")}return" "+o(s)+t})).join("\n")}},{key:"toString",value:function(){var t=this.showSourceCode();return t&&(t="\n\n"+t+"\n"),this.name+": "+this.message+t}}])}(On(Error)),Su=ku;ku.default=ku;var Iu={};Iu.isClean=Symbol("isClean"),Iu.my=Symbol("my");var Cu={after:"\n",beforeClose:"\n",beforeComment:"\n",beforeDecl:"\n",beforeOpen:" ",beforeRule:"\n",colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1},xu=jn((function t(e){Mn(this,t),this.builder=e}),[{key:"atrule",value:function(t,e){var r="@"+t.name,n=t.params?this.rawValue(t,"params"):"";if(void 0!==t.raws.afterName?r+=t.raws.afterName:n&&(r+=" "),t.nodes)this.block(t,r+n);else{var o=(t.raws.between||"")+(e?";":"");this.builder(r+n+o,t)}}},{key:"beforeAfter",value:function(t,e){var r;r="decl"===t.type?this.raw(t,null,"beforeDecl"):"comment"===t.type?this.raw(t,null,"beforeComment"):"before"===e?this.raw(t,null,"beforeRule"):this.raw(t,null,"beforeClose");for(var n=t.parent,o=0;n&&"root"!==n.type;)o+=1,n=n.parent;if(r.includes("\n")){var i=this.raw(t,null,"indent");if(i.length)for(var a=0;a<o;a++)r+=i}return r}},{key:"block",value:function(t,e){var r,n=this.raw(t,"between","beforeOpen");this.builder(e+n+"{",t,"start"),t.nodes&&t.nodes.length?(this.body(t),r=this.raw(t,"after")):r=this.raw(t,"after","emptyBody"),r&&this.builder(r),this.builder("}",t,"end")}},{key:"body",value:function(t){for(var e=t.nodes.length-1;e>0&&"comment"===t.nodes[e].type;)e-=1;for(var r=this.raw(t,"semicolon"),n=0;n<t.nodes.length;n++){var o=t.nodes[n],i=this.raw(o,"before");i&&this.builder(i),this.stringify(o,e!==n||r)}}},{key:"comment",value:function(t){var e=this.raw(t,"left","commentLeft"),r=this.raw(t,"right","commentRight");this.builder("/*"+e+t.text+r+"*/",t)}},{key:"decl",value:function(t,e){var r=this.raw(t,"between","colon"),n=t.prop+r+this.rawValue(t,"value");t.important&&(n+=t.raws.important||" !important"),e&&(n+=";"),this.builder(n,t)}},{key:"document",value:function(t){this.body(t)}},{key:"raw",value:function(t,e,r){var n;if(r||(r=e),e&&void 0!==(n=t.raws[e]))return n;var o=t.parent;if("before"===r){if(!o||"root"===o.type&&o.first===t)return"";if(o&&"document"===o.type)return""}if(!o)return Cu[r];var i=t.root();if(i.rawCache||(i.rawCache={}),void 0!==i.rawCache[r])return i.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(t,r);var a,s="raw"+((a=r)[0].toUpperCase()+a.slice(1));return this[s]?n=this[s](i,t):i.walk((function(t){if(void 0!==(n=t.raws[e]))return!1})),void 0===n&&(n=Cu[r]),i.rawCache[r]=n,n}},{key:"rawBeforeClose",value:function(t){var e;return t.walk((function(t){if(t.nodes&&t.nodes.length>0&&void 0!==t.raws.after)return(e=t.raws.after).includes("\n")&&(e=e.replace(/[^\n]+$/,"")),!1})),e&&(e=e.replace(/\S/g,"")),e}},{key:"rawBeforeComment",value:function(t,e){var r;return t.walkComments((function(t){if(void 0!==t.raws.before)return(r=t.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(e,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}},{key:"rawBeforeDecl",value:function(t,e){var r;return t.walkDecls((function(t){if(void 0!==t.raws.before)return(r=t.raws.before).includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1})),void 0===r?r=this.raw(e,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}},{key:"rawBeforeOpen",value:function(t){var e;return t.walk((function(t){if("decl"!==t.type&&void 0!==(e=t.raws.between))return!1})),e}},{key:"rawBeforeRule",value:function(t){var e;return t.walk((function(r){if(r.nodes&&(r.parent!==t||t.first!==r)&&void 0!==r.raws.before)return(e=r.raws.before).includes("\n")&&(e=e.replace(/[^\n]+$/,"")),!1})),e&&(e=e.replace(/\S/g,"")),e}},{key:"rawColon",value:function(t){var e;return t.walkDecls((function(t){if(void 0!==t.raws.between)return e=t.raws.between.replace(/[^\s:]/g,""),!1})),e}},{key:"rawEmptyBody",value:function(t){var e;return t.walk((function(t){if(t.nodes&&0===t.nodes.length&&void 0!==(e=t.raws.after))return!1})),e}},{key:"rawIndent",value:function(t){return t.raws.indent?t.raws.indent:(t.walk((function(r){var n=r.parent;if(n&&n!==t&&n.parent&&n.parent===t&&void 0!==r.raws.before){var o=r.raws.before.split("\n");return e=(e=o[o.length-1]).replace(/\S/g,""),!1}})),e);var e}},{key:"rawSemicolon",value:function(t){var e;return t.walk((function(t){if(t.nodes&&t.nodes.length&&"decl"===t.last.type&&void 0!==(e=t.raws.semicolon))return!1})),e}},{key:"rawValue",value:function(t,e){var r=t[e],n=t.raws[e];return n&&n.value===r?n.raw:r}},{key:"root",value:function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)}},{key:"rule",value:function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")}},{key:"stringify",value:function(t,e){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,e)}}]),Ou=xu;xu.default=xu;var Au=Ou;function Eu(t,e){new Au(e).stringify(t)}var _u=Eu;Eu.default=Eu;var Ru=Iu.isClean,Tu=Iu.my,Pu=Su,Mu=Ou,Lu=_u;function ju(t,e){var r=new t.constructor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"proxyCache"!==n){var o=t[n],i=Dn(o);"parent"===n&&"object"===i?e&&(r[n]=e):"source"===n?r[n]=o:Array.isArray(o)?r[n]=o.map((function(t){return ju(t,r)})):("object"===i&&null!==o&&(o=ju(o)),r[n]=o)}return r}var Nu=jn((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var r in Mn(this,t),this.raws={},this[Ru]=!1,this[Tu]=!0,e)if("nodes"===r){this.nodes=[];var n,o=Rn(e[r]);try{for(o.s();!(n=o.n()).done;){var i=n.value;"function"==typeof i.clone?this.append(i.clone()):this.append(i)}}catch(t){o.e(t)}finally{o.f()}}else this[r]=e[r]}),[{key:"addToError",value:function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var e=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&".concat(e.input.from,":").concat(e.start.line,":").concat(e.start.column,"$&"))}return t}},{key:"after",value:function(t){return this.parent.insertAfter(this,t),this}},{key:"assign",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in t)this[e]=t[e];return this}},{key:"before",value:function(t){return this.parent.insertBefore(this,t),this}},{key:"cleanRaws",value:function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=ju(this);for(var r in t)e[r]=t[r];return e}},{key:"cloneAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.clone(t);return this.parent.insertAfter(this,e),e}},{key:"cloneBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.clone(t);return this.parent.insertBefore(this,e),e}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.source){var r=this.rangeBy(e),n=r.end,o=r.start;return this.source.input.error(t,{column:o.column,line:o.line},{column:n.column,line:n.line},e)}return new Pu(t)}},{key:"getProxyProcessor",value:function(){return{get:function(t,e){return"proxyOf"===e?t:"root"===e?function(){return t.root().toProxy()}:t[e]},set:function(t,e,r){return t[e]===r||(t[e]=r,"prop"!==e&&"value"!==e&&"name"!==e&&"params"!==e&&"important"!==e&&"text"!==e||t.markDirty()),!0}}}},{key:"markDirty",value:function(){if(this[Ru]){this[Ru]=!1;for(var t=this;t=t.parent;)t[Ru]=!1}}},{key:"next",value:function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}}},{key:"positionBy",value:function(t,e){var r=this.source.start;if(t.index)r=this.positionInside(t.index,e);else if(t.word){var n=(e=this.toString()).indexOf(t.word);-1!==n&&(r=this.positionInside(n,e))}return r}},{key:"positionInside",value:function(t,e){for(var r=e||this.toString(),n=this.source.start.column,o=this.source.start.line,i=0;i<t;i++)"\n"===r[i]?(n=1,o+=1):n+=1;return{column:n,line:o}}},{key:"prev",value:function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}}},{key:"rangeBy",value:function(t){var e={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:e.column+1,line:e.line};if(t.word){var n=this.toString(),o=n.indexOf(t.word);-1!==o&&(e=this.positionInside(o,n),r=this.positionInside(o+t.word.length,n))}else t.start?e={column:t.start.column,line:t.start.line}:t.index&&(e=this.positionInside(t.index)),t.end?r={column:t.end.column,line:t.end.line}:"number"==typeof t.endIndex?r=this.positionInside(t.endIndex):t.index&&(r=this.positionInside(t.index+1));return(r.line<e.line||r.line===e.line&&r.column<=e.column)&&(r={column:e.column+1,line:e.line}),{end:r,start:e}}},{key:"raw",value:function(t,e){return(new Mu).raw(this,t,e)}},{key:"remove",value:function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}},{key:"replaceWith",value:function(){if(this.parent){for(var t=this,e=!1,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];for(var i=0,a=n;i<a.length;i++){var s=a[i];s===this?e=!0:e?(this.parent.insertAfter(t,s),t=s):this.parent.insertBefore(t,s)}e||this.remove()}return this}},{key:"root",value:function(){for(var t=this;t.parent&&"document"!==t.parent.type;)t=t.parent;return t}},{key:"toJSON",value:function(t,e){var r={},n=null==e;e=e||new Map;var o=0;for(var i in this)if(Object.prototype.hasOwnProperty.call(this,i)&&"parent"!==i&&"proxyCache"!==i){var a=this[i];if(Array.isArray(a))r[i]=a.map((function(t){return"object"===Dn(t)&&t.toJSON?t.toJSON(null,e):t}));else if("object"===Dn(a)&&a.toJSON)r[i]=a.toJSON(null,e);else if("source"===i){var s=e.get(a.input);null==s&&(s=o,e.set(a.input,o),o++),r[i]={end:a.end,inputId:s,start:a.start}}else r[i]=a}return n&&(r.inputs=In(e.keys()).map((function(t){return t.toJSON()}))),r}},{key:"toProxy",value:function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lu;t.stringify&&(t=t.stringify);var e="";return t(this,(function(t){e+=t})),e}},{key:"warn",value:function(t,e,r){var n={node:this};for(var o in r)n[o]=r[o];return t.warn(e,n)}},{key:"proxyOf",get:function(){return this}}]),Du=Nu;Nu.default=Nu;var Fu=function(t){function e(t){var r;return Mn(this,e),t&&void 0!==t.value&&"string"!=typeof t.value&&(t=kn(kn({},t),{},{value:String(t.value)})),(r=Cn(this,e,[t])).type="decl",r}return xn(e,t),jn(e,[{key:"variable",get:function(){return this.prop.startsWith("--")||"$"===this.prop[0]}}])}(Du),Bu=Fu;Fu.default=Fu;var Uu=gu.SourceMapConsumer,Yu=gu.SourceMapGenerator,Gu=gu.existsSync,zu=gu.readFileSync,Wu=gu.dirname,Zu=gu.join,Vu=jn((function t(e,r){if(Mn(this,t),!1!==r.map){this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");var n=r.map?r.map.prev:void 0,o=this.loadMap(r.from,n);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=Wu(this.mapFile)),o&&(this.text=o)}}),[{key:"consumer",value:function(){return this.consumerCache||(this.consumerCache=new Uu(this.text)),this.consumerCache}},{key:"decodeInline",value:function(t){var r;if(/^data:application\/json;charset=utf-?8,/.test(t)||/^data:application\/json,/.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(t)||/^data:application\/json;base64,/.test(t))return r=t.substr(RegExp.lastMatch.length),e?e.from(r,"base64").toString():window.atob(r);var n=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}},{key:"getAnnotationURL",value:function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}},{key:"isMap",value:function(t){return"object"===Dn(t)&&("string"==typeof t.mappings||"string"==typeof t._mappings||Array.isArray(t.sections))}},{key:"loadAnnotation",value:function(t){var e=t.match(/\/\*\s*# sourceMappingURL=/gm);if(e){var r=t.lastIndexOf(e.pop()),n=t.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(t.substring(r,n)))}}},{key:"loadFile",value:function(t){if(this.root=Wu(t),Gu(t))return this.mapFile=t,zu(t,"utf-8").toString().trim()}},{key:"loadMap",value:function(t,e){if(!1===e)return!1;if(e){if("string"==typeof e)return e;if("function"!=typeof e){if(e instanceof Uu)return Yu.fromSourceMap(e).toString();if(e instanceof Yu)return e.toString();if(this.isMap(e))return JSON.stringify(e);throw new Error("Unsupported previous source map format: "+e.toString())}var r=e(t);if(r){var n=this.loadFile(r);if(!n)throw new Error("Unable to load previous source map: "+r.toString());return n}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var o=this.annotation;return t&&(o=Zu(Wu(t),o)),this.loadFile(o)}}}},{key:"startWith",value:function(t,e){return!!t&&t.substr(0,e.length)===e}},{key:"withContent",value:function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}]),Hu=Vu;Vu.default=Vu;var Ju=gu.SourceMapConsumer,Xu=gu.SourceMapGenerator,Ku=gu.fileURLToPath,qu=gu.pathToFileURL,Qu=gu.isAbsolute,$u=gu.resolve,tc=function(){for(var t="",e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},ec=gu,rc=Su,nc=Hu,oc=Symbol("fromOffsetCache"),ic=Boolean(Ju&&Xu),ac=Boolean($u&&Qu),sc=jn((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Mn(this,t),null==e||"object"===Dn(e)&&!e.toString)throw new Error("PostCSS received ".concat(e," instead of CSS string"));if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,r.from&&(!ac||/^\w+:\/\//.test(r.from)||Qu(r.from)?this.file=r.from:this.file=$u(r.from)),ac&&ic){var n=new nc(this.css,r);if(n.text){this.map=n;var o=n.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+tc(6)+">"),this.map&&(this.map.file=this.from)}),[{key:"error",value:function(t,e,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e&&"object"===Dn(e)){var s=e,u=r;if("number"==typeof s.offset){var c=this.fromOffset(s.offset);e=c.line,r=c.col}else e=s.line,r=s.column;if("number"==typeof u.offset){var l=this.fromOffset(u.offset);o=l.line,i=l.col}else o=u.line,i=u.column}else if(!r){var f=this.fromOffset(e);e=f.line,r=f.col}var h=this.origin(e,r,o,i);return(n=h?new rc(t,void 0===h.endLine?h.line:{column:h.column,line:h.line},void 0===h.endLine?h.column:{column:h.endColumn,line:h.endLine},h.source,h.file,a.plugin):new rc(t,void 0===o?e:{column:r,line:e},void 0===o?r:{column:i,line:o},this.css,this.file,a.plugin)).input={column:r,endColumn:i,endLine:o,line:e,source:this.css},this.file&&(qu&&(n.input.url=qu(this.file).toString()),n.input.file=this.file),n}},{key:"fromOffset",value:function(t){var e;if(this[oc])e=this[oc];else{var r=this.css.split("\n");e=new Array(r.length);for(var n=0,o=0,i=r.length;o<i;o++)e[o]=n,n+=r[o].length+1;this[oc]=e}var a=0;if(t>=e[e.length-1])a=e.length-1;else for(var s,u=e.length-2;a<u;)if(t<e[s=a+(u-a>>1)])u=s-1;else{if(!(t>=e[s+1])){a=s;break}a=s+1}return{col:t-e[a]+1,line:a+1}}},{key:"mapResolve",value:function(t){return/^\w+:\/\//.test(t)?t:$u(this.map.consumer().sourceRoot||this.map.root||".",t)}},{key:"origin",value:function(t,e,r,n){if(!this.map)return!1;var o,i,a=this.map.consumer(),s=a.originalPositionFor({column:e,line:t});if(!s.source)return!1;"number"==typeof r&&(o=a.originalPositionFor({column:n,line:r})),i=Qu(s.source)?qu(s.source):new URL(s.source,this.map.consumer().sourceRoot||qu(this.map.mapFile));var u={column:s.column,endColumn:o&&o.column,endLine:o&&o.line,line:s.line,url:i.toString()};if("file:"===i.protocol){if(!Ku)throw new Error("file: protocol is not available in this PostCSS build");u.file=Ku(i)}var c=a.sourceContentFor(s.source);return c&&(u.source=c),u}},{key:"toJSON",value:function(){for(var t={},e=0,r=["hasBOM","css","file","id"];e<r.length;e++){var n=r[e];null!=this[n]&&(t[n]=this[n])}return this.map&&(t.map=kn({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t}},{key:"from",get:function(){return this.file||this.id}}]),uc=sc;sc.default=sc,ec&&ec.registerInput&&ec.registerInput(sc);var cc=gu.SourceMapConsumer,lc=gu.SourceMapGenerator,fc=gu.dirname,hc=gu.relative,pc=gu.resolve,dc=gu.sep,vc=gu.pathToFileURL,yc=uc,mc=Boolean(cc&&lc),gc=Boolean(fc&&pc&&hc&&dc),bc=jn((function t(e,r,n,o){Mn(this,t),this.stringify=e,this.mapOpts=n.map||{},this.root=r,this.opts=n,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}),[{key:"addAnnotation",value:function(){var t;t=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";var e="\n";this.css.includes("\r\n")&&(e="\r\n"),this.css+=e+"/*# sourceMappingURL="+t+" */"}},{key:"applyPrevMaps",value:function(){var t,e=Rn(this.previous());try{for(e.s();!(t=e.n()).done;){var r=t.value,n=this.toUrl(this.path(r.file)),o=r.root||fc(r.file),i=void 0;!1===this.mapOpts.sourcesContent?(i=new cc(r.text)).sourcesContent&&(i.sourcesContent=null):i=r.consumer(),this.map.applySourceMap(i,n,this.toUrl(this.path(o)))}}catch(t){e.e(t)}finally{e.f()}}},{key:"clearAnnotation",value:function(){if(!1!==this.mapOpts.annotation)if(this.root)for(var t,e=this.root.nodes.length-1;e>=0;e--)"comment"===(t=this.root.nodes[e]).type&&0===t.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(e);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}},{key:"generate",value:function(){if(this.clearAnnotation(),gc&&mc&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,(function(e){t+=e})),[t]}},{key:"generateMap",value:function(){if(this.root)this.generateString();else if(1===this.previous().length){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=lc.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new lc({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}},{key:"generateString",value:function(){var t=this;this.css="",this.map=new lc({file:this.outputFile(),ignoreInvalidMapping:!0});var e,r,n=1,o=1,i="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""};this.stringify(this.root,(function(s,u,c){if(t.css+=s,u&&"end"!==c&&(a.generated.line=n,a.generated.column=o-1,u.source&&u.source.start?(a.source=t.sourcePath(u),a.original.line=u.source.start.line,a.original.column=u.source.start.column-1,t.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,t.map.addMapping(a))),(e=s.match(/\n/g))?(n+=e.length,r=s.lastIndexOf("\n"),o=s.length-r):o+=s.length,u&&"start"!==c){var l=u.parent||{raws:{}};("decl"===u.type||"atrule"===u.type&&!u.nodes)&&u===l.last&&!l.raws.semicolon||(u.source&&u.source.end?(a.source=t.sourcePath(u),a.original.line=u.source.end.line,a.original.column=u.source.end.column-1,a.generated.line=n,a.generated.column=o-2,t.map.addMapping(a)):(a.source=i,a.original.line=1,a.original.column=0,a.generated.line=n,a.generated.column=o-1,t.map.addMapping(a)))}}))}},{key:"isAnnotation",value:function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((function(t){return t.annotation})))}},{key:"isInline",value:function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var t=this.mapOpts.annotation;return(void 0===t||!0===t)&&(!this.previous().length||this.previous().some((function(t){return t.inline})))}},{key:"isMap",value:function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}},{key:"isSourcesContent",value:function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((function(t){return t.withContent()}))}},{key:"outputFile",value:function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}},{key:"path",value:function(t){if(this.mapOpts.absolute)return t;if(60===t.charCodeAt(0))return t;if(/^\w+:\/\//.test(t))return t;var e=this.memoizedPaths.get(t);if(e)return e;var r=this.opts.to?fc(this.opts.to):".";"string"==typeof this.mapOpts.annotation&&(r=fc(pc(r,this.mapOpts.annotation)));var n=hc(r,t);return this.memoizedPaths.set(t,n),n}},{key:"previous",value:function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((function(e){if(e.source&&e.source.input.map){var r=e.source.input.map;t.previousMaps.includes(r)||t.previousMaps.push(r)}}));else{var e=new yc(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}},{key:"setSourcesContent",value:function(){var t=this,e={};if(this.root)this.root.walk((function(r){if(r.source){var n=r.source.input.from;if(n&&!e[n]){e[n]=!0;var o=t.usesFileUrls?t.toFileUrl(n):t.toUrl(t.path(n));t.map.setSourceContent(o,r.source.input.css)}}}));else if(this.css){var r=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(r,this.css)}}},{key:"sourcePath",value:function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))}},{key:"toBase64",value:function(t){return e?e.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))}},{key:"toFileUrl",value:function(t){var e=this.memoizedFileURLs.get(t);if(e)return e;if(vc){var r=vc(t).toString();return this.memoizedFileURLs.set(t,r),r}throw new Error("`map.absolute` option is not available in this PostCSS build")}},{key:"toUrl",value:function(t){var e=this.memoizedURLs.get(t);if(e)return e;"\\"===dc&&(t=t.replace(/\\/g,"/"));var r=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,r),r}}]),wc=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[t])).type="comment",r}return xn(e,t),jn(e)}(Du),kc=wc;wc.default=wc;var Sc,Ic,Cc,xc,Oc=Iu.isClean,Ac=Iu.my,Ec=Bu,_c=kc,Rc=function(t){function e(){return Mn(this,e),Cn(this,e,arguments)}return xn(e,t),jn(e,[{key:"append",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,o=e;n<o.length;n++){var i,a=o[n],s=Rn(this.normalize(a,this.last));try{for(s.s();!(i=s.n()).done;){var u=i.value;this.proxyOf.nodes.push(u)}}catch(t){s.e(t)}finally{s.f()}}return this.markDirty(),this}},{key:"cleanRaws",value:function(t){if(gn(e,"cleanRaws",this,3)([t]),this.nodes){var r,n=Rn(this.nodes);try{for(n.s();!(r=n.n()).done;)r.value.cleanRaws(t)}catch(t){n.e(t)}finally{n.f()}}}},{key:"each",value:function(t){if(this.proxyOf.nodes){for(var e,r,n=this.getIterator();this.indexes[n]<this.proxyOf.nodes.length&&(e=this.indexes[n],!1!==(r=t(this.proxyOf.nodes[e],e)));)this.indexes[n]+=1;return delete this.indexes[n],r}}},{key:"every",value:function(t){return this.nodes.every(t)}},{key:"getIterator",value:function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var t=this.lastEach;return this.indexes[t]=0,t}},{key:"getProxyProcessor",value:function(){return{get:function(t,e){return"proxyOf"===e?t:t[e]?"each"===e||"string"==typeof e&&e.startsWith("walk")?function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t[e].apply(t,In(n.map((function(t){return"function"==typeof t?function(e,r){return t(e.toProxy(),r)}:t}))))}:"every"===e||"some"===e?function(r){return t[e]((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return r.apply(void 0,[t.toProxy()].concat(n))}))}:"root"===e?function(){return t.root().toProxy()}:"nodes"===e?t.nodes.map((function(t){return t.toProxy()})):"first"===e||"last"===e?t[e].toProxy():t[e]:t[e]},set:function(t,e,r){return t[e]===r||(t[e]=r,"name"!==e&&"params"!==e&&"selector"!==e||t.markDirty()),!0}}}},{key:"index",value:function(t){return"number"==typeof t?t:(t.proxyOf&&(t=t.proxyOf),this.proxyOf.nodes.indexOf(t))}},{key:"insertAfter",value:function(t,e){var r=this.index(t),n=this.normalize(e,this.proxyOf.nodes[r]).reverse();r=this.index(t);var o,i,a=Rn(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.proxyOf.nodes.splice(r+1,0,s)}}catch(t){a.e(t)}finally{a.f()}for(var u in this.indexes)r<(i=this.indexes[u])&&(this.indexes[u]=i+n.length);return this.markDirty(),this}},{key:"insertBefore",value:function(t,e){var r=this.index(t),n=0===r&&"prepend",o=this.normalize(e,this.proxyOf.nodes[r],n).reverse();r=this.index(t);var i,a,s=Rn(o);try{for(s.s();!(i=s.n()).done;){var u=i.value;this.proxyOf.nodes.splice(r,0,u)}}catch(t){s.e(t)}finally{s.f()}for(var c in this.indexes)r<=(a=this.indexes[c])&&(this.indexes[c]=a+o.length);return this.markDirty(),this}},{key:"normalize",value:function(t,r){var n=this;if("string"==typeof t)t=function t(e){return e.map((function(e){return e.nodes&&(e.nodes=t(e.nodes)),delete e.source,e}))}(Sc(t).nodes);else if(void 0===t)t=[];else if(Array.isArray(t)){var o,i=Rn(t=t.slice(0));try{for(i.s();!(o=i.n()).done;){var a=o.value;a.parent&&a.parent.removeChild(a,"ignore")}}catch(t){i.e(t)}finally{i.f()}}else if("root"===t.type&&"document"!==this.type){var s,u=Rn(t=t.nodes.slice(0));try{for(u.s();!(s=u.n()).done;){var c=s.value;c.parent&&c.parent.removeChild(c,"ignore")}}catch(t){u.e(t)}finally{u.f()}}else if(t.type)t=[t];else if(t.prop){if(void 0===t.value)throw new Error("Value field is missed in node creation");"string"!=typeof t.value&&(t.value=String(t.value)),t=[new Ec(t)]}else if(t.selector)t=[new Ic(t)];else if(t.name)t=[new Cc(t)];else{if(!t.text)throw new Error("Unknown node type in node creation");t=[new _c(t)]}return t.map((function(t){return t[Ac]||e.rebuild(t),(t=t.proxyOf).parent&&t.parent.removeChild(t),t[Oc]&&function t(e){if(e[Oc]=!1,e.proxyOf.nodes){var r,n=Rn(e.proxyOf.nodes);try{for(n.s();!(r=n.n()).done;)t(r.value)}catch(e){n.e(e)}finally{n.f()}}}(t),void 0===t.raws.before&&r&&void 0!==r.raws.before&&(t.raws.before=r.raws.before.replace(/\S/g,"")),t.parent=n.proxyOf,t}))}},{key:"prepend",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n,o=Rn(e=e.reverse());try{for(o.s();!(n=o.n()).done;){var i,a=n.value,s=this.normalize(a,this.first,"prepend").reverse(),u=Rn(s);try{for(u.s();!(i=u.n()).done;){var c=i.value;this.proxyOf.nodes.unshift(c)}}catch(t){u.e(t)}finally{u.f()}for(var l in this.indexes)this.indexes[l]=this.indexes[l]+s.length}}catch(t){o.e(t)}finally{o.f()}return this.markDirty(),this}},{key:"push",value:function(t){return t.parent=this,this.proxyOf.nodes.push(t),this}},{key:"removeAll",value:function(){var t,e=Rn(this.proxyOf.nodes);try{for(e.s();!(t=e.n()).done;)t.value.parent=void 0}catch(t){e.e(t)}finally{e.f()}return this.proxyOf.nodes=[],this.markDirty(),this}},{key:"removeChild",value:function(t){var e;for(var r in t=this.index(t),this.proxyOf.nodes[t].parent=void 0,this.proxyOf.nodes.splice(t,1),this.indexes)(e=this.indexes[r])>=t&&(this.indexes[r]=e-1);return this.markDirty(),this}},{key:"replaceValues",value:function(t,e,r){return r||(r=e,e={}),this.walkDecls((function(n){e.props&&!e.props.includes(n.prop)||e.fast&&!n.value.includes(e.fast)||(n.value=n.value.replace(t,r))})),this.markDirty(),this}},{key:"some",value:function(t){return this.nodes.some(t)}},{key:"walk",value:function(t){return this.each((function(e,r){var n;try{n=t(e,r)}catch(t){throw e.addToError(t)}return!1!==n&&e.walk&&(n=e.walk(t)),n}))}},{key:"walkAtRules",value:function(t,e){return e?t instanceof RegExp?this.walk((function(r,n){if("atrule"===r.type&&t.test(r.name))return e(r,n)})):this.walk((function(r,n){if("atrule"===r.type&&r.name===t)return e(r,n)})):(e=t,this.walk((function(t,r){if("atrule"===t.type)return e(t,r)})))}},{key:"walkComments",value:function(t){return this.walk((function(e,r){if("comment"===e.type)return t(e,r)}))}},{key:"walkDecls",value:function(t,e){return e?t instanceof RegExp?this.walk((function(r,n){if("decl"===r.type&&t.test(r.prop))return e(r,n)})):this.walk((function(r,n){if("decl"===r.type&&r.prop===t)return e(r,n)})):(e=t,this.walk((function(t,r){if("decl"===t.type)return e(t,r)})))}},{key:"walkRules",value:function(t,e){return e?t instanceof RegExp?this.walk((function(r,n){if("rule"===r.type&&t.test(r.selector))return e(r,n)})):this.walk((function(r,n){if("rule"===r.type&&r.selector===t)return e(r,n)})):(e=t,this.walk((function(t,r){if("rule"===t.type)return e(t,r)})))}},{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}])}(Du);Rc.registerParse=function(t){Sc=t},Rc.registerRule=function(t){Ic=t},Rc.registerAtRule=function(t){Cc=t},Rc.registerRoot=function(t){xc=t};var Tc=Rc;Rc.default=Rc,Rc.rebuild=function(t){"atrule"===t.type?Object.setPrototypeOf(t,Cc.prototype):"rule"===t.type?Object.setPrototypeOf(t,Ic.prototype):"decl"===t.type?Object.setPrototypeOf(t,Ec.prototype):"comment"===t.type?Object.setPrototypeOf(t,_c.prototype):"root"===t.type&&Object.setPrototypeOf(t,xc.prototype),t[Ac]=!0,t.nodes&&t.nodes.forEach((function(t){Rc.rebuild(t)}))};var Pc,Mc,Lc=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[kn({type:"document"},t)])).nodes||(r.nodes=[]),r}return xn(e,t),jn(e,[{key:"toResult",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Pc(new Mc,this,t).stringify()}}])}(Tc);Lc.registerLazyResult=function(t){Pc=t},Lc.registerProcessor=function(t){Mc=t};var jc=Lc;Lc.default=Lc;var Nc=jn((function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Mn(this,t),this.type="warning",this.text=e,r.node&&r.node.source){var n=r.node.rangeBy(r);this.line=n.start.line,this.column=n.start.column,this.endLine=n.end.line,this.endColumn=n.end.column}for(var o in r)this[o]=r[o]}),[{key:"toString",value:function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}]),Dc=Nc;Nc.default=Nc;var Fc=Dc,Bc=jn((function t(e,r,n){Mn(this,t),this.processor=e,this.messages=[],this.root=r,this.opts=n,this.css=void 0,this.map=void 0}),[{key:"toString",value:function(){return this.css}},{key:"warn",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(e.plugin=this.lastPlugin.postcssPlugin);var r=new Fc(t,e);return this.messages.push(r),r}},{key:"warnings",value:function(){return this.messages.filter((function(t){return"warning"===t.type}))}},{key:"content",get:function(){return this.css}}]),Uc=Bc;Bc.default=Bc;var Yc="'".charCodeAt(0),Gc='"'.charCodeAt(0),zc="\\".charCodeAt(0),Wc="/".charCodeAt(0),Zc="\n".charCodeAt(0),Vc=" ".charCodeAt(0),Hc="\f".charCodeAt(0),Jc="\t".charCodeAt(0),Xc="\r".charCodeAt(0),Kc="[".charCodeAt(0),qc="]".charCodeAt(0),Qc="(".charCodeAt(0),$c=")".charCodeAt(0),tl="{".charCodeAt(0),el="}".charCodeAt(0),rl=";".charCodeAt(0),nl="*".charCodeAt(0),ol=":".charCodeAt(0),il="@".charCodeAt(0),al=/[\t\n\f\r "#'()/;[\\\]{}]/g,sl=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,ul=/.[\r\n"'(/\\]/,cl=/[\da-f]/i,ll=Tc,fl=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[t])).type="atrule",r}return xn(e,t),jn(e,[{key:"append",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gn(e,"append",this,3)(r)}},{key:"prepend",value:function(){this.proxyOf.nodes||(this.nodes=[]);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return gn(e,"prepend",this,3)(r)}}])}(ll),hl=fl;fl.default=fl,ll.registerAtRule(fl);var pl,dl,vl=Tc,yl=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[t])).type="root",r.nodes||(r.nodes=[]),r}return xn(e,t),jn(e,[{key:"normalize",value:function(t,r,n){var o=gn(e,"normalize",this,3)([t]);if(r)if("prepend"===n)this.nodes.length>1?r.raws.before=this.nodes[1].raws.before:delete r.raws.before;else if(this.first!==r){var i,a=Rn(o);try{for(a.s();!(i=a.n()).done;)i.value.raws.before=r.raws.before}catch(t){a.e(t)}finally{a.f()}}return o}},{key:"removeChild",value:function(t,r){var n=this.index(t);return!r&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),gn(e,"removeChild",this,3)([t])}},{key:"toResult",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new pl(new dl,this,t).stringify()}}])}(vl);yl.registerLazyResult=function(t){pl=t},yl.registerProcessor=function(t){dl=t};var ml=yl;yl.default=yl,vl.registerRoot(yl);var gl={comma:function(t){return gl.split(t,[","],!0)},space:function(t){return gl.split(t,[" ","\n","\t"])},split:function(t,e,r){var n,o=[],i="",a=!1,s=0,u=!1,c="",l=!1,f=Rn(t);try{for(f.s();!(n=f.n()).done;){var h=n.value;l?l=!1:"\\"===h?l=!0:u?h===c&&(u=!1):'"'===h||"'"===h?(u=!0,c=h):"("===h?s+=1:")"===h?s>0&&(s-=1):0===s&&e.includes(h)&&(a=!0),a?(""!==i&&o.push(i.trim()),i="",a=!1):i+=h}}catch(t){f.e(t)}finally{f.f()}return(r||""!==i)&&o.push(i.trim()),o}},bl=gl;gl.default=gl;var wl=Tc,kl=bl,Sl=function(t){function e(t){var r;return Mn(this,e),(r=Cn(this,e,[t])).type="rule",r.nodes||(r.nodes=[]),r}return xn(e,t),jn(e,[{key:"selectors",get:function(){return kl.comma(this.selector)},set:function(t){var e=this.selector?this.selector.match(/,\s*/):null,r=e?e[0]:","+this.raw("between","beforeOpen");this.selector=t.join(r)}}])}(wl),Il=Sl;Sl.default=Sl,wl.registerRule(Sl);var Cl=Bu,xl=kc,Ol=hl,Al=ml,El=Il,_l={empty:!0,space:!0},Rl=Tc,Tl=jn((function t(e){Mn(this,t),this.input=e,this.root=new Al,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}),[{key:"atrule",value:function(t){var e,r,n,o=new Ol;o.name=t[1].slice(1),""===o.name&&this.unnamedAtrule(o,t),this.init(o,t[2]);for(var i=!1,a=!1,s=[],u=[];!this.tokenizer.endOfFile();){if("("===(e=(t=this.tokenizer.nextToken())[0])||"["===e?u.push("("===e?")":"]"):"{"===e&&u.length>0?u.push("}"):e===u[u.length-1]&&u.pop(),0===u.length){if(";"===e){o.source.end=this.getPosition(t[2]),o.source.end.offset++,this.semicolon=!0;break}if("{"===e){a=!0;break}if("}"===e){if(s.length>0){for(r=s[n=s.length-1];r&&"space"===r[0];)r=s[--n];r&&(o.source.end=this.getPosition(r[3]||r[2]),o.source.end.offset++)}this.end(t);break}s.push(t)}else s.push(t);if(this.tokenizer.endOfFile()){i=!0;break}}o.raws.between=this.spacesAndCommentsFromEnd(s),s.length?(o.raws.afterName=this.spacesAndCommentsFromStart(s),this.raw(o,"params",s),i&&(t=s[s.length-1],o.source.end=this.getPosition(t[3]||t[2]),o.source.end.offset++,this.spaces=o.raws.between,o.raws.between="")):(o.raws.afterName="",o.params=""),a&&(o.nodes=[],this.current=o)}},{key:"checkMissedSemicolon",value:function(t){var e=this.colon(t);if(!1!==e){for(var r,n=0,o=e-1;o>=0&&("space"===(r=t[o])[0]||2!==(n+=1));o--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}}},{key:"colon",value:function(t){var e,r,n,o,i=0,a=Rn(t.entries());try{for(a.s();!(o=a.n()).done;){var s=mn(o.value,2),u=s[0];if("("===(r=(e=s[1])[0])&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return u}this.doubleColon(e)}n=e}}catch(t){a.e(t)}finally{a.f()}return!1}},{key:"comment",value:function(t){var e=new xl;this.init(e,t[2]),e.source.end=this.getPosition(t[3]||t[2]),e.source.end.offset++;var r=t[1].slice(2,-2);if(/^\s*$/.test(r))e.text="",e.raws.left=r,e.raws.right="";else{var n=r.match(/^(\s*)([^]*\S)(\s*)$/);e.text=n[2],e.raws.left=n[1],e.raws.right=n[3]}}},{key:"createTokenizer",value:function(){this.tokenizer=function(t){var e,r,n,o,i,a,s,u,c,l,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=t.css.valueOf(),p=f.ignoreErrors,d=h.length,v=0,y=[],m=[];function g(e){throw t.error("Unclosed "+e,v)}return{back:function(t){m.push(t)},endOfFile:function(){return 0===m.length&&v>=d},nextToken:function(t){if(m.length)return m.pop();if(!(v>=d)){var f=!!t&&t.ignoreUnclosed;switch(e=h.charCodeAt(v)){case Zc:case Vc:case Jc:case Xc:case Hc:r=v;do{r+=1,e=h.charCodeAt(r)}while(e===Vc||e===Zc||e===Jc||e===Xc||e===Hc);l=["space",h.slice(v,r)],v=r-1;break;case Kc:case qc:case tl:case el:case ol:case rl:case $c:var b=String.fromCharCode(e);l=[b,b,v];break;case Qc:if(u=y.length?y.pop()[1]:"",c=h.charCodeAt(v+1),"url"===u&&c!==Yc&&c!==Gc&&c!==Vc&&c!==Zc&&c!==Jc&&c!==Hc&&c!==Xc){r=v;do{if(a=!1,-1===(r=h.indexOf(")",r+1))){if(p||f){r=v;break}g("bracket")}for(s=r;h.charCodeAt(s-1)===zc;)s-=1,a=!a}while(a);l=["brackets",h.slice(v,r+1),v,r],v=r}else r=h.indexOf(")",v+1),o=h.slice(v,r+1),-1===r||ul.test(o)?l=["(","(",v]:(l=["brackets",o,v,r],v=r);break;case Yc:case Gc:n=e===Yc?"'":'"',r=v;do{if(a=!1,-1===(r=h.indexOf(n,r+1))){if(p||f){r=v+1;break}g("string")}for(s=r;h.charCodeAt(s-1)===zc;)s-=1,a=!a}while(a);l=["string",h.slice(v,r+1),v,r],v=r;break;case il:al.lastIndex=v+1,al.test(h),r=0===al.lastIndex?h.length-1:al.lastIndex-2,l=["at-word",h.slice(v,r+1),v,r],v=r;break;case zc:for(r=v,i=!0;h.charCodeAt(r+1)===zc;)r+=1,i=!i;if(e=h.charCodeAt(r+1),i&&e!==Wc&&e!==Vc&&e!==Zc&&e!==Jc&&e!==Xc&&e!==Hc&&(r+=1,cl.test(h.charAt(r)))){for(;cl.test(h.charAt(r+1));)r+=1;h.charCodeAt(r+1)===Vc&&(r+=1)}l=["word",h.slice(v,r+1),v,r],v=r;break;default:e===Wc&&h.charCodeAt(v+1)===nl?(0===(r=h.indexOf("*/",v+2)+1)&&(p||f?r=h.length:g("comment")),l=["comment",h.slice(v,r+1),v,r],v=r):(sl.lastIndex=v+1,sl.test(h),r=0===sl.lastIndex?h.length-1:sl.lastIndex-2,l=["word",h.slice(v,r+1),v,r],y.push(l),v=r)}return v++,l}},position:function(){return v}}}(this.input)}},{key:"decl",value:function(t,e){var r=new Cl;this.init(r,t[0][2]);var n,o=t[t.length-1];for(";"===o[0]&&(this.semicolon=!0,t.pop()),r.source.end=this.getPosition(o[3]||o[2]||function(t){for(var e=t.length-1;e>=0;e--){var r=t[e],n=r[3]||r[2];if(n)return n}}(t)),r.source.end.offset++;"word"!==t[0][0];)1===t.length&&this.unknownWord(t),r.raws.before+=t.shift()[1];for(r.source.start=this.getPosition(t[0][2]),r.prop="";t.length;){var i=t[0][0];if(":"===i||"space"===i||"comment"===i)break;r.prop+=t.shift()[1]}for(r.raws.between="";t.length;){if(":"===(n=t.shift())[0]){r.raws.between+=n[1];break}"word"===n[0]&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));for(var a,s=[];t.length&&("space"===(a=t[0][0])||"comment"===a);)s.push(t.shift());this.precheckMissedSemicolon(t);for(var u=t.length-1;u>=0;u--){if("!important"===(n=t[u])[1].toLowerCase()){r.important=!0;var c=this.stringFrom(t,u);" !important"!==(c=this.spacesFromEnd(t)+c)&&(r.raws.important=c);break}if("important"===n[1].toLowerCase()){for(var l=t.slice(0),f="",h=u;h>0;h--){var p=l[h][0];if(0===f.trim().indexOf("!")&&"space"!==p)break;f=l.pop()[1]+f}0===f.trim().indexOf("!")&&(r.important=!0,r.raws.important=f,t=l)}if("space"!==n[0]&&"comment"!==n[0])break}t.some((function(t){return"space"!==t[0]&&"comment"!==t[0]}))&&(r.raws.between+=s.map((function(t){return t[1]})).join(""),s=[]),this.raw(r,"value",s.concat(t),e),r.value.includes(":")&&!e&&this.checkMissedSemicolon(t)}},{key:"doubleColon",value:function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})}},{key:"emptyRule",value:function(t){var e=new El;this.init(e,t[2]),e.selector="",e.raws.between="",this.current=e}},{key:"end",value:function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)}},{key:"endFile",value:function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}},{key:"freeSemicolon",value:function(t){if(this.spaces+=t[1],this.current.nodes){var e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}},{key:"getPosition",value:function(t){var e=this.input.fromOffset(t);return{column:e.col,line:e.line,offset:t}}},{key:"init",value:function(t,e){this.current.push(t),t.source={input:this.input,start:this.getPosition(e)},t.raws.before=this.spaces,this.spaces="","comment"!==t.type&&(this.semicolon=!1)}},{key:"other",value:function(t){for(var e=!1,r=null,n=!1,o=null,i=[],a=t[1].startsWith("--"),s=[],u=t;u;){if(r=u[0],s.push(u),"("===r||"["===r)o||(o=u),i.push("("===r?")":"]");else if(a&&n&&"{"===r)o||(o=u),i.push("}");else if(0===i.length){if(";"===r){if(n)return void this.decl(s,a);break}if("{"===r)return void this.rule(s);if("}"===r){this.tokenizer.back(s.pop()),e=!0;break}":"===r&&(n=!0)}else r===i[i.length-1]&&(i.pop(),0===i.length&&(o=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(e=!0),i.length>0&&this.unclosedBracket(o),e&&n){if(!a)for(;s.length&&("space"===(u=s[s.length-1][0])||"comment"===u);)this.tokenizer.back(s.pop());this.decl(s,a)}else this.unknownWord(s)}},{key:"parse",value:function(){for(var t;!this.tokenizer.endOfFile();)switch((t=this.tokenizer.nextToken())[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t)}this.endFile()}},{key:"precheckMissedSemicolon",value:function(){}},{key:"raw",value:function(t,e,r,n){for(var o,i,a,s,u=r.length,c="",l=!0,f=0;f<u;f+=1)"space"!==(i=(o=r[f])[0])||f!==u-1||n?"comment"===i?(s=r[f-1]?r[f-1][0]:"empty",a=r[f+1]?r[f+1][0]:"empty",_l[s]||_l[a]||","===c.slice(-1)?l=!1:c+=o[1]):c+=o[1]:l=!1;if(!l){var h=r.reduce((function(t,e){return t+e[1]}),"");t.raws[e]={raw:h,value:c}}t[e]=c}},{key:"rule",value:function(t){t.pop();var e=new El;this.init(e,t[0][2]),e.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(e,"selector",t),this.current=e}},{key:"spacesAndCommentsFromEnd",value:function(t){for(var e,r="";t.length&&("space"===(e=t[t.length-1][0])||"comment"===e);)r=t.pop()[1]+r;return r}},{key:"spacesAndCommentsFromStart",value:function(t){for(var e,r="";t.length&&("space"===(e=t[0][0])||"comment"===e);)r+=t.shift()[1];return r}},{key:"spacesFromEnd",value:function(t){for(var e="";t.length&&"space"===t[t.length-1][0];)e=t.pop()[1]+e;return e}},{key:"stringFrom",value:function(t,e){for(var r="",n=e;n<t.length;n++)r+=t[n][1];return t.splice(e,t.length-e),r}},{key:"unclosedBlock",value:function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)}},{key:"unclosedBracket",value:function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})}},{key:"unexpectedClose",value:function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})}},{key:"unknownWord",value:function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})}},{key:"unnamedAtrule",value:function(t,e){throw this.input.error("At-rule without name",{offset:e[2]},{offset:e[2]+e[1].length})}}]),Pl=uc;function Ml(t,e){var r=new Pl(t,e),n=new Tl(r);try{n.parse()}catch(t){throw t}return n.root}var Ll=Ml;Ml.default=Ml,Rl.registerParse(Ml);var jl=Iu.isClean,Nl=Iu.my,Dl=bc,Fl=_u,Bl=Tc,Ul=jc,Yl=Uc,Gl=Ll,zl=ml,Wl={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Zl={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Vl={Once:!0,postcssPlugin:!0,prepare:!0};function Hl(t){return"object"===Dn(t)&&"function"==typeof t.then}function Jl(t){var e=!1,r=Wl[t.type];return"decl"===t.type?e=t.prop.toLowerCase():"atrule"===t.type&&(e=t.name.toLowerCase()),e&&t.append?[r,r+"-"+e,0,r+"Exit",r+"Exit-"+e]:e?[r,r+"-"+e,r+"Exit",r+"Exit-"+e]:t.append?[r,0,r+"Exit"]:[r,r+"Exit"]}function Xl(t){return{eventIndex:0,events:"document"===t.type?["Document",0,"DocumentExit"]:"root"===t.type?["Root",0,"RootExit"]:Jl(t),iterator:0,node:t,visitorIndex:0,visitors:[]}}function Kl(t){return t[jl]=!1,t.nodes&&t.nodes.forEach((function(t){return Kl(t)})),t}var ql={},Ql=function(){return jn((function t(e,r,n){var o,i=this;if(Mn(this,t),this.stringified=!1,this.processed=!1,"object"!==Dn(r)||null===r||"root"!==r.type&&"document"!==r.type)if(r instanceof t||r instanceof Yl)o=Kl(r.root),r.map&&(void 0===n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=r.map);else{var a=Gl;n.syntax&&(a=n.syntax.parse),n.parser&&(a=n.parser),a.parse&&(a=a.parse);try{o=a(r,n)}catch(t){this.processed=!0,this.error=t}o&&!o[Nl]&&Bl.rebuild(o)}else o=Kl(r);this.result=new Yl(e,o,n),this.helpers=kn(kn({},ql),{},{postcss:ql,result:this.result}),this.plugins=this.processor.plugins.map((function(t){return"object"===Dn(t)&&t.prepare?kn(kn({},t),t.prepare(i.result)):t}))}),[{key:"async",value:function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}},{key:"catch",value:function(t){return this.async().catch(t)}},{key:"finally",value:function(t){return this.async().then(t,t)}},{key:"getAsyncError",value:function(){throw new Error("Use process(css).then(cb) to work with async plugins")}},{key:"handleError",value:function(t,e){var r=this.result.lastPlugin;try{e&&e.addToError(t),this.error=t,"CssSyntaxError"!==t.name||t.plugin?r.postcssVersion:(t.plugin=r.postcssPlugin,t.setMessage())}catch(t){console&&console.error&&console.error(t)}return t}},{key:"prepareVisitors",value:function(){var t=this;this.listeners={};var e,r=function(e,r,n){t.listeners[r]||(t.listeners[r]=[]),t.listeners[r].push([e,n])},n=Rn(this.plugins);try{for(n.s();!(e=n.n()).done;){var o=e.value;if("object"===Dn(o))for(var i in o){if(!Zl[i]&&/^[A-Z]/.test(i))throw new Error("Unknown event ".concat(i," in ").concat(o.postcssPlugin,". Try to update PostCSS (").concat(this.processor.version," now)."));if(!Vl[i])if("object"===Dn(o[i]))for(var a in o[i])r(o,"*"===a?i:i+"-"+a.toLowerCase(),o[i][a]);else"function"==typeof o[i]&&r(o,i,o[i])}}}catch(t){n.e(t)}finally{n.f()}this.hasListener=Object.keys(this.listeners).length>0}},{key:"runAsync",value:(t=yn(dn().mark((function t(){var e,r,n,o,i,a,s,u,c,l,f=this;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.plugin=0,e=0;case 2:if(!(e<this.plugins.length)){t.next=17;break}if(r=this.plugins[e],!Hl(n=this.runOnRoot(r))){t.next=14;break}return t.prev=6,t.next=9,n;case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(6),this.handleError(t.t0);case 14:e++,t.next=2;break;case 17:if(this.prepareVisitors(),!this.hasListener){t.next=56;break}o=this.result.root;case 20:if(o[jl]){t.next=39;break}o[jl]=!0,i=[Xl(o)];case 23:if(!(i.length>0)){t.next=37;break}if(!Hl(a=this.visitTick(i))){t.next=35;break}return t.prev=26,t.next=29,a;case 29:t.next=35;break;case 31:throw t.prev=31,t.t1=t.catch(26),s=i[i.length-1].node,this.handleError(t.t1,s);case 35:t.next=23;break;case 37:t.next=20;break;case 39:if(!this.listeners.OnceExit){t.next=56;break}u=Rn(this.listeners.OnceExit),t.prev=41,l=dn().mark((function t(){var e,r,n,i;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=mn(c.value,2),r=e[0],n=e[1],f.result.lastPlugin=r,t.prev=2,"document"!==o.type){t.next=9;break}return i=o.nodes.map((function(t){return n(t,f.helpers)})),t.next=7,Promise.all(i);case 7:t.next=11;break;case 9:return t.next=11,n(o,f.helpers);case 11:t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(2),f.handleError(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})),u.s();case 44:if((c=u.n()).done){t.next=48;break}return t.delegateYield(l(),"t2",46);case 46:t.next=44;break;case 48:t.next=53;break;case 50:t.prev=50,t.t3=t.catch(41),u.e(t.t3);case 53:return t.prev=53,u.f(),t.finish(53);case 56:return this.processed=!0,t.abrupt("return",this.stringify());case 58:case"end":return t.stop()}}),t,this,[[6,11],[26,31],[41,50,53,56]])}))),function(){return t.apply(this,arguments)})},{key:"runOnRoot",value:function(t){var e=this;this.result.lastPlugin=t;try{if("object"===Dn(t)&&t.Once){if("document"===this.result.root.type){var r=this.result.root.nodes.map((function(r){return t.Once(r,e.helpers)}));return Hl(r[0])?Promise.all(r):r}return t.Once(this.result.root,this.helpers)}if("function"==typeof t)return t(this.result.root,this.result)}catch(t){throw this.handleError(t)}}},{key:"stringify",value:function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,e=Fl;t.syntax&&(e=t.syntax.stringify),t.stringifier&&(e=t.stringifier),e.stringify&&(e=e.stringify);var r=new Dl(e,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}},{key:"sync",value:function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();var t,e=Rn(this.plugins);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(Hl(this.runOnRoot(r)))throw this.getAsyncError()}}catch(t){e.e(t)}finally{e.f()}if(this.prepareVisitors(),this.hasListener){for(var n=this.result.root;!n[jl];)n[jl]=!0,this.walkSync(n);if(this.listeners.OnceExit)if("document"===n.type){var o,i=Rn(n.nodes);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.visitSync(this.listeners.OnceExit,a)}}catch(t){i.e(t)}finally{i.f()}}else this.visitSync(this.listeners.OnceExit,n)}return this.result}},{key:"then",value:function(t,e){return this.async().then(t,e)}},{key:"toString",value:function(){return this.css}},{key:"visitSync",value:function(t,e){var r,n=Rn(t);try{for(n.s();!(r=n.n()).done;){var o=mn(r.value,2),i=o[0],a=o[1];this.result.lastPlugin=i;var s=void 0;try{s=a(e,this.helpers)}catch(t){throw this.handleError(t,e.proxyOf)}if("root"!==e.type&&"document"!==e.type&&!e.parent)return!0;if(Hl(s))throw this.getAsyncError()}}catch(t){n.e(t)}finally{n.f()}}},{key:"visitTick",value:function(t){var e=t[t.length-1],r=e.node,n=e.visitors;if("root"===r.type||"document"===r.type||r.parent){if(n.length>0&&e.visitorIndex<n.length){var o=mn(n[e.visitorIndex],2),i=o[0],a=o[1];e.visitorIndex+=1,e.visitorIndex===n.length&&(e.visitors=[],e.visitorIndex=0),this.result.lastPlugin=i;try{return a(r.toProxy(),this.helpers)}catch(t){throw this.handleError(t,r)}}if(0!==e.iterator){for(var s,u=e.iterator;s=r.nodes[r.indexes[u]];)if(r.indexes[u]+=1,!s[jl])return s[jl]=!0,void t.push(Xl(s));e.iterator=0,delete r.indexes[u]}for(var c=e.events;e.eventIndex<c.length;){var l=c[e.eventIndex];if(e.eventIndex+=1,0===l)return void(r.nodes&&r.nodes.length&&(r[jl]=!0,e.iterator=r.getIterator()));if(this.listeners[l])return void(e.visitors=this.listeners[l])}t.pop()}else t.pop()}},{key:"walkSync",value:function(t){var e=this;t[jl]=!0;var r,n=Rn(Jl(t));try{for(n.s();!(r=n.n()).done;){var o=r.value;if(0===o)t.nodes&&t.each((function(t){t[jl]||e.walkSync(t)}));else{var i=this.listeners[o];if(i&&this.visitSync(i,t.toProxy()))return}}}catch(t){n.e(t)}finally{n.f()}}},{key:"warnings",value:function(){return this.sync().warnings()}},{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]);var t}();Ql.registerPostcss=function(t){ql=t};var $l=Ql;Ql.default=Ql,zl.registerLazyResult(Ql),Ul.registerLazyResult(Ql);var tf=bc,ef=_u,rf=Ll,nf=Uc,of=jn((function t(e,r,n){var o;Mn(this,t),r=r.toString(),this.stringified=!1,this._processor=e,this._css=r,this._opts=n,this._map=void 0;var i=ef;this.result=new nf(this._processor,o,this._opts),this.result.css=r;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var s=new tf(i,o,this._opts,r);if(s.isMap()){var u=mn(s.generate(),2),c=u[0],l=u[1];c&&(this.result.css=c),l&&(this.result.map=l)}else s.clearAnnotation(),this.result.css=s.css}),[{key:"async",value:function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}},{key:"catch",value:function(t){return this.async().catch(t)}},{key:"finally",value:function(t){return this.async().then(t,t)}},{key:"sync",value:function(){if(this.error)throw this.error;return this.result}},{key:"then",value:function(t,e){return this.async().then(t,e)}},{key:"toString",value:function(){return this._css}},{key:"warnings",value:function(){return[]}},{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,e=rf;try{t=e(this._css,this._opts)}catch(t){this.error=t}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),af=of;of.default=of;var sf=af,uf=$l,cf=jc,lf=ml,ff=jn((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Mn(this,t),this.version="8.4.38",this.plugins=this.normalize(e)}),[{key:"normalize",value:function(t){var e,r=[],n=Rn(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(!0===o.postcss?o=o():o.postcss&&(o=o.postcss),"object"===Dn(o)&&Array.isArray(o.plugins))r=r.concat(o.plugins);else if("object"===Dn(o)&&o.postcssPlugin)r.push(o);else if("function"==typeof o)r.push(o);else if("object"!==Dn(o)||!o.parse&&!o.stringify)throw new Error(o+" is not a PostCSS plugin")}}catch(t){n.e(t)}finally{n.f()}return r}},{key:"process",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.plugins.length||e.parser||e.stringifier||e.syntax?new uf(this,t,e):new sf(this,t,e)}},{key:"use",value:function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this}}]),hf=ff;ff.default=ff,lf.registerProcessor(ff),cf.registerProcessor(ff);var pf=Bu,df=Hu,vf=kc,yf=hl,mf=uc,gf=ml,bf=Il;function wf(t,e){if(Array.isArray(t))return t.map((function(t){return wf(t)}));var r=t.inputs,n=pn(t,ln);if(r){e=[];var o,i=Rn(r);try{for(i.s();!(o=i.n()).done;){var a=kn(kn({},o.value),{},{__proto__:mf.prototype});a.map&&(a.map=kn(kn({},a.map),{},{__proto__:df.prototype})),e.push(a)}}catch(t){i.e(t)}finally{i.f()}}if(n.nodes&&(n.nodes=t.nodes.map((function(t){return wf(t,e)}))),n.source){var s=n.source,u=s.inputId,c=pn(s,fn);n.source=c,null!=u&&(n.source.input=e[u])}if("root"===n.type)return new gf(n);if("decl"===n.type)return new pf(n);if("rule"===n.type)return new bf(n);if("comment"===n.type)return new vf(n);if("atrule"===n.type)return new yf(n);throw new Error("Unknown node type: "+t.type)}var kf=wf;wf.default=wf;var Sf=Su,If=Bu,Cf=$l,xf=Tc,Of=hf,Af=_u,Ef=kf,_f=jc,Rf=Dc,Tf=kc,Pf=hl,Mf=Uc,Lf=uc,jf=Ll,Nf=bl,Df=Il,Ff=ml,Bf=Du;function Uf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new Of(e)}Uf.plugin=function(t,e){var n,o=!1;function i(){console&&console.warn&&!o&&(o=!0,console.warn(t+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),r.env.LANG&&r.env.LANG.startsWith("cn")&&console.warn(t+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226"));var n=e.apply(void 0,arguments);return n.postcssPlugin=t,n.postcssVersion=(new Of).version,n}return Object.defineProperty(i,"postcss",{get:function(){return n||(n=i()),n}}),i.process=function(t,e,r){return Uf([i(r)]).process(t,e)},i},Uf.stringify=Af,Uf.parse=jf,Uf.fromJSON=Ef,Uf.list=Nf,Uf.comment=function(t){return new Tf(t)},Uf.atRule=function(t){return new Pf(t)},Uf.decl=function(t){return new If(t)},Uf.rule=function(t){return new Df(t)},Uf.root=function(t){return new Ff(t)},Uf.document=function(t){return new _f(t)},Uf.CssSyntaxError=Sf,Uf.Declaration=If,Uf.Container=xf,Uf.Processor=Of,Uf.Document=_f,Uf.Comment=Tf,Uf.Warning=Rf,Uf.AtRule=Pf,Uf.Result=Mf,Uf.Input=Lf,Uf.Rule=Df,Uf.Root=Ff,Uf.Node=Bf,Cf.registerPostcss(Uf);var Yf=Uf;Uf.default=Uf;var Gf=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(Yf);Gf.stringify,Gf.fromJSON,Gf.plugin,Gf.parse,Gf.list,Gf.document,Gf.comment,Gf.atRule,Gf.rule,Gf.decl,Gf.root,Gf.CssSyntaxError,Gf.Declaration,Gf.Container,Gf.Processor,Gf.Document,Gf.Comment,Gf.Warning,Gf.AtRule,Gf.Result,Gf.Input,Gf.Rule,Gf.Root,Gf.Node;var zf=function(){function t(){Mn(this,t),pu(this,"parentElement",null),pu(this,"parentNode",null),pu(this,"ownerDocument"),pu(this,"firstChild",null),pu(this,"lastChild",null),pu(this,"previousSibling",null),pu(this,"nextSibling",null),pu(this,"ELEMENT_NODE",1),pu(this,"TEXT_NODE",3),pu(this,"nodeType"),pu(this,"nodeName"),pu(this,"RRNodeType")}return jn(t,[{key:"childNodes",get:function(){for(var t=[],e=this.firstChild;e;)t.push(e),e=e.nextSibling;return t}},{key:"contains",value:function(e){if(!(e instanceof t))return!1;if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}},{key:"appendChild",value:function(t){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}},{key:"insertBefore",value:function(t,e){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}},{key:"removeChild",value:function(t){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}},{key:"toString",value:function(){return"RRNode"}}])}(),Wf={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Zf={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Vf={};function Hf(t){if(Vf[t])return Vf[t];var e=globalThis[t],r=e.prototype,n=t in Wf?Wf[t]:void 0,o=Boolean(n&&n.every((function(t){var e,n;return Boolean(null==(n=null==(e=Object.getOwnPropertyDescriptor(r,t))?void 0:e.get)?void 0:n.toString().includes("[native code]"))}))),i=t in Zf?Zf[t]:void 0,a=Boolean(i&&i.every((function(t){var e;return"function"==typeof r[t]&&(null==(e=r[t])?void 0:e.toString().includes("[native code]"))})));if(o&&a&&!globalThis.Zone)return Vf[t]=e.prototype,e.prototype;try{var s=document.createElement("iframe");document.body.appendChild(s);var u=s.contentWindow;if(!u)return e.prototype;var c=u[t].prototype;return document.body.removeChild(s),c?Vf[t]=c:r}catch(t){return r}}var Jf={};function Xf(t,e,r){var n,o="".concat(t,".").concat(String(r));if(Jf[o])return Jf[o].call(e);var i=Hf(t),a=null==(n=Object.getOwnPropertyDescriptor(i,r))?void 0:n.get;return a?(Jf[o]=a,a.call(e)):e[r]}var Kf={};function qf(t,e,r){var n="".concat(t,".").concat(String(r));if(Kf[n])return Kf[n].bind(e);var o=Hf(t)[r];return"function"!=typeof o?e[r]:(Kf[n]=o,o.bind(e))}function Qf(){return Hf("MutationObserver").constructor}var $f=function(t){return Xf("Node",t,"childNodes")},th=function(t){return Xf("Node",t,"parentNode")},eh=function(t){return Xf("Node",t,"parentElement")},rh=function(t){return Xf("Node",t,"textContent")},nh=function(t,e){return qf("Node",t,"contains")(e)},oh=function(t){return qf("Node",t,"getRootNode")()},ih=function(t){return t&&"host"in t?Xf("ShadowRoot",t,"host"):null},ah=function(t){return t&&"shadowRoot"in t?Xf("Element",t,"shadowRoot"):null};function sh(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,n={capture:!0,passive:!0};return r.addEventListener(t,e,n),function(){return r.removeEventListener(t,e,n)}}var uh="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",ch={map:{},getId:function(){return console.error(uh),-1},getNode:function(){return console.error(uh),null},removeNodeFromMap:function(){console.error(uh)},has:function(){return console.error(uh),!1},reset:function(){console.error(uh)}};function lh(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=null,o=0;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=Date.now();o||!1!==r.leading||(o=u);var c=e-(u-o),l=this;c<=0||c>e?(n&&(clearTimeout(n),n=null),o=u,t.apply(l,a)):n||!1===r.trailing||(n=setTimeout((function(){o=!1===r.leading?0:Date.now(),n=null,t.apply(l,a)}),c))}}function fh(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,i=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,n?r:{set:function(t){var e=this;setTimeout((function(){r.set.call(e,t)}),0),i&&i.set&&i.set.call(this,t)}}),function(){return fh(t,e,i||{},!0)}}function hh(t,e,r){try{if(!(e in t))return function(){};var n=t[e],o=r(n);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:n}})),t[e]=o,function(){t[e]=n}}catch(t){return function(){}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(ch=new Proxy(ch,{get:function(t,e,r){return"map"===e&&console.error(uh),Reflect.get(t,e,r)}}));var ph=Date.now;function dh(t){var e,r,n,o,i=t.document;return{left:i.scrollingElement?i.scrollingElement.scrollLeft:void 0!==t.pageXOffset?t.pageXOffset:i.documentElement.scrollLeft||(null==i?void 0:i.body)&&(null==(e=eh(i.body))?void 0:e.scrollLeft)||(null==(r=null==i?void 0:i.body)?void 0:r.scrollLeft)||0,top:i.scrollingElement?i.scrollingElement.scrollTop:void 0!==t.pageYOffset?t.pageYOffset:(null==i?void 0:i.documentElement.scrollTop)||(null==i?void 0:i.body)&&(null==(n=eh(i.body))?void 0:n.scrollTop)||(null==(o=null==i?void 0:i.body)?void 0:o.scrollTop)||0}}function vh(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function yh(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function mh(t){return t?t.nodeType===t.ELEMENT_NODE?t:eh(t):null}function gh(t,e,r,n){if(!t)return!1;var o=mh(t);if(!o)return!1;try{if("string"==typeof e){if(o.classList.contains(e))return!0;if(n&&null!==o.closest("."+e))return!0}else if(Mo(o,e,n))return!0}catch(t){}if(r){if(o.matches(r))return!0;if(n&&null!==o.closest(r))return!0}return!1}function bh(t,e,r){return!("TITLE"!==t.tagName||!r.headTitleMutations)||-2===e.getId(t)}function wh(t){return Boolean(t.changedTouches)}function kh(t,e){return Boolean("IFRAME"===t.nodeName&&e.getMeta(t))}function Sh(t,e){return Boolean("LINK"===t.nodeName&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&"stylesheet"===t.getAttribute("rel")&&e.getMeta(t))}function Ih(t){return!!t&&(t instanceof zf&&"shadowRoot"in t?Boolean(t.shadowRoot):Boolean(ah(t)))}/[1-9][0-9]{12}/.test(Date.now().toString())||(ph=function(){return(new Date).getTime()});var Ch=jn((function t(){Mn(this,t),Un(this,"id",1),Un(this,"styleIDMap",new WeakMap),Un(this,"idStyleMap",new Map)}),[{key:"getId",value:function(t){var e;return null!==(e=this.styleIDMap.get(t))&&void 0!==e?e:-1}},{key:"has",value:function(t){return this.styleIDMap.has(t)}},{key:"add",value:function(t,e){return this.has(t)?this.getId(t):(r=void 0===e?this.id++:e,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r);var r}},{key:"getStyle",value:function(t){return this.idStyleMap.get(t)||null}},{key:"reset",value:function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}},{key:"generateId",value:function(){return this.id++}}]);function xh(t){var e,r=null;return"getRootNode"in t&&(null==(e=oh(t))?void 0:e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&ih(oh(t))&&(r=ih(oh(t))),r}function Oh(t){var e=t.ownerDocument;return!!e&&(nh(e,t)||function(t){var e=t.ownerDocument;if(!e)return!1;var r=function(t){for(var e,r=t;e=xh(r);)r=e;return r}(t);return nh(e,r)}(t))}var Ah=function(t){return t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t}(Ah||{}),Eh=function(t){return t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t}(Eh||{}),_h=function(t){return t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t}(_h||{}),Rh=function(t){return t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t}(Rh||{}),Th=function(t){return t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t}(Th||{}),Ph=function(t){return t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t}(Ph||{}),Mh=function(t){return t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t}(Mh||{});function Lh(t){return"__ln"in t}var jh,Nh=jn((function t(){Mn(this,t),Un(this,"length",0),Un(this,"head",null),Un(this,"tail",null)}),[{key:"get",value:function(t){if(t>=this.length)throw new Error("Position outside of list range");for(var e=this.head,r=0;r<t;r++)e=(null==e?void 0:e.next)||null;return e}},{key:"addNode",value:function(t){var e={value:t,previous:null,next:null};if(t.__ln=e,t.previousSibling&&Lh(t.previousSibling)){var r=t.previousSibling.__ln.next;e.next=r,e.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=e,r&&(r.previous=e)}else if(t.nextSibling&&Lh(t.nextSibling)&&t.nextSibling.__ln.previous){var n=t.nextSibling.__ln.previous;e.previous=n,e.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=e,n&&(n.next=e)}else this.head&&(this.head.previous=e),e.next=this.head,this.head=e;null===e.next&&(this.tail=e),this.length++}},{key:"removeNode",value:function(t){var e=t.__ln;this.head&&(e.previous?(e.previous.next=e.next,e.next?e.next.previous=e.previous:this.tail=e.previous):(this.head=e.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}]),Dh=function(t,e){return"".concat(t,"@").concat(e)},Fh=jn((function t(){var e=this;Mn(this,t),Un(this,"frozen",!1),Un(this,"locked",!1),Un(this,"texts",[]),Un(this,"attributes",[]),Un(this,"attributeMap",new WeakMap),Un(this,"removes",[]),Un(this,"mapRemoves",[]),Un(this,"movedMap",{}),Un(this,"addedSet",new Set),Un(this,"movedSet",new Set),Un(this,"droppedSet",new Set),Un(this,"removesSubTreeCache",new Set),Un(this,"mutationCb"),Un(this,"blockClass"),Un(this,"blockSelector"),Un(this,"maskTextClass"),Un(this,"maskTextSelector"),Un(this,"inlineStylesheet"),Un(this,"maskInputOptions"),Un(this,"maskTextFn"),Un(this,"maskInputFn"),Un(this,"keepIframeSrcFn"),Un(this,"recordCanvas"),Un(this,"inlineImages"),Un(this,"slimDOMOptions"),Un(this,"dataURLOptions"),Un(this,"doc"),Un(this,"mirror"),Un(this,"iframeManager"),Un(this,"stylesheetManager"),Un(this,"shadowDomManager"),Un(this,"canvasManager"),Un(this,"processedNodeManager"),Un(this,"unattachedDoc"),Un(this,"processMutations",(function(t){t.forEach(e.processMutation),e.emit()})),Un(this,"emit",(function(){if(!e.frozen&&!e.locked){for(var t=[],r=new Set,n=new Nh,o=function(t){for(var r=t,n=-2;-2===n;)n=(r=r&&r.nextSibling)&&e.mirror.getId(r);return n},i=function(i){var a=th(i);if(a&&Oh(i)){var s=!1;if(i.nodeType===Node.TEXT_NODE){var u=a.tagName;if("TEXTAREA"===u)return;"STYLE"===u&&e.addedSet.has(a)&&(s=!0)}var c=no(a)?e.mirror.getId(xh(i)):e.mirror.getId(a),l=o(i);if(-1===c||-1===l)return n.addNode(i);var f=Do(i,{doc:e.doc,mirror:e.mirror,blockClass:e.blockClass,blockSelector:e.blockSelector,maskTextClass:e.maskTextClass,maskTextSelector:e.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:e.inlineStylesheet,maskInputOptions:e.maskInputOptions,maskTextFn:e.maskTextFn,maskInputFn:e.maskInputFn,slimDOMOptions:e.slimDOMOptions,dataURLOptions:e.dataURLOptions,recordCanvas:e.recordCanvas,inlineImages:e.inlineImages,onSerialize:function(t){kh(t,e.mirror)&&e.iframeManager.addIframe(t),Sh(t,e.mirror)&&e.stylesheetManager.trackLinkElement(t),Ih(i)&&e.shadowDomManager.addShadowRoot(ah(i),e.doc)},onIframeLoad:function(t,r){e.iframeManager.attachIframe(t,r),e.shadowDomManager.observeAttachShadow(t)},onStylesheetLoad:function(t,r){e.stylesheetManager.attachLinkElement(t,r)},cssCaptured:s});f&&(t.push({parentId:c,nextId:l,node:f}),r.add(f.id))}};e.mapRemoves.length;)e.mirror.removeNodeFromMap(e.mapRemoves.shift());var a,s=Rn(e.movedSet);try{for(s.s();!(a=s.n()).done;){var u=a.value;Uh(e.removesSubTreeCache,u,e.mirror)&&!e.movedSet.has(th(u))||i(u)}}catch(t){s.e(t)}finally{s.f()}var c,l=Rn(e.addedSet);try{for(l.s();!(c=l.n()).done;){var f=c.value;Yh(e.droppedSet,f)||Uh(e.removesSubTreeCache,f,e.mirror)?Yh(e.movedSet,f)?i(f):e.droppedSet.add(f):i(f)}}catch(t){l.e(t)}finally{l.f()}for(var h=null;n.length;){var p=null;if(h){var d=e.mirror.getId(th(h.value)),v=o(h.value);-1!==d&&-1!==v&&(p=h)}if(!p)for(var y=n.tail;y;){var m=y;if(y=y.previous,m){var g=e.mirror.getId(th(m.value));if(-1===o(m.value))continue;if(-1!==g){p=m;break}var b=m.value,w=th(b);if(w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var k=ih(w);if(-1!==e.mirror.getId(k)){p=m;break}}}}if(!p){for(;n.head;)n.removeNode(n.head.value);break}h=p.previous,n.removeNode(p.value),i(p.value)}var S={texts:e.texts.map((function(t){var r=t.node,n=th(r);return n&&"TEXTAREA"===n.tagName&&e.genTextAreaValueMutation(n),{id:e.mirror.getId(r),value:t.value}})).filter((function(t){return!r.has(t.id)})).filter((function(t){return e.mirror.has(t.id)})),attributes:e.attributes.map((function(t){var r=t.attributes;if("string"==typeof r.style){var n=JSON.stringify(t.styleDiff),o=JSON.stringify(t._unchangedStyles);n.length<r.style.length&&(n+o).split("var(").length===r.style.split("var(").length&&(r.style=t.styleDiff)}return{id:e.mirror.getId(t.node),attributes:r}})).filter((function(t){return!r.has(t.id)})).filter((function(t){return e.mirror.has(t.id)})),removes:e.removes,adds:t};(S.texts.length||S.attributes.length||S.removes.length||S.adds.length)&&(e.texts=[],e.attributes=[],e.attributeMap=new WeakMap,e.removes=[],e.addedSet=new Set,e.movedSet=new Set,e.droppedSet=new Set,e.removesSubTreeCache=new Set,e.movedMap={},e.mutationCb(S))}})),Un(this,"genTextAreaValueMutation",(function(t){var r=e.attributeMap.get(t);r||(r={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},e.attributes.push(r),e.attributeMap.set(t,r)),r.attributes.value=Array.from($f(t),(function(t){return rh(t)||""})).join("")})),Un(this,"processMutation",(function(t){if(!bh(t.target,e.mirror,e.slimDOMOptions))switch(t.type){case"characterData":var r=rh(t.target);gh(t.target,e.blockClass,e.blockSelector,!1)||r===t.oldValue||e.texts.push({value:Lo(t.target,e.maskTextClass,e.maskTextSelector,!0)&&r?e.maskTextFn?e.maskTextFn(r,mh(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break;case"attributes":var n=t.target,o=t.attributeName,i=t.target.getAttribute(o);if("value"===o){var a=fo(n);i=uo({element:n,maskInputOptions:e.maskInputOptions,tagName:n.tagName,type:a,value:i,maskInputFn:e.maskInputFn})}if(gh(t.target,e.blockClass,e.blockSelector,!1)||i===t.oldValue)return;var s=e.attributeMap.get(t.target);if("IFRAME"===n.tagName&&"src"===o&&!e.keepIframeSrcFn(i)){if(n.contentDocument)return;o="rr_src"}if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},e.attributes.push(s),e.attributeMap.set(t.target,s)),"type"===o&&"INPUT"===n.tagName&&"password"===(t.oldValue||"").toLowerCase()&&n.setAttribute("data-rr-is-password","true"),!Po(n.tagName,o))if(s.attributes[o]=To(e.doc,co(n.tagName),co(o),i),"style"===o){if(!e.unattachedDoc)try{e.unattachedDoc=document.implementation.createHTMLDocument()}catch(t){e.unattachedDoc=e.doc}var u=e.unattachedDoc.createElement("span");t.oldValue&&u.setAttribute("style",t.oldValue);for(var c=0,l=Array.from(n.style);c<l.length;c++){var f=l[c],h=n.style.getPropertyValue(f),p=n.style.getPropertyPriority(f);h!==u.style.getPropertyValue(f)||p!==u.style.getPropertyPriority(f)?s.styleDiff[f]=""===p?h:[h,p]:s._unchangedStyles[f]=[h,p]}for(var d=0,v=Array.from(u.style);d<v.length;d++){var y=v[d];""===n.style.getPropertyValue(y)&&(s.styleDiff[y]=!1)}}else"open"===o&&"DIALOG"===n.tagName&&(n.matches("dialog:modal")?s.attributes.rr_open_mode="modal":s.attributes.rr_open_mode="non-modal");break;case"childList":if(gh(t.target,e.blockClass,e.blockSelector,!0))return;if("TEXTAREA"===t.target.tagName)return void e.genTextAreaValueMutation(t.target);t.addedNodes.forEach((function(r){return e.genAdds(r,t.target)})),t.removedNodes.forEach((function(r){var n=e.mirror.getId(r),o=no(t.target)?e.mirror.getId(ih(t.target)):e.mirror.getId(t.target);gh(t.target,e.blockClass,e.blockSelector,!1)||bh(r,e.mirror,e.slimDOMOptions)||!function(t,e){return-1!==e.getId(t)}(r,e.mirror)||(e.addedSet.has(r)?(Bh(e.addedSet,r),e.droppedSet.add(r)):e.addedSet.has(t.target)&&-1===n||function t(e,r){if(no(e))return!1;var n=r.getId(e);if(!r.has(n))return!0;var o=th(e);return(!o||o.nodeType!==e.DOCUMENT_NODE)&&(!o||t(o,r))}(t.target,e.mirror)||(e.movedSet.has(r)&&e.movedMap[Dh(n,o)]?Bh(e.movedSet,r):(e.removes.push({parentId:o,id:n,isShadow:!(!no(t.target)||!oo(t.target))||void 0}),function(t,e){for(var r=[t];r.length;){var n=r.pop();e.has(n)||(e.add(n),$f(n).forEach((function(t){return r.push(t)})))}}(r,e.removesSubTreeCache))),e.mapRemoves.push(r))}))}})),Un(this,"genAdds",(function(t,r){if(!e.processedNodeManager.inOtherBuffer(t,e)&&!e.addedSet.has(t)&&!e.movedSet.has(t)){if(e.mirror.hasNode(t)){if(bh(t,e.mirror,e.slimDOMOptions))return;e.movedSet.add(t);var n=null;r&&e.mirror.hasNode(r)&&(n=e.mirror.getId(r)),n&&-1!==n&&(e.movedMap[Dh(e.mirror.getId(t),n)]=!0)}else e.addedSet.add(t),e.droppedSet.delete(t);gh(t,e.blockClass,e.blockSelector,!1)||($f(t).forEach((function(t){return e.genAdds(t)})),Ih(t)&&$f(ah(t)).forEach((function(r){e.processedNodeManager.add(r,e),e.genAdds(r,t)})))}}))}),[{key:"init",value:function(t){var e=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((function(r){e[r]=t[r]}))}},{key:"freeze",value:function(){this.frozen=!0,this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0,this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1,this.canvasManager.unlock(),this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset(),this.canvasManager.reset()}}]);function Bh(t,e){t.delete(e),$f(e).forEach((function(e){return Bh(t,e)}))}function Uh(t,e,r){return 0!==t.size&&function(t,e){var r=th(e);return!!r&&t.has(r)}(t,e)}function Yh(t,e){return 0!==t.size&&function t(e,r){var n=th(r);return!!n&&(!!e.has(n)||t(e,n))}(t,e)}var Gh=function(t){return jh?function(){try{return t.apply(void 0,arguments)}catch(t){if(jh&&!0===jh(t))return;throw t}}:t},zh=[];function Wh(t){try{if("composedPath"in t){var e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(t){}return t&&t.target}function Zh(t,e){var r=new Fh;zh.push(r),r.init(t);var n=new(Qf())(Gh(r.processMutations.bind(r)));return n.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),n}function Vh(t){var e=t.mouseInteractionCb,r=t.doc,n=t.mirror,o=t.blockClass,i=t.blockSelector,a=t.sampling;if(!1===a.mouseInteraction)return function(){};var s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,u=[],c=null;return Object.keys(_h).filter((function(t){return Number.isNaN(Number(t))&&!t.endsWith("_Departed")&&!1!==s[t]})).forEach((function(t){var a=co(t),s=function(t){return function(r){var a=Wh(r);if(!gh(a,o,i,!0)){var s=null,u=t;if("pointerType"in r){switch(r.pointerType){case"mouse":s=Rh.Mouse;break;case"touch":s=Rh.Touch;break;case"pen":s=Rh.Pen}s===Rh.Touch?_h[t]===_h.MouseDown?u="TouchStart":_h[t]===_h.MouseUp&&(u="TouchEnd"):Rh.Pen}else wh(r)&&(s=Rh.Touch);null!==s?(c=s,(u.startsWith("Touch")&&s===Rh.Touch||u.startsWith("Mouse")&&s===Rh.Mouse)&&(s=null)):_h[t]===_h.Click&&(s=c,c=null);var l=wh(r)?r.changedTouches[0]:r;if(l){var f=n.getId(a),h=l.clientX,p=l.clientY;Gh(e)(kn({type:_h[u],id:f,x:h,y:p},null!==s&&{pointerType:s}))}}}}(t);if(window.PointerEvent)switch(_h[t]){case _h.MouseDown:case _h.MouseUp:a=a.replace("mouse","pointer");break;case _h.TouchStart:case _h.TouchEnd:return}u.push(sh(a,s,r))})),Gh((function(){u.forEach((function(t){return t()}))}))}function Hh(t){var e=t.scrollCb,r=t.doc,n=t.mirror,o=t.blockClass,i=t.blockSelector,a=t.sampling;return sh("scroll",Gh(lh(Gh((function(t){var a=Wh(t);if(a&&!gh(a,o,i,!0)){var s=n.getId(a);if(a===r&&r.defaultView){var u=dh(r.defaultView);e({id:s,x:u.left,y:u.top})}else e({id:s,x:a.scrollLeft,y:a.scrollTop})}})),a.scroll||100)),r)}var Jh=["INPUT","TEXTAREA","SELECT"],Xh=new WeakMap;function Kh(t){return function(t,e){if(tp("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||tp("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||tp("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||tp("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule){var r=Array.from(t.parentRule.cssRules).indexOf(t);e.unshift(r)}else if(t.parentStyleSheet){var n=Array.from(t.parentStyleSheet.cssRules).indexOf(t);e.unshift(n)}return e}(t,[])}function qh(t,e,r){var n,o;return t?(t.ownerNode?n=e.getId(t.ownerNode):o=r.getId(t),{styleId:o,id:n}):{}}function Qh(t,e){var r,n,o,i,a=t.mirror,s=t.stylesheetManager;i="#document"===e.nodeName?a.getId(e):a.getId(ih(e));var u="#document"===e.nodeName?null==(r=e.defaultView)?void 0:r.Document:null==(o=null==(n=e.ownerDocument)?void 0:n.defaultView)?void 0:o.ShadowRoot,c=(null==u?void 0:u.prototype)?Object.getOwnPropertyDescriptor(null==u?void 0:u.prototype,"adoptedStyleSheets"):void 0;return null!==i&&-1!==i&&u&&c?(Object.defineProperty(e,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:function(){var t;return null==(t=c.get)?void 0:t.call(this)},set:function(t){var e,r=null==(e=c.set)?void 0:e.call(this,t);if(null!==i&&-1!==i)try{s.adoptStyleSheets(t,i)}catch(t){}return r}}),Gh((function(){Object.defineProperty(e,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))):function(){}}function $h(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.doc.defaultView;if(!n)return function(){};!function(t,e){var r=t.mutationCb,n=t.mousemoveCb,o=t.mouseInteractionCb,i=t.scrollCb,a=t.viewportResizeCb,s=t.inputCb,u=t.mediaInteractionCb,c=t.styleSheetRuleCb,l=t.styleDeclarationCb,f=t.canvasMutationCb,h=t.fontCb,p=t.selectionCb,d=t.customElementCb;t.mutationCb=function(){e.mutation&&e.mutation.apply(e,arguments),r.apply(void 0,arguments)},t.mousemoveCb=function(){e.mousemove&&e.mousemove.apply(e,arguments),n.apply(void 0,arguments)},t.mouseInteractionCb=function(){e.mouseInteraction&&e.mouseInteraction.apply(e,arguments),o.apply(void 0,arguments)},t.scrollCb=function(){e.scroll&&e.scroll.apply(e,arguments),i.apply(void 0,arguments)},t.viewportResizeCb=function(){e.viewportResize&&e.viewportResize.apply(e,arguments),a.apply(void 0,arguments)},t.inputCb=function(){e.input&&e.input.apply(e,arguments),s.apply(void 0,arguments)},t.mediaInteractionCb=function(){e.mediaInteaction&&e.mediaInteaction.apply(e,arguments),u.apply(void 0,arguments)},t.styleSheetRuleCb=function(){e.styleSheetRule&&e.styleSheetRule.apply(e,arguments),c.apply(void 0,arguments)},t.styleDeclarationCb=function(){e.styleDeclaration&&e.styleDeclaration.apply(e,arguments),l.apply(void 0,arguments)},t.canvasMutationCb=function(){e.canvasMutation&&e.canvasMutation.apply(e,arguments),f.apply(void 0,arguments)},t.fontCb=function(){e.font&&e.font.apply(e,arguments),h.apply(void 0,arguments)},t.selectionCb=function(){e.selection&&e.selection.apply(e,arguments),p.apply(void 0,arguments)},t.customElementCb=function(){e.customElement&&e.customElement.apply(e,arguments),d.apply(void 0,arguments)}}(t,r),t.recordDOM&&(e=Zh(t,t.doc));var o,i,a,s,u,c,l,f,h,p,d,v,y,m,g=function(t){var e=t.mousemoveCb,r=t.sampling,n=t.doc,o=t.mirror;if(!1===r.mousemove)return function(){};var i,a="number"==typeof r.mousemove?r.mousemove:50,s="number"==typeof r.mousemoveCallback?r.mousemoveCallback:500,u=[],c=lh(Gh((function(t){var r=Date.now()-i;e(u.map((function(t){return t.timeOffset-=r,t})),t),u=[],i=null})),s),l=Gh(lh(Gh((function(t){var e=Wh(t),r=wh(t)?t.changedTouches[0]:t,n=r.clientX,a=r.clientY;i||(i=ph()),u.push({x:n,y:a,id:o.getId(e),timeOffset:ph()-i}),c("undefined"!=typeof DragEvent&&t instanceof DragEvent?Eh.Drag:t instanceof MouseEvent?Eh.MouseMove:Eh.TouchMove)})),a,{trailing:!1})),f=[sh("mousemove",l,n),sh("touchmove",l,n),sh("drag",l,n)];return Gh((function(){f.forEach((function(t){return t()}))}))}(t),b=Vh(t),w=Hh(t),k=(o={win:n},i=t.viewportResizeCb,a=o.win,s=-1,u=-1,sh("resize",Gh(lh(Gh((function(){var t=vh(),e=yh();s===t&&u===e||(i({width:Number(e),height:Number(t)}),s=t,u=e)})),200)),a)),S=function(t){var e=t.inputCb,r=t.doc,n=t.mirror,o=t.blockClass,i=t.blockSelector,a=t.ignoreClass,s=t.ignoreSelector,u=t.maskInputOptions,c=t.maskInputFn,l=t.sampling,f=t.userTriggeredOnInput;function h(t){var e=Wh(t),n=t.isTrusted,l=e&&e.tagName;if(e&&"OPTION"===l&&(e=eh(e)),e&&l&&!(Jh.indexOf(l)<0)&&!gh(e,o,i,!0)&&!(e.classList.contains(a)||s&&e.matches(s))){var h=e.value,d=!1,v=fo(e)||"";"radio"===v||"checkbox"===v?d=e.checked:(u[l.toLowerCase()]||u[v])&&(h=uo({element:e,maskInputOptions:u,tagName:l,type:v,value:h,maskInputFn:c})),p(e,f?{text:h,isChecked:d,userTriggered:n}:{text:h,isChecked:d});var y=e.name;"radio"===v&&y&&d&&r.querySelectorAll('input[type="radio"][name="'.concat(y,'"]')).forEach((function(t){if(t!==e){var r=t.value;p(t,f?{text:r,isChecked:!d,userTriggered:!1}:{text:r,isChecked:!d})}}))}}function p(t,r){var o=Xh.get(t);if(!o||o.text!==r.text||o.isChecked!==r.isChecked){Xh.set(t,r);var i=n.getId(t);Gh(e)(kn(kn({},r),{},{id:i}))}}var d=("last"===l.input?["change"]:["input","change"]).map((function(t){return sh(t,Gh(h),r)})),v=r.defaultView;if(!v)return function(){d.forEach((function(t){return t()}))};var y=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),m=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return y&&y.set&&d.push.apply(d,In(m.map((function(t){return fh(t[0],t[1],{set:function(){Gh(h)({target:this,isTrusted:!1})}},!1,v)})))),Gh((function(){d.forEach((function(t){return t()}))}))}(t),I=(l=(c=t).mediaInteractionCb,f=c.blockClass,h=c.blockSelector,p=c.mirror,d=c.sampling,v=c.doc,y=Gh((function(t){return lh(Gh((function(e){var r=Wh(e);if(r&&!gh(r,f,h,!0)){var n=r.currentTime,o=r.volume,i=r.muted,a=r.playbackRate,s=r.loop;l({type:t,id:p.getId(r),currentTime:n,volume:o,muted:i,playbackRate:a,loop:s})}})),d.media||500)})),m=[sh("play",y(Ph.Play),v),sh("pause",y(Ph.Pause),v),sh("seeked",y(Ph.Seeked),v),sh("volumechange",y(Ph.VolumeChange),v),sh("ratechange",y(Ph.RateChange),v)],Gh((function(){m.forEach((function(t){return t()}))}))),C=function(){},x=function(){},O=function(){},A=function(){};t.recordDOM&&(C=function(t,e){var r=t.styleSheetRuleCb,n=t.mirror,o=t.stylesheetManager,i=e.win;if(!i.CSSStyleSheet||!i.CSSStyleSheet.prototype)return function(){};var a=i.CSSStyleSheet.prototype.insertRule;i.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:Gh((function(t,e,i){var a=mn(i,2),s=a[0],u=a[1],c=qh(e,n,o.styleMirror),l=c.id,f=c.styleId;return(l&&-1!==l||f&&-1!==f)&&r({id:l,styleId:f,adds:[{rule:s,index:u}]}),t.apply(e,i)}))}),i.CSSStyleSheet.prototype.addRule=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.cssRules.length,n="".concat(t," { ").concat(e," }");return i.CSSStyleSheet.prototype.insertRule.apply(this,[n,r])};var s,u,c=i.CSSStyleSheet.prototype.deleteRule;i.CSSStyleSheet.prototype.deleteRule=new Proxy(c,{apply:Gh((function(t,e,i){var a=mn(i,1)[0],s=qh(e,n,o.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&r({id:u,styleId:c,removes:[{index:a}]}),t.apply(e,i)}))}),i.CSSStyleSheet.prototype.removeRule=function(t){return i.CSSStyleSheet.prototype.deleteRule.apply(this,[t])},i.CSSStyleSheet.prototype.replace&&(s=i.CSSStyleSheet.prototype.replace,i.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:Gh((function(t,e,i){var a=mn(i,1)[0],s=qh(e,n,o.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&r({id:u,styleId:c,replace:a}),t.apply(e,i)}))})),i.CSSStyleSheet.prototype.replaceSync&&(u=i.CSSStyleSheet.prototype.replaceSync,i.CSSStyleSheet.prototype.replaceSync=new Proxy(u,{apply:Gh((function(t,e,i){var a=mn(i,1)[0],s=qh(e,n,o.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&r({id:u,styleId:c,replaceSync:a}),t.apply(e,i)}))}));var l={};ep("CSSGroupingRule")?l.CSSGroupingRule=i.CSSGroupingRule:(ep("CSSMediaRule")&&(l.CSSMediaRule=i.CSSMediaRule),ep("CSSConditionRule")&&(l.CSSConditionRule=i.CSSConditionRule),ep("CSSSupportsRule")&&(l.CSSSupportsRule=i.CSSSupportsRule));var f={};return Object.entries(l).forEach((function(t){var e=mn(t,2),i=e[0],a=e[1];f[i]={insertRule:a.prototype.insertRule,deleteRule:a.prototype.deleteRule},a.prototype.insertRule=new Proxy(f[i].insertRule,{apply:Gh((function(t,e,i){var a=mn(i,2),s=a[0],u=a[1],c=qh(e.parentStyleSheet,n,o.styleMirror),l=c.id,f=c.styleId;return(l&&-1!==l||f&&-1!==f)&&r({id:l,styleId:f,adds:[{rule:s,index:[].concat(In(Kh(e)),[u||0])}]}),t.apply(e,i)}))}),a.prototype.deleteRule=new Proxy(f[i].deleteRule,{apply:Gh((function(t,e,i){var a=mn(i,1)[0],s=qh(e.parentStyleSheet,n,o.styleMirror),u=s.id,c=s.styleId;return(u&&-1!==u||c&&-1!==c)&&r({id:u,styleId:c,removes:[{index:[].concat(In(Kh(e)),[a])}]}),t.apply(e,i)}))})})),Gh((function(){i.CSSStyleSheet.prototype.insertRule=a,i.CSSStyleSheet.prototype.deleteRule=c,s&&(i.CSSStyleSheet.prototype.replace=s),u&&(i.CSSStyleSheet.prototype.replaceSync=u),Object.entries(l).forEach((function(t){var e=mn(t,2),r=e[0],n=e[1];n.prototype.insertRule=f[r].insertRule,n.prototype.deleteRule=f[r].deleteRule}))}))}(t,{win:n}),x=Qh(t,t.doc),O=function(t,e){var r=t.styleDeclarationCb,n=t.mirror,o=t.ignoreCSSAttributes,i=t.stylesheetManager,a=e.win,s=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:Gh((function(t,e,a){var u,c=mn(a,3),l=c[0],f=c[1],h=c[2];if(o.has(l))return s.apply(e,[l,f,h]);var p=qh(null==(u=e.parentRule)?void 0:u.parentStyleSheet,n,i.styleMirror),d=p.id,v=p.styleId;return(d&&-1!==d||v&&-1!==v)&&r({id:d,styleId:v,set:{property:l,value:f,priority:h},index:Kh(e.parentRule)}),t.apply(e,a)}))});var u=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:Gh((function(t,e,a){var s,c=mn(a,1)[0];if(o.has(c))return u.apply(e,[c]);var l=qh(null==(s=e.parentRule)?void 0:s.parentStyleSheet,n,i.styleMirror),f=l.id,h=l.styleId;return(f&&-1!==f||h&&-1!==h)&&r({id:f,styleId:h,remove:{property:c},index:Kh(e.parentRule)}),t.apply(e,a)}))}),Gh((function(){a.CSSStyleDeclaration.prototype.setProperty=s,a.CSSStyleDeclaration.prototype.removeProperty=u}))}(t,{win:n}),t.collectFonts&&(A=function(t){var e=t.fontCb,r=t.doc,n=r.defaultView;if(!n)return function(){};var o=[],i=new WeakMap,a=n.FontFace;n.FontFace=function(t,e,r){var n=new a(t,e,r);return i.set(n,{family:t,buffer:"string"!=typeof e,descriptors:r,fontSource:"string"==typeof e?e:JSON.stringify(Array.from(new Uint8Array(e)))}),n};var s=hh(r.fonts,"add",(function(t){return function(r){return setTimeout(Gh((function(){var t=i.get(r);t&&(e(t),i.delete(r))})),0),t.apply(this,[r])}}));return o.push((function(){n.FontFace=a})),o.push(s),Gh((function(){o.forEach((function(t){return t()}))}))}(t)));var E,_=function(t){var e=t.doc,r=t.mirror,n=t.blockClass,o=t.blockSelector,i=t.selectionCb,a=!0,s=Gh((function(){var t=e.getSelection();if(!(!t||a&&(null==t?void 0:t.isCollapsed))){a=t.isCollapsed||!1;for(var s=[],u=t.rangeCount||0,c=0;c<u;c++){var l=t.getRangeAt(c),f=l.startContainer,h=l.startOffset,p=l.endContainer,d=l.endOffset;gh(f,n,o,!0)||gh(p,n,o,!0)||s.push({start:r.getId(f),startOffset:h,end:r.getId(p),endOffset:d})}i({ranges:s})}}));return s(),sh("selectionchange",s)}(t),R=function(t){var e=t.doc,r=t.customElementCb,n=e.defaultView;return n&&n.customElements?hh(n.customElements,"define",(function(t){return function(e,n,o){try{r({define:{name:e}})}catch(t){console.warn("Custom element callback failed for ".concat(e))}return t.apply(this,[e,n,o])}})):function(){}}(t),T=[],P=Rn(t.plugins);try{for(P.s();!(E=P.n()).done;){var M=E.value;T.push(M.observer(M.callback,n,M.options))}}catch(t){P.e(t)}finally{P.f()}return Gh((function(){zh.forEach((function(t){return t.reset()})),null==e||e.disconnect(),g(),b(),w(),k(),S(),I(),C(),x(),O(),A(),_(),R(),T.forEach((function(t){return t()}))}))}function tp(t){return void 0!==window[t]}function ep(t){return Boolean(void 0!==window[t]&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}for(var rp=jn((function t(e){Mn(this,t),Un(this,"iframeIdToRemoteIdMap",new WeakMap),Un(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=e}),[{key:"getId",value:function(t,e,r,n){var o=r||this.getIdToRemoteIdMap(t),i=n||this.getRemoteIdToIdMap(t),a=o.get(e);return a||(a=this.generateIdFn(),o.set(e,a),i.set(a,e)),a}},{key:"getIds",value:function(t,e){var r=this,n=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return e.map((function(e){return r.getId(t,e,n,o)}))}},{key:"getRemoteId",value:function(t,e,r){var n=r||this.getRemoteIdToIdMap(t);return"number"!=typeof e?e:n.get(e)||-1}},{key:"getRemoteIds",value:function(t,e){var r=this,n=this.getRemoteIdToIdMap(t);return e.map((function(e){return r.getRemoteId(t,e,n)}))}},{key:"reset",value:function(t){if(!t)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}},{key:"getIdToRemoteIdMap",value:function(t){var e=this.iframeIdToRemoteIdMap.get(t);return e||(e=new Map,this.iframeIdToRemoteIdMap.set(t,e)),e}},{key:"getRemoteIdToIdMap",value:function(t){var e=this.iframeRemoteIdToIdMap.get(t);return e||(e=new Map,this.iframeRemoteIdToIdMap.set(t,e)),e}}]),np=jn((function t(e){Mn(this,t),Un(this,"iframes",new WeakMap),Un(this,"crossOriginIframeMap",new WeakMap),Un(this,"crossOriginIframeMirror",new rp(Co)),Un(this,"crossOriginIframeStyleMirror"),Un(this,"crossOriginIframeRootIdMap",new WeakMap),Un(this,"mirror"),Un(this,"mutationCb"),Un(this,"wrappedEmit"),Un(this,"loadListener"),Un(this,"stylesheetManager"),Un(this,"recordCrossOriginIframes"),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new rp(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}),[{key:"addIframe",value:function(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}},{key:"addLoadListener",value:function(t){this.loadListener=t}},{key:"attachIframe",value:function(t,e){var r,n;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:e}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&(null==(r=t.contentWindow)||r.addEventListener("message",this.handleMessage.bind(this))),null==(n=this.loadListener)||n.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}},{key:"handleMessage",value:function(t){var e=t;if("rrweb"===e.data.type&&e.origin===e.data.origin&&t.source){var r=this.crossOriginIframeMap.get(t.source);if(r){var n=this.transformCrossOriginEvent(r,e.data.event);n&&this.wrappedEmit(n,e.data.isCheckout)}}}},{key:"transformCrossOriginEvent",value:function(t,e){var r,n=this;switch(e.type){case Ah.FullSnapshot:this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t);var o=e.data.node.id;return this.crossOriginIframeRootIdMap.set(t,o),this.patchRootIdOnNode(e.data.node,o),{timestamp:e.timestamp,type:Ah.IncrementalSnapshot,data:{source:Eh.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case Ah.Meta:case Ah.Load:case Ah.DomContentLoaded:return!1;case Ah.Plugin:return e;case Ah.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case Ah.IncrementalSnapshot:switch(e.data.source){case Eh.Mutation:return e.data.adds.forEach((function(e){n.replaceIds(e,t,["parentId","nextId","previousId"]),n.replaceIdOnNode(e.node,t);var r=n.crossOriginIframeRootIdMap.get(t);r&&n.patchRootIdOnNode(e.node,r)})),e.data.removes.forEach((function(e){n.replaceIds(e,t,["parentId","id"])})),e.data.attributes.forEach((function(e){n.replaceIds(e,t,["id"])})),e.data.texts.forEach((function(e){n.replaceIds(e,t,["id"])})),e;case Eh.Drag:case Eh.TouchMove:case Eh.MouseMove:return e.data.positions.forEach((function(e){n.replaceIds(e,t,["id"])})),e;case Eh.ViewportResize:return!1;case Eh.MediaInteraction:case Eh.MouseInteraction:case Eh.Scroll:case Eh.CanvasMutation:case Eh.Input:return this.replaceIds(e.data,t,["id"]),e;case Eh.StyleSheetRule:case Eh.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case Eh.Font:return e;case Eh.Selection:return e.data.ranges.forEach((function(e){n.replaceIds(e,t,["start","end"])})),e;case Eh.AdoptedStyleSheet:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),null==(r=e.data.styles)||r.forEach((function(e){n.replaceStyleIds(e,t,["styleId"])})),e}}return!1}},{key:"replace",value:function(t,e,r,n){var o,i=Rn(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;(Array.isArray(e[a])||"number"==typeof e[a])&&(Array.isArray(e[a])?e[a]=t.getIds(r,e[a]):e[a]=t.getId(r,e[a]))}}catch(t){i.e(t)}finally{i.f()}return e}},{key:"replaceIds",value:function(t,e,r){return this.replace(this.crossOriginIframeMirror,t,e,r)}},{key:"replaceStyleIds",value:function(t,e,r){return this.replace(this.crossOriginIframeStyleMirror,t,e,r)}},{key:"replaceIdOnNode",value:function(t,e){var r=this;this.replaceIds(t,e,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach((function(t){r.replaceIdOnNode(t,e)}))}},{key:"patchRootIdOnNode",value:function(t,e){var r=this;t.type===Mh.Document||t.rootId||(t.rootId=e),"childNodes"in t&&t.childNodes.forEach((function(t){r.patchRootIdOnNode(t,e)}))}}]),op=jn((function t(e){Mn(this,t),Un(this,"shadowDoms",new WeakSet),Un(this,"mutationCb"),Un(this,"scrollCb"),Un(this,"bypassOptions"),Un(this,"mirror"),Un(this,"restoreHandlers",[]),this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}),[{key:"init",value:function(){this.reset(),this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(t,e){var r=this;if(oo(t)&&!this.shadowDoms.has(t)){this.shadowDoms.add(t);var n=Zh(kn(kn({},this.bypassOptions),{},{doc:e,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push((function(){return n.disconnect()})),this.restoreHandlers.push(Hh(kn(kn({},this.bypassOptions),{},{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout((function(){t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&r.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,r.mirror.getId(ih(t))),r.restoreHandlers.push(Qh({mirror:r.mirror,stylesheetManager:r.bypassOptions.stylesheetManager},t))}),0)}}},{key:"observeAttachShadow",value:function(t){t.contentWindow&&t.contentDocument&&this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}},{key:"patchAttachShadow",value:function(t,e){var r=this;this.restoreHandlers.push(hh(t.prototype,"attachShadow",(function(t){return function(n){var o=t.call(this,n),i=ah(this);return i&&Oh(this)&&r.addShadowRoot(i,e),o}})))}},{key:"reset",value:function(){this.restoreHandlers.forEach((function(t){try{t()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}]),ip="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ap="undefined"==typeof Uint8Array?[]:new Uint8Array(256),sp=0;sp<64;sp++)ap[ip.charCodeAt(sp)]=sp;var up=new Map,cp=function(t,e,r){if(t&&(fp(t,e)||"object"===Dn(t))){var n=function(t,e){var r=up.get(t);return r||(r=new Map,up.set(t,r)),r.has(e)||r.set(e,[]),r.get(e)}(r,t.constructor.name),o=n.indexOf(t);return-1===o&&(o=n.length,n.push(t)),o}},lp=function(t,e,r){return t.map((function(t){return function t(e,r,n){return e instanceof Array?e.map((function(e){return t(e,r,n)})):null===e?e:e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray?{rr_type:e.constructor.name,args:[Object.values(e)]}:e instanceof ArrayBuffer?{rr_type:e.constructor.name,base64:function(t){var e,r=new Uint8Array(t),n=r.length,o="";for(e=0;e<n;e+=3)o+=ip[r[e]>>2],o+=ip[(3&r[e])<<4|r[e+1]>>4],o+=ip[(15&r[e+1])<<2|r[e+2]>>6],o+=ip[63&r[e+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(e)}:e instanceof DataView?{rr_type:e.constructor.name,args:[t(e.buffer,r,n),e.byteOffset,e.byteLength]}:e instanceof HTMLImageElement?{rr_type:e.constructor.name,src:e.src}:e instanceof HTMLCanvasElement?{rr_type:"HTMLImageElement",src:e.toDataURL()}:e instanceof ImageData?{rr_type:e.constructor.name,args:[t(e.data,r,n),e.width,e.height]}:fp(e,r)||"object"===Dn(e)?{rr_type:e.constructor.name,index:cp(e,r,n)}:e}(t,e,r)}))},fp=function(t,e){var r=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((function(t){return"function"==typeof e[t]}));return Boolean(r.find((function(r){return t instanceof e[r]})))};function hp(t,e,r,n){var o=[];try{var i=hh(t.HTMLCanvasElement.prototype,"getContext",(function(t){return function(o){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(!gh(this,e,r,!0)){var u=function(t){return"experimental-webgl"===t?"webgl":t}(o);if("__context"in this||(this.__context=u),n&&["webgl","webgl2"].includes(u))if(a[0]&&"object"===Dn(a[0])){var c=a[0];c.preserveDrawingBuffer||(c.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return t.apply(this,[o].concat(a))}}));o.push(i)}catch(t){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){o.forEach((function(t){return t()}))}}function pp(t,e,r,n,o,i){var a,s=[],u=Rn(Object.getOwnPropertyNames(t));try{var c=function(){var u=a.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(u))return 0;try{if("function"!=typeof t[u])return 0;var c=hh(t,u,(function(t){return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];var l=t.apply(this,s);if(cp(l,i,this),"tagName"in this.canvas&&!gh(this.canvas,n,o,!0)){var f=lp(s,i,this),h={type:e,property:u,args:f};r(this.canvas,h)}return l}}));s.push(c)}catch(n){var l=fh(t,u,{set:function(t){r(this.canvas,{type:e,property:u,args:[t],setter:!0})}});s.push(l)}};for(u.s();!(a=u.n()).done;)c()}catch(t){u.e(t)}finally{u.f()}return s}var dp="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",vp="undefined"!=typeof window&&window.Blob&&new Blob([Uint8Array.from(atob("KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo="),(function(t){return t.charCodeAt(0)}))],{type:"text/javascript;charset=utf-8"});function yp(t){var e;try{if(!(e=vp&&(window.URL||window.webkitURL).createObjectURL(vp)))throw"";var r=new Worker(e,{name:null==t?void 0:t.name});return r.addEventListener("error",(function(){(window.URL||window.webkitURL).revokeObjectURL(e)})),r}catch(e){return new Worker("data:text/javascript;base64,"+dp,{name:null==t?void 0:t.name})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}var mp,gp,bp,wp=jn((function t(e){var r=this;Mn(this,t),Un(this,"pendingCanvasMutations",new Map),Un(this,"rafStamps",{latestId:0,invokeId:null}),Un(this,"mirror"),Un(this,"mutationCb"),Un(this,"resetObservers"),Un(this,"frozen",!1),Un(this,"locked",!1),Un(this,"processMutation",(function(t,e){!(r.rafStamps.invokeId&&r.rafStamps.latestId!==r.rafStamps.invokeId)&&r.rafStamps.invokeId||(r.rafStamps.invokeId=r.rafStamps.latestId),r.pendingCanvasMutations.has(t)||r.pendingCanvasMutations.set(t,[]),r.pendingCanvasMutations.get(t).push(e)}));var n=e.sampling,o=void 0===n?"all":n,i=e.win,a=e.blockClass,s=e.blockSelector,u=e.recordCanvas,c=e.dataURLOptions;this.mutationCb=e.mutationCb,this.mirror=e.mirror,u&&"all"===o&&this.initCanvasMutationObserver(i,a,s),u&&"number"==typeof o&&this.initCanvasFPSObserver(o,i,a,s,{dataURLOptions:c})}),[{key:"reset",value:function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}},{key:"freeze",value:function(){this.frozen=!0}},{key:"unfreeze",value:function(){this.frozen=!1}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}},{key:"initCanvasFPSObserver",value:function(t,e,r,n,o){var i=this,a=hp(e,r,n,!0),s=new Map,u=new yp;u.onmessage=function(t){var e=t.data.id;if(s.set(e,!1),"base64"in t.data){var r=t.data,n=r.base64,o=r.type,a=r.width,u=r.height;i.mutationCb({id:e,type:Th["2D"],commands:[{property:"clearRect",args:[0,0,a,u]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:n}],type:o}]},0,0]}]})}};var c,l=1e3/t,f=0,h=function(t){var a;f&&t-f<l||(f=t,(a=[],e.document.querySelectorAll("canvas").forEach((function(t){gh(t,r,n,!0)||a.push(t)})),a).forEach(function(){var t=yn(dn().mark((function t(e){var r,n,a,c;return dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.mirror.getId(e),!s.get(n)){t.next=3;break}return t.abrupt("return");case 3:if(0!==e.width&&0!==e.height){t.next=5;break}return t.abrupt("return");case 5:return s.set(n,!0),["webgl","webgl2"].includes(e.__context)&&(a=e.getContext(e.__context),!1===(null==(r=null==a?void 0:a.getContextAttributes())?void 0:r.preserveDrawingBuffer)&&a.clear(a.COLOR_BUFFER_BIT)),t.next=9,createImageBitmap(e);case 9:c=t.sent,u.postMessage({id:n,bitmap:c,width:e.width,height:e.height,dataURLOptions:o.dataURLOptions},[c]);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),c=requestAnimationFrame(h)};c=requestAnimationFrame(h),this.resetObservers=function(){a(),cancelAnimationFrame(c)}}},{key:"initCanvasMutationObserver",value:function(t,e,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var n=hp(t,e,r,!1),o=function(t,e,r,n){var o,i=[],a=Rn(Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype));try{var s=function(){var a=o.value;try{if("function"!=typeof e.CanvasRenderingContext2D.prototype[a])return 1;var s=hh(e.CanvasRenderingContext2D.prototype,a,(function(o){return function(){for(var i=this,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return gh(this.canvas,r,n,!0)||setTimeout((function(){var r=lp(u,e,i);t(i.canvas,{type:Th["2D"],property:a,args:r})}),0),o.apply(this,u)}}));i.push(s)}catch(r){var u=fh(e.CanvasRenderingContext2D.prototype,a,{set:function(e){t(this.canvas,{type:Th["2D"],property:a,args:[e],setter:!0})}});i.push(u)}};for(a.s();!(o=a.n()).done;)s()}catch(t){a.e(t)}finally{a.f()}return function(){i.forEach((function(t){return t()}))}}(this.processMutation.bind(this),t,e,r),i=function(t,e,r,n){var o=[];return o.push.apply(o,In(pp(e.WebGLRenderingContext.prototype,Th.WebGL,t,r,n,e))),void 0!==e.WebGL2RenderingContext&&o.push.apply(o,In(pp(e.WebGL2RenderingContext.prototype,Th.WebGL2,t,r,n,e))),function(){o.forEach((function(t){return t()}))}}(this.processMutation.bind(this),t,e,r);this.resetObservers=function(){n(),o(),i()}}},{key:"startPendingCanvasMutationFlusher",value:function(){var t=this;requestAnimationFrame((function(){return t.flushPendingCanvasMutations()}))}},{key:"startRAFTimestamping",value:function(){var t=this,e=function(r){t.rafStamps.latestId=r,requestAnimationFrame(e)};requestAnimationFrame(e)}},{key:"flushPendingCanvasMutations",value:function(){var t=this;this.pendingCanvasMutations.forEach((function(e,r){var n=t.mirror.getId(r);t.flushPendingCanvasMutationFor(r,n)})),requestAnimationFrame((function(){return t.flushPendingCanvasMutations()}))}},{key:"flushPendingCanvasMutationFor",value:function(t,e){if(!this.frozen&&!this.locked){var r=this.pendingCanvasMutations.get(t);if(r&&-1!==e){var n=r.map((function(t){return t.type,pn(t,hn)})),o=r[0].type;this.mutationCb({id:e,type:o,commands:n}),this.pendingCanvasMutations.delete(t)}}}}]),kp=jn((function t(e){Mn(this,t),Un(this,"trackedLinkElements",new WeakSet),Un(this,"mutationCb"),Un(this,"adoptedStyleSheetCb"),Un(this,"styleMirror",new Ch),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}),[{key:"attachLinkElement",value:function(t,e){"_cssText"in e.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:e.id,attributes:e.attributes}]}),this.trackLinkElement(t)}},{key:"trackLinkElement",value:function(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}},{key:"adoptStyleSheets",value:function(t,e){var r=this;if(0!==t.length){var n,o={id:e,styleIds:[]},i=[],a=Rn(t);try{var s=function(){var t,e=n.value;r.styleMirror.has(e)?t=r.styleMirror.getId(e):(t=r.styleMirror.add(e),i.push({styleId:t,rules:Array.from(e.rules||CSSRule,(function(t,r){return{rule:ao(t,e.href),index:r}}))})),o.styleIds.push(t)};for(a.s();!(n=a.n()).done;)s()}catch(t){a.e(t)}finally{a.f()}i.length>0&&(o.styles=i),this.adoptedStyleSheetCb(o)}}},{key:"reset",value:function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(t){}}]),Sp=jn((function t(){Mn(this,t),Un(this,"nodeMap",new WeakMap),Un(this,"active",!1)}),[{key:"inOtherBuffer",value:function(t,e){var r=this.nodeMap.get(t);return r&&Array.from(r).some((function(t){return t!==e}))}},{key:"add",value:function(t,e){var r=this;this.active||(this.active=!0,requestAnimationFrame((function(){r.nodeMap=new WeakMap,r.active=!1}))),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(e))}},{key:"destroy",value:function(){}}]),Ip=!1;try{if(2!==Array.from([1],(function(t){return 2*t}))[0]){var Cp=document.createElement("iframe");document.body.appendChild(Cp),Array.from=(null==(Fn=Cp.contentWindow)?void 0:Fn.Array.from)||Array.from,document.body.removeChild(Cp)}}catch(t){console.debug("Unable to override Array.from",t)}var xp,Op,Ap=new so;function Ep(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.emit,r=t.checkoutEveryNms,n=t.checkoutEveryNth,o=t.blockClass,i=void 0===o?"rr-block":o,a=t.blockSelector,s=void 0===a?null:a,u=t.ignoreClass,c=void 0===u?"rr-ignore":u,l=t.ignoreSelector,f=void 0===l?null:l,h=t.maskTextClass,p=void 0===h?"rr-mask":h,d=t.maskTextSelector,v=void 0===d?null:d,y=t.inlineStylesheet,m=void 0===y||y,g=t.maskAllInputs,b=t.maskInputOptions,w=t.slimDOMOptions,k=t.maskInputFn,S=t.maskTextFn,I=t.hooks,C=t.packFn,x=t.sampling,O=void 0===x?{}:x,A=t.dataURLOptions,E=void 0===A?{}:A,_=t.mousemoveWait,R=t.recordDOM,T=void 0===R||R,P=t.recordCanvas,M=void 0!==P&&P,L=t.recordCrossOriginIframes,j=void 0!==L&&L,N=t.recordAfter,D=void 0===N?"DOMContentLoaded"===t.recordAfter?t.recordAfter:"load":N,F=t.userTriggeredOnInput,B=void 0!==F&&F,U=t.collectFonts,Y=void 0!==U&&U,G=t.inlineImages,z=void 0!==G&&G,W=t.plugins,Z=t.keepIframeSrcFn,V=void 0===Z?function(){return!1}:Z,H=t.ignoreCSSAttributes,J=void 0===H?new Set([]):H,X=t.errorHandler;jh=X;var K=!j||window.parent===window,q=!1;if(!K)try{window.parent.document&&(q=!1)}catch(t){q=!0}if(K&&!e)throw new Error("emit function is required");if(!K&&!q)return function(){};void 0!==_&&void 0===O.mousemove&&(O.mousemove=_),Ap.reset();var Q,$=!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==b?b:{password:!0},tt=!0===w||"all"===w?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===w,headMetaDescKeywords:"all"===w,headTitleMutations:"all"===w}:w||{};!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach)}();var et=0,rt=function(t){var e,r=Rn(W||[]);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.eventProcessor&&(t=n.eventProcessor(t))}}catch(t){r.e(t)}finally{r.f()}return C&&!q&&(t=C(t)),t};mp=function(t,o){var i,a=t;if(a.timestamp=ph(),!(null==(i=zh[0])?void 0:i.isFrozen())||a.type===Ah.FullSnapshot||a.type===Ah.IncrementalSnapshot&&a.data.source===Eh.Mutation||zh.forEach((function(t){return t.unfreeze()})),K)null==e||e(rt(a),o);else if(q){var s={type:"rrweb",event:rt(a),origin:window.location.origin,isCheckout:o};window.parent.postMessage(s,"*")}if(a.type===Ah.FullSnapshot)Q=a,et=0;else if(a.type===Ah.IncrementalSnapshot){if(a.data.source===Eh.Mutation&&a.data.isAttachIframe)return;et++;var u=n&&et>=n,c=r&&a.timestamp-Q.timestamp>r;(u||c)&&gp(!0)}};var nt,ot=function(t){mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.Mutation},t)})},it=function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.Scroll},t)})},at=function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.CanvasMutation},t)})},st=new kp({mutationCb:ot,adoptedStyleSheetCb:function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.AdoptedStyleSheet},t)})}}),ut=new np({mirror:Ap,mutationCb:ot,stylesheetManager:st,recordCrossOriginIframes:j,wrappedEmit:mp}),ct=Rn(W||[]);try{for(ct.s();!(nt=ct.n()).done;){var lt=nt.value;lt.getMirror&&lt.getMirror({nodeMirror:Ap,crossOriginIframeMirror:ut.crossOriginIframeMirror,crossOriginIframeStyleMirror:ut.crossOriginIframeStyleMirror})}}catch(t){ct.e(t)}finally{ct.f()}var ft=new Sp;bp=new wp({recordCanvas:M,mutationCb:at,win:window,blockClass:i,blockSelector:s,mirror:Ap,sampling:O.canvas,dataURLOptions:E});var ht=new op({mutationCb:ot,scrollCb:it,bypassOptions:{blockClass:i,blockSelector:s,maskTextClass:p,maskTextSelector:v,inlineStylesheet:m,maskInputOptions:$,dataURLOptions:E,maskTextFn:S,maskInputFn:k,recordCanvas:M,inlineImages:z,sampling:O,slimDOMOptions:tt,iframeManager:ut,stylesheetManager:st,canvasManager:bp,keepIframeSrcFn:V,processedNodeManager:ft},mirror:Ap});gp=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(T){mp({type:Ah.Meta,data:{href:window.location.href,width:yh(),height:vh()}},t),st.reset(),ht.init(),zh.forEach((function(t){return t.lock()}));var e=function(t,e){var r=e||{},n=r.mirror,o=void 0===n?new so:n,i=r.blockClass,a=r.blockSelector,s=r.maskTextClass,u=r.maskTextSelector,c=r.inlineStylesheet,l=r.inlineImages,f=r.recordCanvas,h=r.maskAllInputs,p=void 0!==h&&h,d=r.slimDOM,v=void 0!==d&&d,y=r.keepIframeSrcFn;return Do(t,{doc:t,mirror:o,blockClass:void 0===i?"rr-block":i,blockSelector:void 0===a?null:a,maskTextClass:void 0===s?"rr-mask":s,maskTextSelector:void 0===u?null:u,skipChild:!1,inlineStylesheet:void 0===c||c,maskInputOptions:!0===p?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===p?{password:!0}:p,maskTextFn:r.maskTextFn,maskInputFn:r.maskInputFn,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:r.dataURLOptions,inlineImages:void 0!==l&&l,recordCanvas:void 0!==f&&f,preserveWhiteSpace:r.preserveWhiteSpace,onSerialize:r.onSerialize,onIframeLoad:r.onIframeLoad,iframeLoadTimeout:r.iframeLoadTimeout,onStylesheetLoad:r.onStylesheetLoad,stylesheetLoadTimeout:r.stylesheetLoadTimeout,keepIframeSrcFn:void 0===y?function(){return!1}:y,newlyAddedElement:!1})}(document,{mirror:Ap,blockClass:i,blockSelector:s,maskTextClass:p,maskTextSelector:v,inlineStylesheet:m,maskAllInputs:$,maskTextFn:S,maskInputFn:k,slimDOM:tt,dataURLOptions:E,recordCanvas:M,inlineImages:z,onSerialize:function(t){kh(t,Ap)&&ut.addIframe(t),Sh(t,Ap)&&st.trackLinkElement(t),Ih(t)&&ht.addShadowRoot(ah(t),document)},onIframeLoad:function(t,e){ut.attachIframe(t,e),ht.observeAttachShadow(t)},onStylesheetLoad:function(t,e){st.attachLinkElement(t,e)},keepIframeSrcFn:V});if(!e)return console.warn("Failed to snapshot the document");mp({type:Ah.FullSnapshot,data:{node:e,initialOffset:dh(window)}},t),zh.forEach((function(t){return t.unlock()})),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&st.adoptStyleSheets(document.adoptedStyleSheets,Ap.getId(document))}};try{var pt=[],dt=function(t){var e;return Gh($h)({mutationCb:ot,mousemoveCb:function(t,e){return mp({type:Ah.IncrementalSnapshot,data:{source:e,positions:t}})},mouseInteractionCb:function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.MouseInteraction},t)})},scrollCb:it,viewportResizeCb:function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.ViewportResize},t)})},inputCb:function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.Input},t)})},mediaInteractionCb:function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.MediaInteraction},t)})},styleSheetRuleCb:function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.StyleSheetRule},t)})},styleDeclarationCb:function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.StyleDeclaration},t)})},canvasMutationCb:at,fontCb:function(t){return mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.Font},t)})},selectionCb:function(t){mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.Selection},t)})},customElementCb:function(t){mp({type:Ah.IncrementalSnapshot,data:kn({source:Eh.CustomElement},t)})},blockClass:i,ignoreClass:c,ignoreSelector:f,maskTextClass:p,maskTextSelector:v,maskInputOptions:$,inlineStylesheet:m,sampling:O,recordDOM:T,recordCanvas:M,inlineImages:z,userTriggeredOnInput:B,collectFonts:Y,doc:t,maskInputFn:k,maskTextFn:S,keepIframeSrcFn:V,blockSelector:s,slimDOMOptions:tt,dataURLOptions:E,mirror:Ap,iframeManager:ut,stylesheetManager:st,shadowDomManager:ht,processedNodeManager:ft,canvasManager:bp,ignoreCSSAttributes:J,plugins:(null==(e=null==W?void 0:W.filter((function(t){return t.observer})))?void 0:e.map((function(t){return{observer:t.observer,options:t.options,callback:function(e){return mp({type:Ah.Plugin,data:{plugin:t.name,payload:e}})}}})))||[]},I)};ut.addLoadListener((function(t){try{pt.push(dt(t.contentDocument))}catch(t){console.warn(t)}}));var vt=function(){gp(),pt.push(dt(document)),Ip=!0};return"interactive"===document.readyState||"complete"===document.readyState?vt():(pt.push(sh("DOMContentLoaded",(function(){mp({type:Ah.DomContentLoaded,data:{}}),"DOMContentLoaded"===D&&vt()}))),pt.push(sh("load",(function(){mp({type:Ah.Load,data:{}}),"load"===D&&vt()}),window))),function(){pt.forEach((function(t){return t()})),ft.destroy(),Ip=!1,jh=void 0}}catch(t){console.warn(t)}}Ep.addCustomEvent=function(t,e){if(!Ip)throw new Error("please add custom event after start recording");mp({type:Ah.Custom,data:{tag:t,payload:e}})},Ep.freezePage=function(){zh.forEach((function(t){return t.freeze()}))},Ep.takeFullSnapshot=function(t){if(!Ip)throw new Error("please take full snapshot after start recording");gp(t)},Ep.mirror=Ap,(Op=xp||(xp={}))[Op.NotStarted=0]="NotStarted",Op[Op.Running=1]="Running",Op[Op.Stopped=2]="Stopped";var _p=function(t){return t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t}(_p||{}),Rp=["enabled","autoStart","maxPreDuration","debug","emit","checkoutEveryNms"];function Tp(t){return(Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pp(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Mp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Mp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Lp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lp(Object(r),!0).forEach((function(e){Dp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Np(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fp(n.key),n)}}function Dp(t,e,r){return(e=Fp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fp(t){var e=function(t,e){if("object"!=Tp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=Tp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==Tp(e)?e:e+""}var Bp=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Dp(this,"_options",void 0),Dp(this,"_rrwebOptions",void 0),Dp(this,"_isReady",!1),Dp(this,"_stopFn",null),Dp(this,"_recordFn",void 0),Dp(this,"_buffers",[[],[]]),Dp(this,"_currentSlot",0),this.options=e,this._recordFn=e.recordFn||Ep}return function(t,e,r){return e&&Np(t.prototype,e),r&&Np(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"_previousSlot",get:function(){return 1^this._currentSlot}},{key:"isRecording",get:function(){return null!==this._stopFn}},{key:"isReady",get:function(){return this._isReady}},{key:"options",get:function(){return this._options},set:function(t){this.configure(t)}},{key:"configure",value:function(t){var e=t.enabled,r=t.autoStart,n=t.maxPreDuration,o=t.debug,i=(t.emit,t.checkoutEveryNms,function(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],-1===e.indexOf(r)&&{}.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}(t,Rp));this._options={enabled:e,autoStart:r,maxPreDuration:n,debug:o},this._rrwebOptions=i,this.isRecording&&!1===t.enabled&&this.stop()}},{key:"checkoutEveryNms",value:function(){return 1e3*(this.options.maxPreDuration||10)/2}},{key:"bufferCursor",value:function(){return{slot:this._currentSlot,offset:this._buffers[this._currentSlot].length-1}}},{key:"exportRecordingSpan",value:function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=o?this._collectEventsFromCursor(o):this._collectAll();if(0===i.length)throw new Error("Replay recording has no events");var a=t.startSpan("rrweb-replay-recording",{});a.setAttributes(jp(jp({},null!==(e=null===(r=t.session)||void 0===r?void 0:r.attributes)&&void 0!==e?e:{}),n));var s=i.reduce((function(t,e){return e.timestamp<t.timestamp?e:t}));a.span.startTime=Or.fromMillis(s.timestamp);var u,c=Pp(i);try{for(c.s();!(u=c.n()).done;){var l=u.value;a.addEvent("rrweb-replay-events",{eventType:l.type,json:JSON.stringify(l.data)},Or.fromMillis(l.timestamp))}}catch(t){c.e(t)}finally{c.f()}a.end()}},{key:"start",value:function(){var e=this;if(!this.isRecording&&!1!==this.options.enabled)return this.clear(),this._stopFn=this._recordFn(jp({emit:function(r,n){var o;e._isReady||r.type!==_p.FullSnapshot||(e._isReady=!0),null!==(o=e.options.debug)&&void 0!==o&&o.logEmits&&t._logEvent(r,n),n&&r.type===_p.Meta&&(e._currentSlot=e._previousSlot,e._buffers[e._currentSlot]=[]),e._buffers[e._currentSlot].push(r)},checkoutEveryNms:this.checkoutEveryNms(),errorHandler:function(t){var r;return null!==(r=e.options.debug)&&void 0!==r&&r.logErrors&&vt.error("Error during replay recording",t),!0}},this._rrwebOptions)),this}},{key:"stop",value:function(){if(this.isRecording)return this._stopFn(),this._stopFn=null,this._isReady=!1,this}},{key:"clear",value:function(){this._buffers=[[],[]],this._currentSlot=0,this._isReady=!1}},{key:"_collectAll",value:function(){var e=this._buffers[this._previousSlot],r=this._buffers[this._currentSlot],n=e.concat(r);return n.length>0&&n.push(t._replayEndEvent()),n}},{key:"_collectEventsFromCursor",value:function(e){var r,n,o=this._currentSlot,i=null!==(r=this._buffers[e.slot])&&void 0!==r?r:[],a=this._buffers[o],s=i.slice(Math.max(0,e.offset+1)),u=e.slot===o?[]:a,c=s.concat(u);return null!==(n=this.options.debug)&&void 0!==n&&n.logErrors&&e.slot!==o&&0===s.length&&vt.warn("Captured lead buffer cleared by multiple checkouts"),c.length>0&&c.push(t._replayEndEvent()),c}}],[{key:"_replayEndEvent",value:function(){return{type:_p.Custom,timestamp:Date.now(),data:{tag:"replay.end",payload:{}}}}},{key:"_logEvent",value:function(t,e){vt.log("Recorder: ".concat(e?"checkout":""," event\n"),function(t){var e=new WeakSet;return JSON.stringify(t,(function(t,r){if("object"===Tp(r)&&null!==r){if(e.has(r))return"[Circular]";e.add(r)}return r}),2)}(t))}}])}();function Up(t){return(Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yp(t,e){if(t){if("string"==typeof t)return Gp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gp(t,e):void 0}}function Gp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function zp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zp(Object(r),!0).forEach((function(e){Vp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hp(n.key),n)}}function Vp(t,e,r){return(e=Hp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hp(t){var e=function(t,e){if("object"!=Up(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=Up(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==Up(e)?e:e+""}var Jp=function(t,e,r){return e&&Zp(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Vp(this,"maxAdjustedCount",Math.pow(2,56)),this.configure(e),this.predicates={occurrence:[this.isLevelMatching.bind(this),this.isPredicateFnMatching.bind(this),this.isSampled.bind(this)],navigation:[this.isPathMatching.bind(this),this.isPredicateFnMatching.bind(this),this.isSampled.bind(this)],direct:[this.isTagMatching.bind(this),this.isPredicateFnMatching.bind(this),this.isSampled.bind(this)]}}),[{key:"configure",value:function(t){this.config=t||{},this.triggers=this._triggersWithDefaults(t),this.maxPreDuration=this._maxPreDuration()}},{key:"_triggersWithDefaults",value:function(t){return((null==t?void 0:t.triggers)||[]).map((function(e){return Wp(Wp({},t.triggerDefaults),e)}))}},{key:"_maxPreDuration",value:function(){return this.triggers?Math.max.apply(Math,function(t){return function(t){if(Array.isArray(t))return Gp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Yp(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.triggers.map((function(t){return t.preDuration||0}))).concat([0])):0}},{key:"shouldCaptureForTriggerContext",value:function(t){var e,r=this.predicates[t.type],n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Yp(t))){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(this.triggers);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o.type===t.type&&this.isEnabledForTrigger(o,r,t))return o}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"isEnabledForTrigger",value:function(t,e,r){return!e.find((function(e){return!e(t,r)}))}},{key:"isLevelMatching",value:function(t,e){return!(t.level&&!t.level.includes(e.level))}},{key:"isPathMatching",value:function(t,e){var r=e.path,n=t.pathMatch;if(!n)return!0;if(!r)return!1;if("string"==typeof n){if(r.includes(n))return!0}else if(r.match(n))return!0;return!1}},{key:"isTagMatching",value:function(t,e){var r;return!t.tags||!(null===(r=e.tags)||void 0===r||!r.some((function(e){return t.tags.includes(e)})))}},{key:"isPredicateFnMatching",value:function(t,e){return console.log("isPredicateFnMatching",t,e),"function"!=typeof t.predicateFn||t.predicateFn(t,e)}},{key:"isSampled",value:function(t,e){var r,n=null!==(r=t.samplingRatio)&&void 0!==r?r:1;return 1==n||e.replayId.slice(-14)>=(this.maxAdjustedCount*(1-n)).toString(16).padStart(14,"0")}}]);function Xp(t){return(Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kp(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return qp(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function qp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Qp(){Qp=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new _(n||[]);return o(a,"_invoke",{value:x(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",d="completed",v={};function y(){}function m(){}function g(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(R([])));k&&k!==r&&n.call(k,a)&&(b=k);var S=g.prototype=y.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Xp(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?d:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=d,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Xp(e)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),c(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new C(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),c(S,u,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function $p(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}function td(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$p(i,n,o,a,s,"next",t)}function s(t){$p(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ed(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nd(n.key),n)}}function rd(t,e,r){return(e=nd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nd(t){var e=function(t,e){if("object"!=Xp(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=Xp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==Xp(e)?e:e+""}var od=function(){return function(t,e,r){return e&&ed(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=e.recorder,n=e.tracing,o=e.telemeter,i=e.shouldSend,a=e.onComplete;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),rd(this,"_recorder",void 0),rd(this,"_tracing",void 0),rd(this,"_telemeter",void 0),rd(this,"_pending",new Map),rd(this,"_shouldSend",void 0),rd(this,"_onComplete",void 0),this._recorder=r,this._tracing=n,this._telemeter=o,this._shouldSend=i,this._onComplete=a}),[{key:"schedule",value:function(t,e,r){var n=this,o=Date.now(),i=o+1e3*r,a=this._recorder.checkoutEveryNms(),s=this._recorder.bufferCursor(),u=setInterval((function(){n._export(t)}),a),c=setTimeout((function(){n._finalExport(t)}),1e3*r);this._pending.set(t,{intervalId:u,endTimerId:c,startTime:o,endAt:i,postDuration:r,occurrenceUuid:e,cursor:s,chunkQueue:[],sending:!1,aborted:!1,finished:!1})}},{key:"_export",value:(e=td(Qp().mark((function t(e){var r,n,o,i,a;return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(!(n=this._pending.get(e))||n.aborted||n.finished||Date.now()>=n.endAt)){t.next=3;break}return t.abrupt("return");case 3:o=n.cursor,i=this._recorder.bufferCursor(),t.prev=5,this._recorder.exportRecordingSpan(this._tracing,{"rollbar.replay.id":e,"rollbar.occurrence.uuid":n.occurrenceUuid},o),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(5),vt.debug("Error exporting leading chunk (tick):",t.t0),t.abrupt("return");case 13:return null===(r=this._telemeter)||void 0===r||r.exportTelemetrySpan({"rollbar.replay.id":e}),a=this._tracing.exporter.toPayload(),n.chunkQueue.push({payload:a,cursor:o}),n.cursor=i,t.next=19,this.sendIfReady(e);case 19:case"end":return t.stop()}}),t,this,[[5,9]])}))),function(t){return e.apply(this,arguments)})},{key:"_finalExport",value:(t=td(Qp().mark((function t(e){var r,n,o,i,a,s;return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=this._pending.get(e))&&!r.aborted){t.next=3;break}return t.abrupt("return");case 3:r.intervalId&&clearInterval(r.intervalId),r.endTimerId&&clearTimeout(r.endTimerId),r.finished=!0,n=r.cursor,o=this._recorder.bufferCursor();try{this._recorder.exportRecordingSpan(this._tracing,{"rollbar.replay.id":e,"rollbar.occurrence.uuid":r.occurrenceUuid},n),null===(i=this._telemeter)||void 0===i||i.exportTelemetrySpan({"rollbar.replay.id":e}),a=this._tracing.exporter.toPayload(),r.chunkQueue.push({payload:a,cursor:n}),r.cursor=o}catch(t){vt.debug("Error exporting leading chunk (final):",t)}if(r.sending||0!==r.chunkQueue.length){t.next=13;break}return this._pending.delete(e),null===(s=this._onComplete)||void 0===s||s.call(this,e),t.abrupt("return");case 13:return t.next=15,this.sendIfReady(e);case 15:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"sendIfReady",value:function(){var t=td(Qp().mark((function t(e){var r,n,o,i,a,s;return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this._pendingContextIfReady(e)){t.next=3;break}return t.abrupt("return");case 3:if(!r.finished||r.sending||0!==r.chunkQueue.length){t.next=7;break}return this._pending.delete(e),null===(n=this._onComplete)||void 0===n||n.call(this,e),t.abrupt("return");case 7:r.sending=!0,o=Kp(r.chunkQueue),t.prev=9,o.s();case 11:if((i=o.n()).done){t.next=31;break}if(a=i.value,!r.aborted){t.next=15;break}return t.abrupt("break",31);case 15:if(this._shouldSend(e)){t.next=19;break}throw vt.error("Coordination check failed during chunk send"),this.discard(e),new Error("Coordination check failed during chunk send");case 19:return t.prev=19,t.next=22,this._tracing.exporter.post(a.payload,{"X-Rollbar-Replay-Id":e});case 22:t.next=29;break;case 24:throw t.prev=24,t.t0=t.catch(19),vt.error("Failed to send leading replay:",t.t0),this.discard(e),t.t0;case 29:t.next=11;break;case 31:t.next=36;break;case 33:t.prev=33,t.t1=t.catch(9),o.e(t.t1);case 36:return t.prev=36,o.f(),t.finish(36);case 39:r.sending=!1,r.chunkQueue=[],r.finished&&(this._pending.delete(e),null===(s=this._onComplete)||void 0===s||s.call(this,e));case 42:case"end":return t.stop()}}),t,this,[[9,33,36,39],[19,24]])})));return function(e){return t.apply(this,arguments)}}()},{key:"discard",value:function(t){var e,r=this._pending.get(t);r&&(r.aborted=!0,r.intervalId&&clearInterval(r.intervalId),r.endTimerId&&clearTimeout(r.endTimerId),r.chunkQueue=[],this._pending.delete(t),null===(e=this._onComplete)||void 0===e||e.call(this,t))}},{key:"_pendingContextIfReady",value:function(t){var e=this._pending.get(t);return e&&!e.aborted&&!e.sending&&e.chunkQueue.length>0&&this._shouldSend(t)?e:null}}]);var t,e}();function id(t){return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ad(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function sd(){sd=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),s=new _(n||[]);return o(a,"_invoke",{value:x(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="executing",d="completed",v={};function y(){}function m(){}function g(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,k=w&&w(w(R([])));k&&k!==r&&n.call(k,a)&&(b=k);var S=g.prototype=y.prototype=Object.create(b);function I(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==id(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=h;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var u=O(s,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?d:"suspendedYield",c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=d,n.method="throw",n.arg=c.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(id(e)+" is not iterable")}return m.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},I(C.prototype),c(C.prototype,s,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new C(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},I(S),c(S,u,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=R,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ud(t,e,r,n,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,o)}function cd(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ud(i,n,o,a,s,"next",t)}function s(t){ud(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ld(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ld(Object(r),!0).forEach((function(e){pd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dd(n.key),n)}}function pd(t,e,r){return(e=dd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dd(t){var e=function(t,e){if("object"!=id(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=id(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==id(e)?e:e+""}var vd=Object.freeze({PENDING:"pending",SENT:"sent",FAILED:"failed",SKIPPED:"skipped"}),yd=function(){function t(e){var r=e.tracing,n=e.telemeter,o=e.options;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),pd(this,"_map",void 0),pd(this,"_recorder",void 0),pd(this,"_tracing",void 0),pd(this,"_telemeter",void 0),pd(this,"_scheduledCapture",void 0),pd(this,"_trailingStatus",void 0),!r)throw new TypeError("Expected 'tracing' to be provided");this._map=new Map,this._predicates=new Jp(o),this._recorder=new Bp(fd(fd({},o),{},{maxPreDuration:this._predicates.maxPreDuration})),this._tracing=r,this._telemeter=n,this._trailingStatus=new Map,this._scheduledCapture=new od({recorder:this._recorder,tracing:this._tracing,telemeter:this._telemeter,shouldSend:this._shouldSendScheduled.bind(this),onComplete:this._onScheduledComplete.bind(this)}),this._tracing.addSpanTransform(this.uuidsTransform.bind(this))}return function(t,e,r){return e&&hd(t.prototype,e),r&&hd(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"_onScheduledComplete",value:function(t){this._trailingStatus.delete(t)}},{key:"_shouldSendScheduled",value:function(t){var e=this._trailingStatus.get(t);return e===vd.SENT||e===vd.SKIPPED}},{key:"configure",value:function(t){this._predicates.configure(t),this._recorder.configure(fd(fd({},t),{},{maxPreDuration:this._predicates.maxPreDuration}))}},{key:"_exportSpansAndAddTracingPayload",value:(o=cd(sd().mark((function t(e,r,n,o){var i,a,s;return sd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,this._recorder.exportRecordingSpan(this._tracing,{"rollbar.replay.id":e,"rollbar.occurrence.uuid":r,"rollbar.replay.trigger.type":n.type,"rollbar.replay.trigger.context":JSON.stringify(o),"rollbar.replay.trigger":JSON.stringify(n),"rollbar.replay.url.full":m(window.location.href)}),t.next=8;break;case 4:return t.prev=4,t.t0=t.catch(0),vt.debug("Error exporting recording span:",t.t0),t.abrupt("return");case 8:null===(i=this._telemeter)||void 0===i||i.exportTelemetrySpan({"rollbar.replay.id":e}),a=this._tracing.exporter.toPayload(),this._map.set(e,a),(s=(null==n?void 0:n.postDuration)||0)>0&&(this._scheduledCapture.schedule(e,r,s),this._trailingStatus.set(e,vd.PENDING));case 13:case"end":return t.stop()}}),t,this,[[0,4]])}))),function(t,e,r,n){return o.apply(this,arguments)})},{key:"capture",value:function(t,e,r){if(!this._recorder.isReady)return vt.warn("Replay.capture: Recorder is not ready, cannot export replay"),null;t=t||vr(8);var n=this._predicates.shouldCaptureForTriggerContext(fd(fd({},r),{},{replayId:t}));return n?(this._exportSpansAndAddTracingPayload(t,e,n,r),t):null}},{key:"triggerReplay",value:(n=cd(sd().mark((function t(e){var r,n,o,i;return sd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=vr(8),n=this._predicates.shouldCaptureForTriggerContext(fd(fd({},e),{},{replayId:r}))){t.next=4;break}return t.abrupt("return",null);case 4:if(!this._recorder.isReady){t.next=9;break}return t.next=7,this._exportSpansAndAddTracingPayload(r,null,n,e);case 7:t.next=12;break;case 9:this._trailingStatus.set(r,vd.SKIPPED),(i=(null===(o=this._recorder.options)||void 0===o?void 0:o.postDuration)||0)>0&&this._scheduledCapture.schedule(r,null,i);case 12:return t.prev=12,t.next=15,this.send(r);case 15:t.next=21;break;case 17:return t.prev=17,t.t0=t.catch(12),this.discard(r),t.abrupt("return",null);case 21:return t.abrupt("return",r);case 22:case"end":return t.stop()}}),t,this,[[12,17]])}))),function(t){return n.apply(this,arguments)})},{key:"sendOrDiscardReplay",value:(r=cd(sd().mark((function e(r,n,o,i){return sd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._canSendReplay(n,o,i)){e.next=13;break}return e.prev=2,e.next=5,this.send(r);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),vt.error("Failed to send replay:",e.t0),this.discard(r);case 11:e.next=14;break;case 13:this.discard(r);case 14:case"end":return e.stop()}}),e,this,[[2,7]])}))),function(t,e,n,o){return r.apply(this,arguments)})},{key:"send",value:(e=cd(sd().mark((function t(e){var r;return sd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw Error("Replay.send: No replayId provided");case 2:if(this._map.has(e)){t.next=4;break}throw Error("Replay.send: No replay found for id: ".concat(e));case 4:if(r=this._map.get(e),this._map.delete(e),!(!r||Array.isArray(r)&&0===r.length||r.resourceSpans&&0===r.resourceSpans.length)){t.next=9;break}throw Error("Replay.send: No payload found for id: ".concat(e));case 9:return t.next=11,this._tracing.exporter.post(r,{"X-Rollbar-Replay-Id":e});case 11:return this._trailingStatus.set(e,vd.SENT),t.next=14,this._scheduledCapture.sendIfReady(e);case 14:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"discard",value:function(t){return t?(this._trailingStatus.set(t,vd.FAILED),this._scheduledCapture.discard(t),this._map.has(t)?(this._map.delete(t),this._trailingStatus.delete(t),!0):(vt.error("Replay.discard: No replay found for replayId: ".concat(t)),!1)):(vt.error("Replay.discard: No replayId provided"),!1)}},{key:"uuidsTransform",value:function(t){var e=Or.toMillis(t.startTime),r=this._telemeter.queue.filter((function(t){return t.timestamp_ms>=e&&t.uuid})).map((function(t){return t.uuid}));t.attributes["rollbar.occurrence.uuids"]=JSON.stringify(r)}},{key:"getSpans",value:function(t){var e;return null!==(e=this._map.get(t))&&void 0!==e?e:null}},{key:"setSpans",value:function(t,e){this._map.set(t,e)}},{key:"clear",value:function(){this._map.clear()}},{key:"size",get:function(){return this._map.size}},{key:"recorder",get:function(){return this._recorder}}],[{key:"_canSendReplay",value:function(t,e,r){if(!r)return!1;var n=!t&&0===(null==e?void 0:e.err),o=Object.fromEntries(Object.entries(r).map((function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,s=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ad(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ad(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=e[0],n=e[1];return[r.toLowerCase(),String(n).trim()]}))),i="true"===o["rollbar-replay-enabled"]&&"0"!==o["rollbar-replay-ratelimit-remaining"];return n&&i}}]);var e,r,n,o}();me.setComponents({telemeter:Ae,instrumenter:Ke,wrapGlobals:function(t,e,r){if(t){var n,o,i="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(n=0;n<i.length;++n)t[o=i[n]]&&t[o].prototype&&qe(e,t[o].prototype,r)}},scrub:Le,truncation:ar,tracing:sn,replay:yd});var md=me,gd="undefined"!=typeof window&&window._rollbarConfig,bd=gd&&gd.globalAlias||"Rollbar",wd="undefined"!=typeof window&&window[bd]&&"function"==typeof window[bd].shimId&&void 0!==window[bd].shimId();if("undefined"==typeof window||window._rollbarStartTime||(window._rollbarStartTime=(new Date).getTime()),!wd&&gd){var kd=new md(gd);window[bd]=kd}else"undefined"!=typeof window?(window.rollbar=md,window._rollbarDidLoad=!0):"undefined"!=typeof self&&(self.rollbar=md,self._rollbarDidLoad=!0);var Sd=md;return n.default}()}).call(this,r(2).Buffer,r(7))},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(4),o=r(5),i=r(6);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),o=(t=s(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|p(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function h(t,e){var r=e.length<0?0:0|p(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(n)return U(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return _(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return A(this,e,r);case"latin1":case"binary":return E(this,e,r);case"base64":return x(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function m(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function g(t,e,r,n,o){var i,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var l=-1;for(i=r;i<s;i++)if(c(t,i)===c(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===u)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(c(t,i+h)!==c(e,h)){f=!1;break}if(f)return i}return-1}function b(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function w(t,e,r,n){return G(U(e,t.length-r),t,r,n)}function k(t,e,r,n){return G(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return k(t,e,r,n)}function I(t,e,r,n){return G(Y(e),t,r,n)}function C(t,e,r,n){return G(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function x(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,s,u,c=t[o],l=null,f=c>239?4:c>223?3:c>191?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(l=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return l(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):v.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(n,o),l=t.slice(e,r),f=0;f<s;++f)if(c[f]!==l[f]){i=c[f],a=l[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return m(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return m(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return w(this,t,e,r);case"ascii":return k(this,t,e,r);case"latin1":case"binary":return S(this,t,e,r);case"base64":return I(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function E(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function _(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=B(t[i]);return o}function R(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function T(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,r,n,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function M(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function L(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function j(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(t,e,r,n,i){return i||j(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,i){return i||j(t,0,r,8),o.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},u.prototype.readUInt8=function(t,e){return e||T(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||T(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||T(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||T(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||T(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||T(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||T(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||T(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||T(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||T(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||T(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||T(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||T(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||T(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||T(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||P(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);P(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);P(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=u.isBuffer(t)?t:U(new u(t,n).toString()),s=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Y(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r(3))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),a=n[0],s=n[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)e=o[t.charCodeAt(r)]<<18|o[t.charCodeAt(r+1)]<<12|o[t.charCodeAt(r+2)]<<6|o[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=o[t.charCodeAt(r)]<<2|o[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===s&&(e=o[t.charCodeAt(r)]<<10|o[t.charCodeAt(r+1)]<<4|o[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(l(t,a,a+16383>s?s:a+16383));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var o,i,a=[],s=e;s<r;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?o-1:0,h=r?-1:1,p=t[e+f];for(f+=h,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+t[e+f],f+=h,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),i-=c}return(p?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,u,c=8*i-o-1,l=(1<<c)-1,f=l>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[r+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[r+p]=255&a,p+=d,a/=256,c-=8);t[r+p-d]|=128*v}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=s(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}}]);
//# sourceMappingURL=bundle.js.map